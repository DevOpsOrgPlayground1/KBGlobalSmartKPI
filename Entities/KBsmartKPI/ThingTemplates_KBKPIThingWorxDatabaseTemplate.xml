<?xml version="1.0" encoding="UTF-8"?>
<Entities
 build="b628"
 majorVersion="9"
 minorVersion="0"
 modelPersistenceProviderPackage="MssqlPersistenceProviderPackage"
 revision="10"
 schemaVersion="1109"
 universal="password">
    <ThingTemplates>
        <ThingTemplate
         aspect.isExtension="true"
         baseThingTemplate="KBGenericMSSQLDatabaseTemplate"
         description=""
         documentationContent=""
         effectiveThingPackage="DatabaseThing"
         homeMashup=""
         inheritedValueStream=""
         lastModifiedDate="2022-11-03T02:54:46.266Z"
         name="KBKPIThingWorxDatabaseTemplate"
         projectName="KBsmartKPI"
         tags="KBThingWorxInstallationVocabulary:ExtensionSmartKPI"
         thingPackage=""
         valueStream="">
            <avatar></avatar>
            <DesignTimePermissions>
                <Create></Create>
                <Read></Read>
                <Update></Update>
                <Delete></Delete>
                <Metadata></Metadata>
            </DesignTimePermissions>
            <RunTimePermissions>
                <Permissions
                 resourceName="GetFullShiftTime_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineLocalizedStatusSelectedEntries">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetTargetOfPartsProduced">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="UpdateMachineStatusData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSOrderDataFromTimeLossRaw">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="PartsAtLine">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentOrLastShiftInfo">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetAllKpiDataForTruck">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineDataValue">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentShiftTimeMinus">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSProductionTarget">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetFullShiftTimeMinus">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetRailOrderFromConfirmationNumber">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetAllKpiDataForRail_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetUTCOffsetAtDate">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetTop1KpiData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastSpecificLogoutMessageTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentOrLastShiftInfo_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastLogoutMessageTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="*">
                    <PropertyRead>
                        <Principal
                         isPermitted="true"
                         name="KBDBServiceUser"
                         type="User"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBDBServiceUser"
                         type="User"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCumulativeDLP1DataMax">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="MergeMachineKeyValue">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBLocalAdministrators"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="LogOffAllUsersFromStation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSTimeLossRawDataPartialConsolidated">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetFullShiftTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="DeleteMachineKeyValueData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBLocalAdministrators"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineListOfParts">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetRailOrderFromPartNumberAndOperation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetSingleKpiUtilizationOee2Truck">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetRailOrderFromNcProgram">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetFullShiftTimeMinus_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSTimeLossRawDataPartial">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineLocalizedStatusEntries">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetAllKpiDataForRail">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetL1andL0FromL2Status">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineStatusSelectedEntries">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetApoOrderGantData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineStaffData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentShiftTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSLoginTimeAtLine1">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    <Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineDataValuePropertyKey">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMESOrderData2">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSProductionTargetDetail">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetSAPPMValueData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSUsersLoginListAtLine">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetProducedParts">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetKpiDataForRail">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineStatusEntries">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCumulativeDLP1Data2">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCumulativeDLP1Data">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSTimeLossRawData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineAllStationStaff">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineAllStationStaffPerTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSLoginTimeAtLineSum">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetSAPPMValueAllData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetKpiDataForTruck">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetEarliestPlannedOrdersByStation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLatestPlannedOrdersByStation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetDBOrderDataForKanban">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="eKanban"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddMachineMessageToDataTable">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSLoginTimeAtLine1">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineLocalizedStatusSelectedEntries">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCulminatedNumberOfParts">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetOrderData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetStationStaffLogonNumberPerStation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetSumOfPartsPerMachineAndTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
            </RunTimePermissions>
            <VisibilityPermissions>
                <Visibility>
                    <Principal
                     isPermitted="true"
                     name="KBBackGroundWorker"
                     type="Organization"></Principal>
                    <Principal
                     isPermitted="true"
                     name="KBOrganization"
                     type="Organization"></Principal>
                </Visibility>
            </VisibilityPermissions>
            <ConfigurationTableDefinitions></ConfigurationTableDefinitions>
            <ConfigurationTables>
                <ConfigurationTable
                 dataShapeName=""
                 description="JDBC Settings"
                 isMultiRow="false"
                 name="ConnectionInfo"
                 ordinal="0">
                    <DataShape>
                        <FieldDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="SELECT NOW()"
                             baseType="STRING"
                             description="Connection test string/query"
                             name="connectionValidationString"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="jdbc:mydb:/server:port/database?param=value"
                             aspect.friendlyName="JDBC Connection String"
                             baseType="STRING"
                             description="JDBC Connection URL"
                             name="jDBCConnectionURL"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="com.yourdatabase.yourDriver"
                             aspect.friendlyName="JDBC Driver Class Name"
                             baseType="STRING"
                             description="JDBC Driver Class Name"
                             name="jDBCDriverClass"
                             ordinal="0"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="5.0"
                             aspect.friendlyName="Maxium Number of Connections"
                             baseType="NUMBER"
                             description="Maximum number of connections in the pool"
                             name="maxConnections"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.friendlyName="Database Password"
                             baseType="PASSWORD"
                             description="Database password"
                             name="password"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.friendlyName="Database User Name"
                             baseType="STRING"
                             description="Database user name"
                             name="userName"
                             ordinal="4"></FieldDefinition>
                        </FieldDefinitions>
                    </DataShape>
                    <Rows>
                        <Row>
                            <connectionValidationString>
                            <![CDATA[
                            select GETDATE()
                            ]]>
                            </connectionValidationString>
                            <jDBCConnectionURL>
                            <![CDATA[
                            jdbc:sqlserver://host\\instance:1433;databaseName=name;applicationName=Thingworx;
                            ]]>
                            </jDBCConnectionURL>
                            <jDBCDriverClass>
                            <![CDATA[
                            com.microsoft.sqlserver.jdbc.SQLServerDriver
                            ]]>
                            </jDBCDriverClass>
                            <maxConnections>5.0</maxConnections>
                            <password></password>
                            <userName></userName>
                        </Row>
                    </Rows>
                </ConfigurationTable>
                <ConfigurationTable
                 dataShapeName=""
                 description="Connection Monitoring Settings"
                 isMultiRow="false"
                 name="ConnectionMonitoring"
                 ordinal="0">
                    <DataShape>
                        <FieldDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="30000.0"
                             aspect.friendlyName="Monitor Rate (seconds)"
                             baseType="NUMBER"
                             description="Monitor rate in milliseconds"
                             name="connectionMonitorRate"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.friendlyName="Enable Monitoring"
                             baseType="BOOLEAN"
                             description="Enable connection monitoring"
                             name="enableMonitor"
                             ordinal="0"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="1.0"
                             aspect.friendlyName="Number of Retries"
                             baseType="NUMBER"
                             description="Number of retries"
                             name="numberOfRetries"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="2000.0"
                             aspect.friendlyName="Retry Delay (milliseconds)"
                             baseType="NUMBER"
                             description="Retry delay in milliseconds"
                             name="retryDelay"
                             ordinal="3"></FieldDefinition>
                        </FieldDefinitions>
                    </DataShape>
                    <Rows>
                        <Row>
                            <connectionMonitorRate>30000.0</connectionMonitorRate>
                            <enableMonitor>false</enableMonitor>
                            <numberOfRetries>1.0</numberOfRetries>
                            <retryDelay>2000.0</retryDelay>
                        </Row>
                    </Rows>
                </ConfigurationTable>
                <ConfigurationTable
                 dataShapeName=""
                 description="Field/Column Name Aliases"
                 isMultiRow="true"
                 name="ColumnAliases"
                 ordinal="1">
                    <DataShape>
                        <FieldDefinitions>
                            <FieldDefinition
                             aspect.friendlyName="Database Column Name"
                             baseType="STRING"
                             description="Database column name"
                             name="columnName"
                             ordinal="0"></FieldDefinition>
                            <FieldDefinition
                             aspect.friendlyName="Thingworx Field Name"
                             baseType="STRING"
                             description="Thingworx field name"
                             name="fieldName"
                             ordinal="1"></FieldDefinition>
                        </FieldDefinitions>
                    </DataShape>
                    <Rows></Rows>
                </ConfigurationTable>
            </ConfigurationTables>
            <PropertyBindings></PropertyBindings>
            <RemotePropertyBindings></RemotePropertyBindings>
            <RemoteServiceBindings></RemoteServiceBindings>
            <RemoteEventBindings></RemoteEventBindings>
            <AlertConfigurations></AlertConfigurations>
            <ThingShape>
                <PropertyDefinitions></PropertyDefinitions>
                <ServiceDefinitions>
                
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetStationPartCounter">
                        <ResultType
                         aspect.dataShape="KBKPIStationPartsDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>                
                
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="FillManualPartDataPropertyKeys">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddMachineFloatDataToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Comment"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Description"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="LowerLimit"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Unit"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="UpperLimit"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="Value"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ValueName"
                             ordinal="6"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddMachineMessageToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Description"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Message"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MessageType1"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MessageType2"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddMachineStatusToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Description"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SubStatus"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddMarkPmStatusAsSent">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SapPmResult"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddOrUpdateOperatorInputMachineDefinition">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="NUMBER"
                             description=""
                             name="SortingIndex"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SubStatus"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="INTEGER"
                             description=""
                             name="TimeLossInSec"
                             ordinal="7"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>

                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="Add columns of:&#xA;JSON, &#xA;externalIdent, &#xA;StatusType1"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddOrUpdateOperatorInputMachineDefinitionV2">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="externalIdent"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="JSON"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="SortingIndex"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType1"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SubStatus"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="TimeLossInSec"
                             ordinal="7"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>

                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddProcessFloatDataJsonToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="JSON"
                             ordinal="0"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddProcessFloatDataToBufferDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="JSON"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Type"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddProcessFloatDataToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Comment"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Description"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="LowerLimit"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TrackingNumber"
                             ordinal="13"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Unit"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="UpperLimit"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="Value"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ValueName"
                             ordinal="6"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddProcessFloatDataToErrorBufferDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="JSON"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Reason"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Type"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddQualityResultsToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBRateOfQualityDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="KBRateOfQualityData"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="See https://knorrbremsegroup.sharepoint.com/sites/knorr_bremsesmartproduction/Wiki/Confirm%20produced%20parts.aspx"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddQualityResultToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="false"
                             baseType="BOOLEAN"
                             description=""
                             name="confirmedToSAP"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="false"
                             baseType="BOOLEAN"
                             description=""
                             name="confirmToSAP"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description="Date of Production"
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue=""
                             baseType="STRING"
                             description=""
                             name="EmployeeID"
                             ordinal="90"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description="OK/NOK decision"
                             name="isPartOK"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description="Must be devided in two cases:  ​If last station in line complete product will be confirmed for related line --&gt; ​machine/assembly line thing name Thingworx Template KBLocalMachineThingTemplate If not last station in line operation will be confirmed for related line --&gt; ​station line thing name Thingworx Template KBLocalStationThingTemplate. Parallel stations (same operation) must be named differently!"
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="INTEGER"
                             description="Number of parts to confirm, typically 1 piece"
                             name="NumberOfParts"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="​​Optional: order number​ but needed for SAP confirmation, for Truck also needed for OEE calculation --&gt; tgmax reference"
                             name="OrderNumber"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="Optional: part number"
                             name="PartNumber"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="SAPconfirmationResult"
                             ordinal="13"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="SAPOperationNumber"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="If scrap --&gt; reason (​optional)"
                             name="ScrapReason"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="Optional: serial number"
                             name="SerialNumber"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="default"
                             aspect.isRequired="true"
                             baseType="STRING"
                             description="station line thing name Thingworx Template KBLocalStationThingTemplate. Parallel stations (same operation) must be named differently!"
                             name="Station"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="NUMBER"
                             description=""
                             name="timePerPartSec"
                             ordinal="14"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="See https://knorrbremsegroup.sharepoint.com/sites/knorr_bremsesmartproduction/Wiki/Confirm%20produced%20parts.aspx"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddQualityResultToDataTable_Worker">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="false"
                             baseType="BOOLEAN"
                             description=""
                             name="confirmedToSAP"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="false"
                             baseType="BOOLEAN"
                             description=""
                             name="confirmToSAP"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description="Date of Production"
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description="OK/NOK decision"
                             name="isPartOK"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue=""
                             baseType="STRING"
                             description=""
                             name="JSON"
                             ordinal="90"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description="Must be devided in two cases:  ​If last station in line complete product will be confirmed for related line --&gt; ​machine/assembly line thing name Thingworx Template KBLocalMachineThingTemplate If not last station in line operation will be confirmed for related line --&gt; ​station line thing name Thingworx Template KBLocalStationThingTemplate. Parallel stations (same operation) must be named differently!"
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="INTEGER"
                             description="Number of parts to confirm, typically 1 piece"
                             name="NumberOfParts"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="​​Optional: order number​ but needed for SAP confirmation, for Truck also needed for OEE calculation --&gt; tgmax reference"
                             name="OrderNumber"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="Optional: part number"
                             name="PartNumber"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="SAPconfirmationResult"
                             ordinal="13"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="SAPOperationNumber"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="If scrap --&gt; reason (​optional)"
                             name="ScrapReason"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description="Optional: serial number"
                             name="SerialNumber"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="default"
                             aspect.isRequired="true"
                             baseType="STRING"
                             description="station line thing name Thingworx Template KBLocalStationThingTemplate. Parallel stations (same operation) must be named differently!"
                             name="Station"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="NUMBER"
                             description=""
                             name="timePerPartSec"
                             ordinal="14"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="INTEGER"
                             description="UTC Time Offset"
                             name="UtcTimeOffset"
                             ordinal="99"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddSAPPMKeyValueData">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTimeValue"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Description"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="FloatValue"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isDateTimeValue"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isFloatValue"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isTextValue"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantId"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey1"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey2"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TextValue"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddShiftDataToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Name"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="plant"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Qualifier"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="100.0"
                             aspect.isRequired="false"
                             baseType="NUMBER"
                             description=""
                             name="utilization"
                             ordinal="7"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddTestBenchDataJsonToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="JSON"
                             ordinal="0"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteTestBenchData">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TrackingNumber"
                             ordinal="0"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddCVSAdgTestBenchDataJsonToDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="JSON"
                             ordinal="0"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddUpdateMachineStatusDataProcessIdentirfier">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="CalulateKPIsForSingleMachine">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="CalculationBase"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="0"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="CalulateKPIsForSingleArea">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="CalculationBase"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machines"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Area"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="0"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="CalulateOngoingKPIs">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="CalulateTargets">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="CheckFastemsOrder">
                        <ResultType
                         baseType="NUMBER"
                         description="Check Fastems Order"
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPPlantId"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SapThing"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="CreateAutoSetStatusForSinglePalletMachine">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteAtossStaffMessageEntries">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Day"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteMachineKeyValueData">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Key"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey1"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey2"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteMachineStatusFromDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteManualPartDataPartNumber">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumberToDelete"
                             ordinal="0"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteOperatorInputMachineDefinition">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SubStatus"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteProcessFloatDataFromBufferDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteSAPPMKeyValueData">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantId"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="DeleteShiftDatasFromDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="endDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="plant"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="startDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="ExecuteGetMachineStatusFromNDNC__BUD_ONLY">
                        <ResultType
                         baseType="NUMBER"
                         description="Call only from BUD local System!!"
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="ExportTable_shiftCalendar">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="ExportTable_smartKPI">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="ExportTable_smartKPIMachineKeyValueData">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="ExportTable_smartKPIMachineMessageData">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="ExportTable_smartKPIMachineStatusData">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="FillTEMPSmartKPIFullShift">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetActualAndTarget">
                        <ResultType
                         aspect.dataShape="KBActualTargetDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="0.0"
                             baseType="NUMBER"
                             description=""
                             name="Actual"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="0.0"
                             baseType="NUMBER"
                             description=""
                             name="Target"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Local Order Info"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetActualOrdersByStation">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineThingName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="NextNweek"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetActualPartsWithDateDiff">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="DateEnd"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="DateStart"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetActualPartsWithRQ">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="DateEnd"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="DateStart"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetActualPartsWithRQForOrder">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="DateEnd"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="DateStart"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="%"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetAllKpiDataForRail">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetAllKpiDataForTruck">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetAllMachineMessages">
                        <ResultType
                         aspect.dataShape="KBMachineMessagePADataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetAllMachineStatus">
                        <ResultType
                         aspect.dataShape="KBMachineStatusPADataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetAllProcessDataFromDBforSerialNumber">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description="Use % to select all (it's done with like)"
                             name="ProcesDataType"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetAllProcessDataFromDBforTrackingNumber">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description="Use % to select all (it's done with like)"
                             name="ProcesDataType"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TrackingNumber"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetApoOrderGantData">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="MachineThing"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCAPSConfigurationInfo">
                        <ResultType
                         aspect.dataShape="KBOrderHeaderDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCAPSOrderRowsCount">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCAPSUpdatedEmployees">
                        <ResultType
                         aspect.dataShape="KBEmployeeHeaderDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCAPSUpdatedOrders">
                        <ResultType
                         aspect.dataShape="KBOrderHeaderDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCulminatedNumberOfNOKParts">
                        <ResultType
                         aspect.dataShape="KBProducedPartsDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCulminatedNumberOfParts">
                        <ResultType
                         aspect.dataShape="KBProducedPartsDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCumulativeDLP1Data">
                        <ResultType
                         aspect.dataShape="KBCVSMachineDLP1ReportDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCumulativeDLP1Data2">
                        <ResultType
                         aspect.dataShape="KBCVSMachineDLP1ReportDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCumulativeDLP1DataMax">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBCVSMachineDLP1ReportDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="DLP1Infotable"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCurrentOrLastShiftInfo">
                        <ResultType
                         aspect.dataShape="KBCurrentOrLastShiftInfoDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="MachineThing"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCurrentShiftTime">
                        <ResultType
                         aspect.dataShape="KBShiftTimeDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="Date"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCurrentShiftTimeMinus">
                        <ResultType
                         aspect.dataShape="KBShiftTimeDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="date"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="Iterations"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSHourlyOutput">
                        <ResultType
                         aspect.dataShape="KBDailyManagementSystemHourlyOutputDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="LineThingName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSLoginTimeAtLine1">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSMachineProcessingDeviationData">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSOrderDataFromTimeLossRaw">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBCVSTimeLossRawDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="TimeLossRawDataInfotable"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSProductionShiftFactor">
                        <ResultType
                         aspect.dataShape="KBCVSProductionShiftFactorDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSProductionTarget">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="LineThingName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSProductionTargetDetail">
                        <ResultType
                         aspect.dataShape="KBCVSProductionTargetDetailDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="LineThingName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawData">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataForMultipleMachines">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataMultipleMachineDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBNameForMenuDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="MachineLists"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="QUERY"
                             description=""
                             name="Query"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataMultipleMachine">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataMultipleMachineDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataPartial">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataPartialConsolidated">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartName"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
					<ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataWithTimezoneOffset">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataToExcel">
                        <ResultType
                         baseType="HYPERLINK"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataWithTimeSeparation">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataShape2"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSUsersLoginListAtLine">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDBOrderDataForKanban">
                        <ResultType
                         aspect.dataShape="KBOrderKanbanDatashape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDecriptedOperator">
                        <ResultType
                         aspect.dataShape="KBGetStaffList"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBGetStaffList"
                             baseType="INFOTABLE"
                             description=""
                             name="InputInfotable"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDecryptedOperatorStation">
                        <ResultType
                         aspect.dataShape="KBGetStaffStationList"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBGetStaffList"
                             baseType="INFOTABLE"
                             description=""
                             name="InputInfotable"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Local Shift Info"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDownTimeShiftInfoByMachine">
                        <ResultType
                         aspect.dataShape="KBLocalShiftforShowDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="NextNweek"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantCode"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPMachineName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Local Shift Info"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDownTimeShiftInfoWithMachine">
                        <ResultType
                         aspect.dataShape="KBLocalShiftInfoWithLabelDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="NextNweek"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantCode"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPMachineName"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDowntimeSingleTypeData">
                        <ResultType
                         aspect.dataShape="KBTimeLossesListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBTimeLossesListDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="DowntimeInfotable"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Group"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             baseType="BOOLEAN"
                             description=""
                             name="NoProduction"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Type"
                             ordinal="6"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDowntimesWithLabel">
                        <ResultType
                         aspect.dataShape="KBTimeLossesListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Group"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="OverlapSteps"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="StepInMinutes"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBTimeLossesListDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="TimeLosses"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetDowntimeTypesList">
                        <ResultType
                         aspect.dataShape="KBTimeLossesTypeListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBTimeLossesListDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="DowntimeInfotable"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Group"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             baseType="BOOLEAN"
                             description=""
                             name="NoProduction"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Local Order Info"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetEarliestPlannedOrdersByStation">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPMachineName"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetEmployeeData">
                        <ResultType
                         aspect.dataShape="KBEmployeeResultDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="EmployeeNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="undefined"
                             aspect.isRequired="true"
                             baseType="STRING"
                             description="leave Property Key = undefined if you want to get all Key/Value Pairs"
                             name="PropertyKey"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetFloatDataNOKReasonFiltered">
                        <ResultType
                         aspect.dataShape="FloatDataNOKReasonDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="FloatDataNOKReasonDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="FloatDataNOKReasonDataInfoTable"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcesDataType"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetFloatDataNOKReasons">
                        <ResultType
                         aspect.dataShape="FloatDataNOKReasonDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetFloatDataNOKReasonSum">
                        <ResultType
                         aspect.dataShape="FloatDataNOKReasonSumDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="FloatDataNOKReasonDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="FloatDataNOKReasonDataInfoTable"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="LineOnly"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="Top10"
                             ordinal="6"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetFullShifts">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetFullShiftTime">
                        <ResultType
                         aspect.dataShape="KBShiftTimeDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="date"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMaintenanceKPIValues">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KPITimeBase"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetFullShiftTimeMinus">
                        <ResultType
                         aspect.dataShape="KBShiftTimeDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="date"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="INTEGER"
                             description="Number of shifts to go back"
                             name="Iterations"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetFullShiftTimeMinus_With_UTC_Time_Offset">
                        <ResultType
                         aspect.dataShape="KBShiftTimeDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="date"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="INTEGER"
                             description="Number of shifts to go back"
                             name="Iterations"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="INTEGER"
                             description="UTC Time Offset"
                             name="UtcTimeOffset"
                             ordinal="99"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetIoNioDataLast24h">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetIoNioDataLast30Days">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetIoNioDataLast7Days">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiData">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPICalculationBase"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiDataForRail">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiDataForTruck">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiDataTruckLast24h">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiDataTruckLast30Days">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiDataTruckLast7Days">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiLimitsForLines">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetKpiLimitsIoNioForLines">
                        <ResultType
                         aspect.dataShape="KBKpiDataFromDbDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="IOName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NIOName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetL1andL0FromL2Status">
                        <ResultType
                         aspect.dataShape="KBLevelStatusResultDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="L2Status"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastHourProductionTakt">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastLogoutMessageTime">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastMachineLocalizedStatusEntries">
                        <ResultType
                         aspect.dataShape="KBMachineStatusForCVSOIDataShape1"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="Default"
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="language"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="MachineName"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastMachineLocalizedStatusSelectedEntries">
                        <ResultType
                         aspect.dataShape="KBMachineStatusForCVSOIDataShape2"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="language"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineName"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="ShowProductive"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastMachineStatus">
                        <ResultType
                         aspect.dataShape="KBLastMachineStatusDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastMachineStatusEntries">
                        <ResultType
                         aspect.dataShape="KBMachineStatusForCVSOIDataShape1"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="MachineName"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastMachineStatusFromDate">
                        <ResultType
                         aspect.dataShape="KBLastMachineStatusDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="RelatedDateTime"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastMachineStatusFromDB">
                        <ResultType
                         aspect.dataShape="KBLastMachineStatusDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastMachineStatusSelectedEntries">
                        <ResultType
                         aspect.dataShape="KBMachineStatusForCVSOIDataShape2"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastProcessDataFromDBforSerialNumber">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description="Use % to select all (it's done with like)"
                             name="ProcesDataType"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastProcessDataFromDBforTrackingNumber">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description="Use % to select all (it's done with like)"
                             name="ProcesDataType"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TrackingNumber"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastSpecificLogoutMessageTime">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Local Order Info"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLatestPlannedOrdersByStation">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPMachineName"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getLevel1SapPmMsgsByStation">
                        <ResultType
                         aspect.dataShape="KBSapPMStatusDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machineThing"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="stationThing"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getLevel1SapPmStatusByStation">
                        <ResultType
                         aspect.dataShape="KBSapPMStatusDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machineThing"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="stationThing"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getLevel2SapPmMsgsByStation">
                        <ResultType
                         aspect.dataShape="KBSapPMStatusDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machineThing"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="stationThing"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="subStatus"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getLevel2SapPmStatusByStation">
                        <ResultType
                         aspect.dataShape="KBSapPMStatusDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machineThing"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="stationThing"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="subStatus"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetListOfPossibleStations">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKeyV1"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKeyV2"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TextValue"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLosses">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="endDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="startDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLossesForPareto">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="CalulateTop10"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineAllStationStaff">
                        <ResultType
                         baseType="INTEGER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineCurrentOrder">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="CurrentDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Material"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineCurrentOrderNew">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="CurrentDateTime"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineData">
                        <ResultType
                         aspect.dataShape="KBMachineResultDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey1"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey2"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineDataValue">
                        <ResultType
                         aspect.dataShape="KBMachineKeyValueDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey1"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey2"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineDataValuePropertyKey">
                        <ResultType
                         aspect.dataShape="KBDLP1MachineValueDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineDowntimeData">
                        <ResultType
                         aspect.dataShape="KBTimeLossesListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineFloatDataByTypeFromDatabase">
                        <ResultType
                         aspect.dataShape="KBSmartKPIMachineFloatDataFromDataTableDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineDataType"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="MachineDateTimeFrom"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="MachineDateTimeTo"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineFloatDataByTypeFromDatabaseV2">
                        <ResultType
                         aspect.dataShape="KBSmartKPIMachineFloatDataFromDataTableDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineComment"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineDataType"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="MachineDateTimeFrom"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="MachineDateTimeTo"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineFloatDataFromDatabase">
                        <ResultType
                         aspect.dataShape="KBSmartKPIMachineFloatDataFromDataTableDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="MachineDateTimeFrom"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="MachineDateTimeTo"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineKeyValueMachineName">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyTextValue"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineLastProcessData">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcessDataType"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineListOfParts">
                        <ResultType
                         aspect.dataShape="EntityList"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineMessagesPerType">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MessageType2"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getMachineMTKPIs">
                        <ResultType
                         aspect.dataShape="KBMTKPIDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineNameOfFL">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="FunctionalLocation"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineNOKPartMessages">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineNOKPartTop10Messages">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineRetestMessages">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineRetestTop10Messages">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineReworkMessages">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineReworkTop10Messages">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachinesForStatusVisualization">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineShiftData">
                        <ResultType
                         aspect.dataShape="KBShiftOverviewDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineStaffData">
                        <ResultType
                         aspect.dataShape="KBStaffDataDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineStatus">
                        <ResultType
                         aspect.dataShape="KBLastMachineStatusDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineStatusTimeSum">
                        <ResultType
                         aspect.dataShape="KBSumMachineStatusDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachinesWithProcessDataFloatForVisualization">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachinesWithProcessDataFloatFromDB">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachinesWithProcessDataForVisualization">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachinesWithProcessDataFromDB">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineThingList">
                        <ResultType
                         aspect.dataShape="GenericStringList"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMaterialRelatedFixtures">
                        <ResultType
                         aspect.dataShape="KBLocalFixturesDataShape"
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="MaterialName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             aspect.thingTemplate="KBLocalPlantThingTemplate"
                             baseType="THINGNAME"
                             description=""
                             name="PlantThing"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMESOrderData">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="DaysAgo"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="WorkCenter"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMESOrderData2">
                        <ResultType
                         aspect.dataShape="KBOrderAssignmentDatashape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="DaysAgo"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Workcenter"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMessagesForParetoMashup">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="CalulateTop10"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Type"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetNamedPartsForOrderWithRQ">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateEnd"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateStart"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartName"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetNewFastemsOrders">
                        <ResultType
                         aspect.dataShape="KBOrderKeyValueDataDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SAPWorkcenterNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetNewOrderData">
                        <ResultType
                         aspect.dataShape="KBOrderDataDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SAPPlantNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetNewOrderKeyValueData">
                        <ResultType
                         aspect.dataShape="KBOrderKeyValueDataDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SAPPlantNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetNumberOfProcessFloatData">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ValueName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOeeUtilizationRail">
                        <ResultType
                         aspect.dataShape="KBOeeUtilizationRailDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="CalculationBase"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="TimeEnd"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="TimeStart"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOperatorInputMachineDefinitionList">
                        <ResultType
                         aspect.dataShape="KBMachineLocalizedStatusDefinition1DataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SubStatus"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="Add columns of:&#xA; JSON, &#xA;externalIdent, &#xA;StatusType1"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOperatorInputMachineDefinitionListV2">
                        <ResultType
                         aspect.dataShape="KBMachineLocalizedStatusDefinition1DataShapeV2"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SubStatus"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>                    
                    
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOperatorInputMachineDefinitionList1">
                        <ResultType
                         aspect.dataShape="KBMachineLocalizedStatusDefinition1DataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOperatorInputMachineDefinitionSingleValue">
                        <ResultType
                         aspect.dataShape="KBMachineStatusDefinition1DataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOperatorInputMachineDistinctMachines">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Division"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="Retrieve list of operators and stations "
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOperatorList">
                        <ResultType
                         aspect.dataShape="KBGetStaffList"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="Retrieve list of operators and stations "
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOperatorStationList">
                        <ResultType
                         aspect.dataShape="KBGetStaffStationList"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOrderData">
                        <ResultType
                         aspect.dataShape="KBOrderResultDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="undefined"
                             aspect.isRequired="true"
                             baseType="STRING"
                             description="leave Property Key = undefined if you want to get all Key/Value Pairs"
                             name="PropertyKey"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOrderDetails">
                        <ResultType
                         aspect.dataShape="KBOrderResultDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOrderForConfirmationNumber">
                        <ResultType
                         aspect.dataShape="KBOrderForConfirmationNumberDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="ConfirmationNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOrderInfo">
                        <ResultType
                         aspect.dataShape="KBOrderInfoDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOrderNumber">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MaterialNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetPartsToConfirm">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetPlannedStaffFromOrders">
                        <ResultType
                         aspect.dataShape="KBOrderResultDataShape"
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetPlantOrderList">
                        <ResultType
                         aspect.dataShape="KBLocalOrderListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MaterialNumber"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OperationNumber"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="PlantNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetPMEventToSending">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetPmMessages">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetprocessDataAsLineForTraceability">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProceeDataActual"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataAsLines">
                        <ResultType
                         aspect.dataShape="KBProcessDataAsLinesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             baseType="BOOLEAN"
                             description=""
                             name="isProcessDataDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             baseType="BOOLEAN"
                             description=""
                             name="isProcessDataFloat"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             baseType="BOOLEAN"
                             description=""
                             name="isProcessDataString"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataFloatPerTypeFromDB">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcessDataType"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataFloatTypesPerMachineForVisualization">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="This service will take process line data and will return content for the PDF.&#xA;service written by : Shyam Sharma (ext-sharmash)"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataForPDF">
                        <ResultType
                         baseType="STRING"
                         description="Output contains iframe tag data which will help to create html content for PDF."
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBProcessDataAsLinesDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="inputInfotable"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="This service will take process line data and will return content for the XML.&#xA;service written by : Shyam Sharma (ext-sharmash)"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataForXML">
                        <ResultType
                         baseType="XML"
                         description="Output contains iframe tag data which will help to create html content for PDF."
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBProcessDataAsLinesDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="inputInfotable"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataFromDB">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataInputParameterForVisualizationRepeater">
                        <ResultType
                         aspect.dataShape="KBLocalSmartKPIMachineLevelProcessDataRepeaterDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBMachineResultDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="ProcessDataTypes"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataPerTypeFromDB">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcessDataType"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessDataTypesPerMachineForVisualization">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProcessFloatDataFromBufferDataTable">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProducedParts">
                        <ResultType
                         aspect.dataShape="KBListOfProducedPartsDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProducedPartsWithoutSAPData">
                        <ResultType
                         aspect.dataShape="KBListOfProducedPartsDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProductiveTimeForOEE2">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="endDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="startDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProductiveTimeForParetoInHours">
                        <ResultType
                         aspect.dataShape="KBTimeLossesWithDecimalDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="HideProductiveState"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="Default"
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="Operator Screen"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="UseSubStatus"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProductiveTimeForParetoInMinutes">
                        <ResultType
                         aspect.dataShape="KBTimeLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDateTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="HideProductiveState"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="Default"
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDateTime"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="Operator Screen"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="UseSubStatus"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetProductiveTimeForUtilization">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="endDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="startDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetQualityResultsFromDataTable">
                        <ResultType
                         aspect.dataShape="KBQualityResultsFromDataTableDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="endDate"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KBMachineThing"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="startDate"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetRailNextUnproductiveStatusForSinglePalletMachine">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetRailOrderFromConfirmationNumber">
                        <ResultType
                         aspect.dataShape="KBOperatorScreenRailV2OrderFromSAP"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="ConfirmationNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetRailOrderFromNcProgram">
                        <ResultType
                         aspect.dataShape="KBOperatorScreenRailV2OrderFromSAP"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NcProgram"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetRailOrderFromPartNumberAndOperation">
                        <ResultType
                         aspect.dataShape="KBOperatorScreenRailV2OrderFromSAP"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Operation"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetRQDowntimeList">
                        <ResultType
                         aspect.dataShape="KBTimeLossesListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetSAPPlantID">
                        <ResultType
                         baseType="TEXT"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getSapPmMsgsByStation">
                        <ResultType
                         aspect.dataShape="KBSapPMStatusDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machineThing"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="stationThing"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getSapPmStatusByStation">
                        <ResultType
                         aspect.dataShape="KBSapPMStatusDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machineThing"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="stationThing"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetSAPPMValueAllData">
                        <ResultType
                         aspect.dataShape="KBSAPPMKeyValueDataShape1"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey1"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetSAPPMValueData">
                        <ResultType
                         aspect.dataShape="KBSAPPMKeyValueDataShape1"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey1"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetShiftDataForEventChart">
                        <ResultType
                         aspect.dataShape="KBShiftInfoForEventChartDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineSAP"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantSAP"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetShiftInfo">
                        <ResultType
                         aspect.dataShape="KBShiftInfoDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineSAP"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantSAP"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetSingleKpiUtilizationOee2Truck">
                        <ResultType
                         aspect.dataShape="KBSingleKpiUtilizationOee2TruckDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetSmartKPIKepwareConnectorPointer">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Identifier"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="getStationMTKPIs">
                        <ResultType
                         aspect.dataShape="KBMTKPIDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetStationPartsWithRQ">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateEnd"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateStart"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetStationsFromOperator">
                        <ResultType
                         aspect.dataShape="KBNameForMenuDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBGetStaffList"
                             baseType="INFOTABLE"
                             description=""
                             name="ListOfStaff"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OperatorSelected"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetStationStaffLogonListPerStation">
                        <ResultType
                         aspect.dataShape="KBStationStaffLogonListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="SelectLoggedOffUsers"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="SelectLoggedOnUsers"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetStationStaffLogonNumberPerStation">
                        <ResultType
                         aspect.dataShape="KBStationStaffLogonListDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTimeDiff">
                        <ResultType
                         aspect.dataShape="KBTimeDiffDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="endDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="startDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTimeLosses">
                        <ResultType
                         aspect.dataShape="KBTimeLossDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="true"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description=""
                             name="hideProductiveState"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description=""
                             name="isLevel2"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTimeLossesFromDB">
                        <ResultType
                         aspect.dataShape="KBTimeLossDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTimeLossesL0">
                        <ResultType
                         aspect.dataShape="KBTimeLossDB2DataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="hideProductiveState"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isLevel2"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StationThing"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBTimeLossDBDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="TimeLossesInfoTable"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTimeLossesLevel0">
                        <ResultType
                         aspect.dataShape="KBTimeLossDBDataShape2"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBTimeLossDBDataShape2"
                             baseType="INFOTABLE"
                             description=""
                             name="TimeLossesInfoTable"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTimeLossesWithType">
                        <ResultType
                         aspect.dataShape="KBTimeLossDBDataShape2"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="hideProductiveState"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isLevel2"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Language"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop10Losses">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="endDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="startDate"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1IoNioDataDay">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="IOName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NIOName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1IoNioDataMonth">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="IOName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NIOName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1IoNioDataWeek">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="IOName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NIOName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1IoNioDataYear">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="IOName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NIOName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1KpiData">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPICalculationBase"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="KPITime"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1KpiDataDay">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1KpiDataMonth">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1KpiDataWeek">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop1KpiDataYear">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop30ProcessDataFromDB">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcessDataType"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3IoNioDataDay">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3IoNioDataMonth">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3IoNioDataWeek">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3IoNioDataYear">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3KpiTruckDataDay">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3KpiTruckDataMonth">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3KpiTruckDataWeek">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetTop3KpiTruckDataYear">
                        <ResultType
                         aspect.dataShape="KBKpiSummaryShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetUpdatedMachineFloatDataFromDatabase">
                        <ResultType
                         aspect.dataShape="KBSmartKPIMachineFloatDataFromDataTableDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="MachineDataType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetUpdatedMachineStatusDataFromDatabase">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="StatusType"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetUpdatedSmartKPIDataFromDatabase">
                        <ResultType
                         aspect.dataShape="KBSmartKPIDataFromDataTableDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetUTCOffsetAtDate">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetUtilizationRail">
                        <ResultType
                         aspect.dataShape="KBUtilizationRailDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="CalculationBase"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="KPIType"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="TimeEnd"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="TimeStart"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetUtilizationRailWithPercent">
                        <ResultType
                         aspect.dataShape="KBUtilizationRailDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="CalculationBase"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="KPIType"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="TimeEnd"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="TimeStart"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetUtilizationTruck">
                        <ResultType
                         aspect.dataShape="KBAssetAdvisorUtilizationDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KPIName"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KPITimeBase"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>   
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineDowntimeStatisticsSummary">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="KPIDateTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="KPIDateTimeEnd"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KPITimeBase"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineDowntimeStatisticLastYear">
                        <ResultType
                         aspect.dataShape="KBAssetAdvisorMachineDowntimeStatisticsTWXDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="KPITimeBase"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>                 
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetWCRelatedOrderProperty">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Property"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Workcenter"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetWeeklyDowntimeStatisic">
                        <ResultType
                         aspect.dataShape="KBWeeklyDowntimeStatisicDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="MachineThing"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="StationThing"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Local Shift Info"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetWorkBreakShiftInfoByMachine">
                        <ResultType
                         aspect.dataShape="KBLocalShiftforShowDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="NextNweek"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantCode"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPMachineName"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Local Shift Info"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetWorkBreakShiftInfoWithMachine">
                        <ResultType
                         aspect.dataShape="KBLocalShiftInfoWithLabelDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="NextNweek"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PlantCode"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPMachineName"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="InsertOrUpdateMachineData">
                        <ResultType
                         baseType="INTEGER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isMachineActive"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBMachineKeyValueDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="MachineKeyValues"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="updateDataIfMachineIsActive"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="InsertOrUpdateOrderData">
                        <ResultType
                         baseType="INTEGER"
                         description="Return value 10: OK, Return value 11: NOK, undefined Reason, Return value 12: NOK, production started"
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             baseType="BOOLEAN"
                             description=""
                             name="isProductionStarted"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBOrderKeyValueDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="OrderKeyValues"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="NN"
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="PlantId"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="true"
                             baseType="BOOLEAN"
                             description=""
                             name="updateDataIfProductionStarted"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="InsertOrUpdateUserData">
                        <ResultType
                         baseType="INTEGER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isUserActive"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="updateDataIfUserIsActive"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="User"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="KBUserKeyValueDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="UserKeyValues"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="isApoWorkingTime">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPWorkcenternumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="IsMachineActive">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="isOrderKeyValueDataCopied">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="isProductionStarted">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="LabelPrintOrderNumber">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SAPWorkcenterNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="LabelPrintSerialNumber">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             baseType="BOOLEAN"
                             description=""
                             name="showAlreadyPrintedSerialNumbers"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MarkPartAsConfirmed">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SAPconfirmationResult"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MarkPmStatusAsSent">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="SapPmResult"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeMachine">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isMachineActive"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeMachineKeyValue">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTimeValue"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="FloatValue"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isDateTimeValue"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isFloatValue"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isTextValue"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Key"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey1"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertySubKey2"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TextValue"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeOrder">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isProductionStarted"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="NN"
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="PlantId"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeOrderWithoutProductionStatusChange">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isProductionStarted"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="NN"
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="PlantId"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeOrderKeyValue">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTimeValue"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="FloatValue"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isDateTimeValue"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isFloatValue"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isTextValue"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Key"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="NN"
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="PlantId"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TextValue"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="Orders"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeOrderKeyValueWithNonStandardKey">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTimeValue"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="FloatValue"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isDateTimeValue"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isFloatValue"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isTextValue"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Key"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Key1"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Key2"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="NN"
                             aspect.isRequired="false"
                             baseType="STRING"
                             description=""
                             name="PlantId"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TextValue"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeUser">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isUserActive"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="User"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="MergeUserKeyValue">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="DateTimeValue"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="FloatValue"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isDateTimeValue"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isFloatValue"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="isTextValue"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Key"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TextValue"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="User"
                             ordinal="8"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="For a give next N week, base on operation, to get its previous or next N week"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="nextNweekOP">
                        <ResultType
                         baseType="INTEGER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="increment"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="INTEGER"
                             description=""
                             name="NextNweek"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="NOKReasonsForMashup">
                        <ResultType
                         aspect.dataShape="KBLossesDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.dataShape="KBLossesDataShape"
                             aspect.isRequired="true"
                             baseType="INFOTABLE"
                             description=""
                             name="NOKReasons"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="ParseXMLString">
                        <ResultType
                         baseType="XML"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="&lt;KBTestBenchFileRepository&gt;&lt;MatNr&gt;material123&lt;/MatNr&gt;&lt;NumberOfParts&gt;1&lt;/NumberOfParts&gt;&lt;SerialNr&gt;seria/l2 xx34&lt;/SerialNr&gt;&lt;ProductionDateTime&gt;1617926400000&lt;/ProductionDateTime&gt;&lt;OrderNr&gt;1234567890&lt;/OrderNr&gt;&lt;ProtocolType&gt;ET VI&lt;/ProtocolType&gt;&lt;Result&gt;PASS&lt;/Result&gt;&lt;/KBTestBenchFileRepository&gt;"
                             baseType="STRING"
                             description=""
                             name="inputXML"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="PartInfoBoardProcessData">
                        <ResultType
                         aspect.dataShape="KBProcesDatafromDBDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="PartInfoboardProcessDataForTraceability">
                        <ResultType
                         aspect.dataShape="KBPartInfoTraceabilityDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="PartInfoboardProcessDataForTraceabilityToExcel">
                        <ResultType
                         baseType="HYPERLINK"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="PartInfoBoardProduction">
                        <ResultType
                         aspect.dataShape="KBPartInfoBoardProductionDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="PartsAtLine">
                        <ResultType
                         aspect.dataShape="KBPartsAtLineDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description="Rail OIV2 Orders List per Station"
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="RailOIV2OrdersInfo">
                        <ResultType
                         aspect.dataShape="KBOperatorScreenRailV2OrdersList"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="SetSmartKPIKepwareConnectorPointer">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="0"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Identifier"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="tempCmdshiftCalendar">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="tempJS">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="tempQueryshiftCalendar">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="updateCAPSOrderError">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="CAPSOrderError"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdateInactiveDevices">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="UpdateTime"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="updateIsCAPSEmployeeDataUpdated">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="EmployeeNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description=""
                             name="isCAPSDataUpdated"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="updateIsCAPSOrderDataUpdated">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description=""
                             name="isCAPSDataUpdated"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="updateIsCAPSOrderError">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="false"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description=""
                             name="isCAPSOrderError"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category="CAPS"
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="updateIsCAPSProductionFinalized">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.defaultValue="true"
                             aspect.isRequired="true"
                             baseType="BOOLEAN"
                             description=""
                             name="isCAPSProductionFinalized"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdateMachineFloatDataDatabase_RemoveUpdateIdentifier">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdateMachineStatusData">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NewStatus"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="NewSubStatus"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdateMachineStatusDataProcessIdentirfier">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Status"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdateMachineStatusToCreated">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="NUMBER"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdatePartsPerPalette">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Operation"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartsPerPalette"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="System"
                             ordinal="4"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdateSmartKPIDatabase_RemoveUpdateIdentifier">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="LONG"
                             description=""
                             name="Id"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="UpdateTimePerPartAtDataTable">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions></ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="valLevel2SapPmStatusOnStation">
                        <ResultType
                         aspect.dataShape="DBCountDS"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="machineThing"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="stationThing"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="status"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetLastDBRecordedOrder">
                        <ResultType
                         baseType="STRING"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetBOMFromOrderData">
                        <ResultType
                         aspect.dataShape="KBBOMFromOrderDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineFloatDataNOKReasonSum">
                        <ResultType
                         aspect.dataShape="FloatDataNOKReasonSum2DataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             aspect.dataShape="FloatDataNOKReasonDataShape"
                             baseType="INFOTABLE"
                             description=""
                             name="FloatdataNOKReasonDataInfoTable"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="LineOnly"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="BOOLEAN"
                             description=""
                             name="Top10"
                             ordinal="6"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetNOKPartsFromMAData">
                        <ResultType
                         aspect.dataShape="KBNOKPartsFromMADataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TestBench1"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TestBench2"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TestBench3"
                             ordinal="5"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TestBench4"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TestBench5"
                             ordinal="7"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetActualSAPScheduledOrder">
                        <ResultType
                         aspect.dataShape="KBSAPScheduledOrderDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="WorkCenter"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetStationRelatedOperationQty">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PropertyKey1"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="WorkCenter"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetStartEndOfPartProduction">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineLastProcessData2">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcessDataType"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddProcessDateData">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="comment"
                             ordinal="14"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="description"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Identifier"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumberRevision"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="ProcesDataTargetValue"
                             ordinal="13"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcesDataType"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcesDataType2"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="ProcessDataDateTime"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             aspect.isRequired="true"
                             baseType="DATETIME"
                             description=""
                             name="ProductionTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TrackingNumber"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="AddProcessStringData">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="comment"
                             ordinal="14"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="description"
                             ordinal="11"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Identifier"
                             ordinal="6"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="OrderNumber"
                             ordinal="10"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumber"
                             ordinal="9"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="PartNumberRevision"
                             ordinal="12"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcesData"
                             ordinal="7"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcesDataTargetValue"
                             ordinal="13"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcesDataType"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ProcesDataType2"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="ProductionTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="SerialNumber"
                             ordinal="8"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="TrackingNumber"
                             ordinal="5"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSTimeLossRawDataNoParts">
                        <ResultType
                         aspect.dataShape="KBCVSTimeLossRawDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndDate"
                             ordinal="4"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartDate"
                             ordinal="3"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetOrderNumberFromConfirmation">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="ConfirmationNumber"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="FillTEMPSmartKPIFullShiftForMachine">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetSumOfPartsPerMachineAndTime">
                        <ResultType
                         aspect.dataShape="KBProductionPartsDataShape"
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetCVSLoginTimeAtLineSum">
                        <ResultType
                         baseType="INFOTABLE"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Station"
                             ordinal="1"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                    <ServiceDefinition
                     aspect.isAsync="false"
                     category=""
                     description=""
                     isAllowOverride="false"
                     isLocalOnly="false"
                     isOpen="false"
                     isPrivate="false"
                     name="GetMachineAllStationStaffPerTime">
                        <ResultType
                         baseType="NUMBER"
                         description=""
                         name="result"
                         ordinal="0"></ResultType>
                        <ParameterDefinitions>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="EndTime"
                             ordinal="3"></FieldDefinition>
                            <FieldDefinition
                             baseType="STRING"
                             description=""
                             name="Machine"
                             ordinal="1"></FieldDefinition>
                            <FieldDefinition
                             baseType="DATETIME"
                             description=""
                             name="StartTime"
                             ordinal="2"></FieldDefinition>
                        </ParameterDefinitions>
                    </ServiceDefinition>
                </ServiceDefinitions>
                <EventDefinitions></EventDefinitions>
                <ServiceMappings></ServiceMappings>
                <ServiceImplementations>
                                
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetStationPartCounter">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        -- GetStationPartCounter ----------
                                        -- by Tallrain --------------------
                                        -- last updated on 2022-09-19 -----
                                        -- Machine = Machine Thing in DB --
                                        -- Machine_Name = Machine Name ----
                                        -- Station = Station Thing in DB --
                                        
                                        SELECT 
                                            ISNULL(IO.Station, NIO.Station) AS Station,
                                        	ISNULL(IO.KPIValue,0) AS OK_QTY, 
                                        	ISNULL(NIO.KPIValue,0) AS NOK_QTY
                                        FROM 
                                        (
                                        SELECT 
                                            Station,
                                            sum(numberOfParts) as KPIValue
                                        FROM smartKPI
                                        WHERE ProductionTime between [[StartTime]] and [[EndTime]] 
                                        AND Machine = convert(varchar(255), [[Machine]])
                                        AND isPartOK = 1
                                        GROUP BY Station
                                        ) AS IO
                                        FULL OUTER JOIN
                                        (
                                        SELECT 
                                            Station,
                                            sum(numberOfParts) as KPIValue
                                        FROM smartKPI
                                        WHERE ProductionTime between [[StartTime]] and [[EndTime]] 
                                        AND Machine = convert(varchar(255), [[Machine]])
                                        AND isPartOK = 0
                                        GROUP BY Station
                                        ) AS NIO
                                        ON IO.Station = NIO.Station;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>

                
                
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="FillManualPartDataPropertyKeys">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        exec FillManualPartDataPropertyKeys;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddMachineFloatDataToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        insert into [smartKPIMachineFloatData] (
                                               [Machine]
                                              ,[MachineTime]
                                              ,[MachineDataType]
                                              ,[MachineData]
                                              ,[MachineDataLSL]
                                              ,[MachineDataUSL]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                        )
                                        values ( [[Machine]], [[DateTime]], [[ValueName]], [[Value]],  
                                        	   [[LowerLimit]], [[UpperLimit]], [[Unit]], substring([[Description]],1,255), substring([[Comment]],1,255));
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddMachineMessageToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        insert into [smartKPIMachineMessageData] ([Machine] ,[MessageTime] ,[MessageType1] ,[MessageType2], [Message], [description])
                                        	values (	[[Machine]], 
                                        			[[DateTime]], 
                                        			isnull([[MessageType1]],''), 
                                        			isnull([[MessageType2]],''), 
                                        			isnull([[Message]],''), 
                                        			isnull([[Description]],''));
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddMachineStatusToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        insert into [smartKPIMachineStatusData] ([Machine] ,[StatusTime] ,[Status] ,[SubStatus], [description], [StatusType])
                                        	values ([[Machine]], [[DateTime]], [[Status]], [[SubStatus]], [[Description]], [[StatusType]]);
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddMarkPmStatusAsSent">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        INSERT INTO [smartKPIMachineStatusData] ([Machine]
                                              ,[StatusTime]
                                              ,[Status]
                                              ,[SubStatus]
                                              ,[description]
                                              ,[StatusType]
                                              ) SELECT [Machine]
                                              ,GETUTCDATE()
                                              ,[Status]
                                              ,'Processed'
                                              ,[description]+[[SapPmResult]]
                                              ,[StatusType] FROM [smartKPIMachineStatusData] WHERE [Id] = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>

                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddOrUpdateOperatorInputMachineDefinition">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        insert into smartKPIOperatorInputMachineDefinition (Machine, Devision, SubStatus, Status, SortingIndex, StatusType)
                                        select [[Machine]], [[Division]], [[SubStatus]], [[Status]], [[SortingIndex]], [[StatusType]] where not exists 
                                        (select 'ok' from smartKPIOperatorInputMachineDefinition 
                                         where Machine = convert(varchar(255), [[Machine]])
                                         and Devision = convert(varchar(255), [[Division]])
                                         and convert(varchar(255), [[SubStatus]]) = SubStatus
                                         and Status = convert(varchar(255), [[Status]]));
                                         
                                        update smartKPIOperatorInputMachineDefinition set SortingIndex = [[SortingIndex]], StatusType = [[StatusType]], TimeLossInSec = isNull([[TimeLossInSec]],0), isDeleted=0
                                         where Machine = convert(varchar(255), [[Machine]])
                                         and Devision = convert(varchar(255), [[Division]])
                                         and convert(varchar(255), [[SubStatus]]) = SubStatus
                                         and Status = convert(varchar(255), [[Status]]);
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>

                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddOrUpdateOperatorInputMachineDefinitionV2">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        INSERT INTO smartKPIOperatorInputMachineDefinition(
                                        	Machine,
                                        	Devision,
                                        	SubStatus,
                                        	Status,
                                        	SortingIndex,
                                        	StatusType,
                                        	JSON,
                                            externalIdent,
                                            StatusType1
                                        	)
                                        SELECT 
                                        	[[Machine]],
                                        	[[Division]],
                                        	[[SubStatus]],
                                        	[[Status]],
                                        	[[SortingIndex]],
                                        	[[StatusType]],
                                        	[[JSON]],
                                            [[externalIdent]],
                                            [[StatusType1]]
                                        WHERE NOT EXISTS(
                                        	SELECT 'ok' 
                                        	FROM smartKPIOperatorInputMachineDefinition 
                                        	WHERE Machine = CONVERT(varchar(255), [[Machine]])
                                        	AND Devision = CONVERT(varchar(255), [[Division]])
                                        	AND SubStatus = CONVERT(varchar(255), [[SubStatus]])
                                        	AND Status = CONVERT(varchar(255), [[Status]])
                                        );
                                         
                                        UPDATE smartKPIOperatorInputMachineDefinition 
                                        SET 
                                        	SortingIndex = [[SortingIndex]], 
                                        	StatusType = [[StatusType]], 
                                        	TimeLossInSec = isNull([[TimeLossInSec]],0), 
											isDeleted = 0,
											JSON = [[JSON]],
											externalIdent = [[externalIdent]],
										    StatusType1 = [[StatusType1]]
                                        WHERE Machine = CONVERT(varchar(255), [[Machine]])
                                        AND Devision = CONVERT(varchar(255), [[Division]])
                                        AND CONVERT(varchar(255), [[SubStatus]]) = SubStatus
                                        AND Status = CONVERT(varchar(255), [[Status]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>


                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddProcessFloatDataJsonToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        EXEC InsertProcessDataJSON_V9 @JSON_String=[[JSON]], @Machine = [[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddProcessFloatDataToBufferDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        	insert into smartKPIProcessFloatDataBuffer (Machine, Type, JSON)
                                        	values ([[Machine]], [[Type]], [[JSON]]);
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddProcessFloatDataToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        
                                        INSERT into smartKPIProcessFloatData (	[Machine]
                                        			      ,[ProductionTime]
                                        			      ,[ProcesDataType]
                                        			      ,[ProcesData]
                                        			      ,[SerialNumber]
                                        			      ,[PartNumber]
                                        			      ,[OrderNumber]
                                        			      ,[ProcesDataLSL]
                                        			      ,[ProcesDataUSL]
                                        			      ,[Unit]
                                        			      ,[description]
                                        			      ,[comment]
                                        			      ,[TrackingNumber])  
                                        	select distinct [[Machine]], [[DateTime]], [[ValueName]], [[Value]], RTRIM([[SerialNumber]]), RTRIM([[PartNumber]]), RTRIM([[OrderNumber]]), 
                                        	   [[LowerLimit]], [[UpperLimit]], [[Unit]], substring([[Description]],1,255), substring([[Comment]],1,255),
                                        	   [[TrackingNumber]] 
                                        	   where not exists (select 'ok' from smartKPIProcessFloatData 
                                        	   						where Machine = convert(varchar(255), [[Machine]]) 
                                        	   						and ProductionTime = [[DateTime]] 
                                        	   						and ProcesDataType =  convert(varchar(255), [[ValueName]]));
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddProcessFloatDataToErrorBufferDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        	insert into smartKPIProcessFloatDataBufferError (Machine, Type, JSON, Reason)
                                        	values ([[Machine]], [[Type]], [[JSON]], [[Reason]]);
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="AddQualityResultsToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var result = 0;
                                        
                                        for (var i = 0; i < KBRateOfQualityData.getRowCount(); i++) {
                                        
                                            var params = {
                                                Machine: KBRateOfQualityData.getRow(i).Machine /* STRING */,
                                                Station: KBRateOfQualityData.getRow(i).Station /* STRING */,
                                                DateTime: KBRateOfQualityData.getRow(i).DateTime /* DATETIME */,
                                                isPartOK: KBRateOfQualityData.getRow(i).isPartOK /* BOOLEAN */,
                                                PartNumber: KBRateOfQualityData.getRow(i).PartNumber /* STRING */,
                                                SerialNumber: KBRateOfQualityData.getRow(i).SerialNumber /* STRING */,
                                                OrderNumber: KBRateOfQualityData.getRow(i).OrderNumber /* STRING */,
                                                ScrapReason: KBRateOfQualityData.getRow(i).ScrapReason /* STRING */,
                                                NumberOfParts: KBRateOfQualityData.getRow(i).NumberOfParts
                                            };
                                        
                                            // result: NUMBER
                                            result += me.AddQualityResultToDataTable(params);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="AddQualityResultToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        // dateValue:DATETIME
                                        var dateValue = new Date();
                                        var UtcTimeOffset = 0;
                                        
                                        //****************************************************************************************
                                        //Adding Employee-Id to JSON data
                                        var JSONresult = { dataShape: { fieldDefinitions : {} }, rows: [] };
                                        JSONresult.dataShape.fieldDefinitions['smartKPI'] = { name: 'EmployeeID', baseType: 'STRING' };
                                        
                                        var newRow = new Object();
                                        newRow.EmployeeID = EmployeeID;
                                        JSONresult.rows[0]=newRow;
                                        
                                        var JSONString = JSON.stringify(JSONresult);
                                        //****************************************************************************************
                                        
                                        
                                        // result: INFOTABLE dataShape: ""
                                        var result =  me.AddQualityResultToDataTable_Worker({
                                        	confirmedToSAP: confirmedToSAP ,
                                        	confirmToSAP: confirmToSAP ,
                                        	DateTime: DateTime ,
                                        	isPartOK: isPartOK ,
                                        	Machine: Machine ,
                                        	NumberOfParts: NumberOfParts ,
                                        	OrderNumber: OrderNumber ,
                                        	PartNumber: PartNumber ,
                                        	SAPconfirmationResult: SAPconfirmationResult ,
                                        	SAPOperationNumber: SAPOperationNumber ,
                                        	ScrapReason: ScrapReason ,
                                        	SerialNumber: SerialNumber ,
                                        	Station: Station ,
                                        	timePerPartSec: timePerPartSec ,
                                        	UtcTimeOffset: UtcTimeOffset,
                                        											JSON: JSONString
                                        });
                                        
                                        
                                        var partsAtLineForAndonScreennew = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                            infoTableName : "InfoTable",
                                            dataShapeName : "KBPartsAtLineDataShape"
                                        });
                                        var newEntry = new Object();
                                        if(NumberOfParts>0){
                                        newEntry.numberOfParts = NumberOfParts; // INTEGER
                                        newEntry.SAPOperationNumber = SAPOperationNumber; // STRING
                                        newEntry.PartNumber = PartNumber; // STRING
                                        newEntry.OrderNumber = OrderNumber; // STRING
                                        }
                                        var i = 0;
                                        var numberOfParallelProcessesForMultiPalletMachine = 1;
                                        var partsAtLineForAndonScreenold;
                                        var newEmptyEntry = new Object();
                                        newEmptyEntry = new Object();
                                        newEmptyEntry.numberOfParts = 0; // INTEGER
                                        newEmptyEntry.SAPOperationNumber = ""; // STRING
                                        newEmptyEntry.PartNumber = ""; // STRING
                                        newEmptyEntry.OrderNumber = ""; // STRING
                                        
                                        // Machine
                                        try {
                                            if (Resources["PTC.Factory.CommonUtilities"].DoesThingExists({thingName: Machine /* STRING */})) {
                                                numberOfParallelProcessesForMultiPalletMachine = 1;
                                                
                                                if (Things[Machine].isMultiPalletMachine) {
                                                    numberOfParallelProcessesForMultiPalletMachine = Things[Machine].NumberOfParallelProcessesForMultiPalletMachine;
                                                }
                                        
                                                partsAtLineForAndonScreenold = Things[Machine].PartsAtLineForAndonScreen;
                                        
                                                if (partsAtLineForAndonScreenold === null) {
                                                    // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBPartsAtLineDataShape)
                                                    partsAtLineForAndonScreenold = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                                        infoTableName : "InfoTable",
                                                        dataShapeName : "KBPartsAtLineDataShape"
                                                    });
                                                }
                                                // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBPartsAtLineDataShape)
                                                partsAtLineForAndonScreennew.RemoveAllRows();
                                                for (i = 0;i<numberOfParallelProcessesForMultiPalletMachine;i++) {
                                                    partsAtLineForAndonScreenold.AddRow(newEmptyEntry);
                                                }
                                                partsAtLineForAndonScreennew.AddRow(newEntry);
                                                for (i = 0;i<numberOfParallelProcessesForMultiPalletMachine-1;i++) {
                                                    partsAtLineForAndonScreennew.AddRow(partsAtLineForAndonScreenold.rows[i]);
                                                }
                                        
                                                Things[Machine].PartsAtLineForAndonScreen = partsAtLineForAndonScreennew;
                                                if(Things[Machine].thingTemplate=='KBLocalMachineThingTemplate'){
                                                	if(isPartOK===true && Things[Things[Machine].MainStationForLineStatus].StopOIStatusAutomaticallyAfterXminutes===true){
		                                        		Things[Things[Machine].MainStationForLineStatus].StopOIStatusAutomaticallyAfterXminutes=false;
		                                        	}
                                        		}else{
                                        			if(Things[Machine].thingTemplate=='KBLocalStationThingTemplate'){
     		  		  		  		  		  	     	if(isPartOK===true && Things[Machine].StopOIStatusAutomaticallyAfterXminutes===true){
		                                        		Things[Machine].StopOIStatusAutomaticallyAfterXminutes=false;
		                                        	}
		}
                                        		}
                                            }
                                        
                                        } catch(err) {
                                        	logger.error("Error updating Machine partsAtLineForAndonScreennew ("+Machine+")" + err);
                                        }
                                        
                                        
                                        
                                        // Station
                                        try {
                                            if (Resources["PTC.Factory.CommonUtilities"].DoesThingExists({thingName: Station /* STRING */})) {
                                                numberOfParallelProcessesForMultiPalletMachine = 1;
                                        
                                                var MachineFromStation = Things[Station].KBLocalLineThing;
                                                if (Resources["PTC.Factory.CommonUtilities"].DoesThingExists({thingName: MachineFromStation /* STRING */}) && Things[MachineFromStation].isMultiPalletMachine) {
                                                    numberOfParallelProcessesForMultiPalletMachine = Things[MachineFromStation].NumberOfParallelProcessesForMultiPalletMachine;
                                                }
                                        
                                                partsAtLineForAndonScreenold = Things[Station].PartsAtLineForAndonScreen;
                                        
                                                if (partsAtLineForAndonScreenold === null) {
                                                    // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBPartsAtLineDataShape)
                                                    partsAtLineForAndonScreenold = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
                                                        infoTableName : "InfoTable",
                                                        dataShapeName : "KBPartsAtLineDataShape"
                                                    });
                                                }
                                                // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBPartsAtLineDataShape)
                                                partsAtLineForAndonScreennew.RemoveAllRows();
                                                for (i = 0;i<numberOfParallelProcessesForMultiPalletMachine;i++) {
                                                    partsAtLineForAndonScreenold.AddRow(newEmptyEntry);
                                                }
                                                partsAtLineForAndonScreennew.AddRow(newEntry);
                                                for (i = 0;i<numberOfParallelProcessesForMultiPalletMachine-1;i++) {
                                                    partsAtLineForAndonScreennew.AddRow(partsAtLineForAndonScreenold.rows[i]);
                                                }
                                        
                                                Things[Station].PartsAtLineForAndonScreen = partsAtLineForAndonScreennew;
                                                if(Things[Station].thingTemplate=='KBLocalStationThingTemplate'){
                                                	if(isPartOK===true && Things[Station].StopOIStatusAutomaticallyAfterXminutes===true){
		                                        		Things[Station].StopOIStatusAutomaticallyAfterXminutes=false;
		                                        	}
                                        		}
                                            }
                                        
                                        } catch(err) {
                                        	logger.error("Error updating Station partsAtLineForAndonScreennew ("+Station+")" + err);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddQualityResultToDataTable_Worker">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        		INSERT into smartKPI (
                                        			[ProductionTime], 
                                        			[Machine], 
                                        			[Station], 
                                        			[isPartOK], 
                                        			[PartNumber], 
                                        			[SerialNumber], 
                                        			[OrderNumber], 
                                        			[ScrapReason], 
                                        			[numberOfParts], 
                                        			[confirmToSAP], 
                                        			[confirmedToSAP], 
                                        			[SAPOperationNumber], 
                                        			[SAPconfirmationResult],
                                        			[timePerPartSec])  
                                        		select [[DateTime]], 
                                        			[[Machine]], 
                                        			[[Station]], 
                                        			ISNULL([[isPartOK]], 0), 
                                        			[[PartNumber]], 
                                        			[[SerialNumber]], 
                                        			[[OrderNumber]], 
                                        			substring([[ScrapReason]],0,254), 
                                        			CAST([[NumberOfParts]] as int), 
                                        			isnull([[confirmToSAP]],0), 
                                        			isnull([[confirmedToSAP]],0), 
                                        			[[SAPOperationNumber]], 
                                        			[[SAPconfirmationResult]],
                                        			[[timePerPartSec]]
                                        		where not exists (select 'ok' from smartKPI where ProductionTime = [[DateTime]] and Machine = convert(varchar(255), [[Machine]]) and Station = convert(varchar(255), [[Station]])); 
                                        		
                                                UPDATE smartKPI
                                        			set [isPartOK] = ISNULL([[isPartOK]], 0), 
                                        		    	[PartNumber] = [[PartNumber]],
                                        		      	[SerialNumber] = [[SerialNumber]],
                                        		      	[OrderNumber] = [[OrderNumber]],
                                        		      	[ScrapReason] = substring([[ScrapReason]],0,254),
                                        		      	[isUpdated] = 1,
                                        		      	[numberOfParts] = CAST([[NumberOfParts]] as int),
                                        		      	[confirmToSAP] = isnull([[confirmToSAP]],0),
                                        		      	[confirmedToSAP] = isnull([[confirmedToSAP]],0),
                                        		      	[SAPOperationNumber] = [[SAPOperationNumber]],
                                        		      	[SAPconfirmationResult] = [[SAPconfirmationResult]],
                                        		      	[timePerPartSec] = [[timePerPartSec]],
                                        														[JSON] = [[JSON]]
                                        		    where ProductionTime = [[DateTime]] and Machine = convert(varchar(255), [[Machine]]) and Station = convert(varchar(255), [[Station]]);
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddSAPPMKeyValueData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        insert into [smartKPISAPPMKeyValueData] ([PropertyKey],[FloatValue],[TextValue],[DateTimeValue],[Description],[isFloatValue],[isTextValue],[isDateTimeValue],[Machine],[PropertyKey1],[PropertyKey2],[PlantId])
                                        	  select [[PropertyKey]], [[FloatValue]],[[TextValue]],[[DateTimeValue]],[[Description]],[[isFloatValue]],[[isTextValue]],[[isDateTimeValue]],[[Machine]],[[PropertyKey1]],[[PropertyKey2]],[[PlantId]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddShiftDataToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        insert into shiftCalendar (Plant, Machine, StartTime, EndTime, Qualifier, Name, Machine_Full_Name, Utilization) 
                                        select 
                                        [[plant]], SUBSTRING([[machine]],2, CHARINDEX('_'+[[plant]]+'_',[[machine]])-2), [[StartTime]], [[EndTime]], [[Qualifier]], [[Name]], [[machine]], [[utilization]]
                                        where [[machine]] is not null
                                        and CHARINDEX('_'+[[plant]]+'_',[[machine]]) > 1
                                        and LEN([[machine]]) > 1
                                        union
                                        select 
                                        [[plant]], [[machine]], [[StartTime]], [[EndTime]], [[Qualifier]], [[Name]], [[machine]], [[utilization]]
                                        where [[machine]] is null
                                        or CHARINDEX('_'+[[plant]]+'_',[[machine]]) <= 1
                                        or LEN([[machine]]) <= 1;
                                        
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddTestBenchDataJsonToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        EXEC InsertTestBenchDataJSON_V9 @JSON_String=[[JSON]], @Machine = [[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteTestBenchData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
			delete from smartKPIProcessDateTimeData where TrackingNumber = [[TrackingNumber]] AND description like 'Achiver 2.%';
			delete from smartKPIProcessStringData   where TrackingNumber = [[TrackingNumber]] AND description like 'Achiver 2.%';
			delete from smartKPIProcessFloatData    where TrackingNumber = [[TrackingNumber]] AND description like 'Achiver 2.%';
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddCVSAdgTestBenchDataJsonToDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        EXEC InsertCVSAdgTestBenchData @JSON_String=[[JSON]], @Machine = [[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddUpdateMachineStatusDataProcessIdentirfier">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        INSERT INTO [smartKPIMachineStatusData] ([Machine]
                                              ,[StatusTime]
                                              ,[Status]
                                              ,[SubStatus]
                                              ,[description]
                                              ,[StatusType]) SELECT [Machine]
                                              ,GETUTCDATE()
                                              ,[Status]
                                              ,[[Status]]
                                              ,[description]
                                              ,[StatusType] FROM [smartKPIMachineStatusData] WHERE [Id] = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="CalulateKPIsForSingleMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE CalulateKPIsForSingleMachine @StartDate = [[StartDate]], @EndDate=[[EndDate]], @CalculationBase=[[CalculationBase]], @Machine=[[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>18000.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="CalulateKPIsForSingleArea">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE CalulateKPIsForSingleArea @StartDate = [[StartDate]], @EndDate=[[EndDate]], @CalculationBase=[[CalculationBase]], @Machines=[[Machines]], @Area=[[Area]];
                                        ]]>
                                        </sql>
                                        <timeout>18000.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="CalulateOngoingKPIs">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.CalulateOngoingKPIs;
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="CalulateTargets">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE  CalulateTargets;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="CheckFastemsOrder">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE CheckFastemsOrder @SapThing = [[SapThing]],	@OrderNumber = [[OrderNumber]],	@SAPPlantId = [[SAPPlantId]];
                                        ]]>
                                        </sql>
                                        <timeout>1500.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="CreateAutoSetStatusForSinglePalletMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        exec dbo.CreateAutoSetStatusForSinglePalletMachine @station=[[Station]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteAtossStaffMessageEntries">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        delete from [smartKPIMachineMessageData] 
                                        	where MessageType1 IN ('STAFF', 'Atoss')
                                            and description like 'Atoss: '+[[Day]]+';%';
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteMachineKeyValueData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        delete from smartKPIMachineKeyValueData where PropertyKey = convert(varchar(255), [[Key]])
                                        					and Machine = convert(varchar(255), [[Machine]])
                                        					and (PropertySubKey1 = convert(varchar(150), [[PropertySubKey1]])  or [PropertySubKey1] is null or [PropertySubKey1] ='undefined')
                                        					and (PropertySubKey2 = convert(varchar(150), [[PropertySubKey2]])  or [PropertySubKey2] is null or [PropertySubKey2] ='undefined');
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteMachineStatusFromDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        	delete from smartKPIMachineStatusData 
                                        	where Id = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteManualPartDataPartNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        EXEC DeleteManualPartDataPartNumber @PartNumberToDelete=[[PartNumberToDelete]];
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteOperatorInputMachineDefinition">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        update smartKPIOperatorInputMachineDefinition set isDeleted = 1
                                         where Machine = convert(varchar(255), [[Machine]])
                                         and Devision = convert(varchar(255), [[Division]])
                                         and convert(varchar(255), [[SubStatus]]) = SubStatus
                                         and Status = convert(varchar(255), [[Status]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteProcessFloatDataFromBufferDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        	delete from smartKPIProcessFloatDataBuffer 
                                        	where Id = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteSAPPMKeyValueData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Delete from smartKPISAPPMKeyValueData where PlantId=[[PlantId]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="DeleteShiftDatasFromDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        delete from shiftCalendar
                                        where Plant = convert(varchar(255), [[plant]])
                                        and StartTime >= [[startDate]]
                                        and StartTime <= [[endDate]];
                                        
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="ExecuteGetMachineStatusFromNDNC__BUD_ONLY">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetMachineStatusFromNDNC;
                                        ]]>
                                        </sql>
                                        <timeout>1500.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="ExportTable_shiftCalendar">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>50000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [shiftCalendar]
                                          where StartTime >= dateadd(day,-1,datetimefromparts(datepart(year, GETUTCDATE()), datepart(month, GETUTCDATE()), datepart(day, GETUTCDATE()), 0,0,0,0));
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="ExportTable_smartKPI">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select top(1000) * 
                                          FROM [smartKPI]
                                          where Id > [[Id]]
                                          order by Id
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="ExportTable_smartKPIMachineKeyValueData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>50000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [smartKPIMachineKeyValueData]
                                          where PropertyKey in ('SAPWorkcenterNumber', 'SAPPlantId', 'MultiPaletteMachine', 'isMultiPalletMachine', 'KBLocalLineThing');
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="ExportTable_smartKPIMachineMessageData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select top(1000) * 
                                          FROM [smartKPIMachineMessageData]
                                          where MessageType2 in ('OI_NC_PROGRAM', 'NC_PROGRAM')
                                          and Id > [[Id]]
                                          order by Id
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="ExportTable_smartKPIMachineStatusData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select top(1000) * 
                                          FROM [smartKPIMachineStatusData]
                                          where [StatusType] in ('Operating Time From NDNC', 'Operator Screen')
                                          and Id > [[Id]]
                                          order by Id
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="FillTEMPSmartKPIFullShift">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.99999999999E11</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE FillTEMPSmartKPIFullShift @FullInit = 0;
                                        ]]>
                                        </sql>
                                        <timeout>3000.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetActualAndTarget">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBActualTargetDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBActualTargetDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        // KBActualTargetDataShape entry object
                                        var newEntry = new Object();
                                        newEntry.Target = Target; // NUMBER
                                        newEntry.Actual = Actual; // NUMBER
                                        newEntry.ActualAsInt = parseInt(Actual, 10);
                                        newEntry.TargetAsInt = parseInt(Target, 10);
                                        if (Target > 0) {
                                        	newEntry.Percent = Actual/Target*100;
                                        } else {
                                        	newEntry.Percent = 0;
                                        }
                                        
                                        result.AddRow(newEntry);
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetActualOrdersByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT isnull(OrderNumber,'-') as OrderNumber,
                                          MIN(ProductionTime) as FirstBuildTime,
                                          MAX(ProductionTime) as LastBuildTime,
                                          isnull(PartNumber,'-') as PartNumber,
                                          ISNULL(SAPOperationNumber,'') as SAPOperationNumber,
                                          COUNT(*) as Qty
                                        FROM smartKPI
                                        WHERE ProductionTime >= dateadd(week,datediff(week,0,GETUTCDATE()), [[NextNweek]]*7)
                                        AND ProductionTime < dateadd(week,datediff(week,0,GETUTCDATE()), [[NextNweek]]*7+7)
                                        AND Machine = [[MachineThingName]]
                                        AND isPartOK = 1
                                        group by isnull(OrderNumber,'-'), ISNULL(SAPOperationNumber,''), isnull(PartNumber,'-')
                                        order by 2;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetActualPartsWithDateDiff">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                        	isnull(ord1.PartNumber, '-') as Label,
                                        	isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)) as OptionalProductionDate,
                                        	DATEDIFF(minute, isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)), GETUTCDATE()) as OptionalDiffInMinutesLastPartProduced
                                            from 
                                        (select top(1) ord.PartNumber, ord.ProductionTime from (SELECT 
                                              ProductionTime, PartNumber
                                          FROM [smartKPI]
                                        where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                        union select DATEFROMPARTS(1970,1,1), '-'
                                        	) ord
                                            order by ProductionTime desc
                                        	)ord1
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetActualPartsWithRQ">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetActualPartsWithRQ
                                        	@StartDateTime = [[DateStart]],
                                        	@EndDateTime = [[DateEnd]],
                                        	@Machine = [[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetActualPartsWithRQForOrder">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                        	isnull(ord1.PartNumber, '-') as Label,
                                        	isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)) as OptionalProductionDate,
                                        	DATEDIFF(minute, isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)), GETUTCDATE()) as OptionalDiffInMinutesLastPartProduced,
                                        	isnull(IO.anz,0) as OK, 
                                            isnull(NIO.anz,0) as NOK, 
                                            case (isnull(IO.anz,0) + isnull(NIO.anz,0)) 
                                                when 0 then 0 
                                                else round(convert(float, isnull(IO.anz,0))/(convert(float, isnull(IO.anz,0)) + convert(float, isnull(NIO.anz,0)))*convert(float, 100),2) 
                                            end as KPI
                                            from 
                                        (SELECT sum([numberOfParts]) anz
                                          FROM [smartKPI]
                                          where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and isPartOK = 0
                                          and OrderNumber like convert(varchar(255), [[OrderNumber]])) NIO,
                                        (SELECT sum([numberOfParts]) anz
                                          FROM [smartKPI]
                                          where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and isPartOK = 1
                                          and OrderNumber like convert(varchar(255), [[OrderNumber]])) IO,
                                          (select top(1) ord.PartNumber, ord.ProductionTime from (SELECT 
                                              ProductionTime, PartNumber
                                          FROM [smartKPI]
                                        where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                        union select DATEFROMPARTS(1970,1,1), '-'
                                        	) ord
                                            order by ProductionTime desc
                                        	)ord1
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetAllKpiDataForRail">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetKPIRail @StartDateTime = [[StartDate]], @EndDateTime = [[EndDate]], @Machine = [[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetAllKpiDataForTruck">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetKPITruck @StartDateTime = [[StartDate]], @EndDateTime = [[EndDate]], @Machine = [[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetAllMachineMessages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and MessageTime between [[StartDateTime]] and [[EndDateTime]]
                                          order by MessageTime desc, MessageType1, CreationTime desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetAllMachineStatus">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [smartKPIMachineStatusData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and StatusTime between [[StartDateTime]] and [[EndDateTime]]
                                          order by StatusTime desc, CreationTime desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetAllProcessDataFromDBforSerialNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[ProductionTime]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                              ,[Machine]
                                              ,[ProcesDataType]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                              ,[TrackingNumber]
                                          FROM [smartKPIProcessFloatData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [SerialNumber] = convert(varchar(255), [[SerialNumber]])
                                          and [OrderNumber] = convert(varchar(255), [[OrderNumber]])
                                          and [ProcesDataType] like convert(varchar(255), [[ProcesDataType]])
                                          order by [ProcesDataType], [ProductionTime]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetAllProcessDataFromDBforTrackingNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[ProductionTime]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                              ,[Machine]
                                              ,[ProcesDataType]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                              ,[TrackingNumber]
                                          FROM [smartKPIProcessFloatData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [TrackingNumber] = convert(varchar(255), [[TrackingNumber]])
                                          and [OrderNumber] = convert(varchar(255), [[OrderNumber]])
                                          and [ProcesDataType] like convert(varchar(255), [[ProcesDataType]])
                                          order by [ProcesDataType], [ProductionTime]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetApoOrderGantData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try {
                                        
                                        	// result: INFOTABLE dataShape: "KBCVSProductionTargetDetailDataShape"
                                        	var ProductionDetailData = me.GetCVSProductionTargetDetail({
                                        		EndTime: EndTime /* DATETIME */ ,
                                        		LineThingName: MachineThing /* STRING */ ,
                                        		StartTime: StartTime /* DATETIME */
                                        	});
                                        	var ProductionDetailDataLength = ProductionDetailData.getRowCount();
                                        	var params = {
                                        		infoTableName: "InfoTable",
                                        		dataShapeName: "KBCVSTimeLossRawDataShape"
                                        	};
                                        	// CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBCVSTimeLossRawDataShape)
                                        	var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        	// KBCVSTimeLossRawDataShape entry object
                                        	var newEntry = new Object();
                                        	newEntry.OrderNumber = undefined; // STRING
                                        	newEntry.StatusTimeStart = undefined; // DATETIME
                                        	newEntry.StatusTimeEnd = undefined; // DATETIME
                                        	var OrderNumber;
                                            var PartNumber;
                                        	for (x = 0; x < ProductionDetailDataLength; x++) {
                                        		if (x === 0) {
                                        			newEntry.StatusTimeStart = new Date(StartTime);
                                        			// result: INFOTABLE dataShape: "KBOrderResultDataShape"
                                                    OrderNumber=ProductionDetailData.rows[x].OrderNumber.substring(0, 9).trim();
                                        			 PartNumber = me.GetOrderData({
                                        				OrderNumber: OrderNumber /* STRING */ ,
                                        				PropertyKey: 'MaterialNumber' /* STRING */ ,
                                        				System: 'KBTruckSAPServer' /* STRING */
                                        			}).TextValue;
                                        			newEntry.OrderNumber = OrderNumber +', ' + PartNumber;
                                        		} else if (ProductionDetailData.rows[x].OrderNumber.substring(0, 9) != ProductionDetailData.rows[x - 1].OrderNumber.substring(0, 9)) {
                                        			newEntry.StatusTimeEnd = ProductionDetailData.rows[x - 1].ProductionTime;
                                        			result.AddRow(newEntry);
                                        
                                        			newEntry.StatusTimeStart = new Date(ProductionDetailData.rows[x - 1].ProductionTime);
                                                     OrderNumber=ProductionDetailData.rows[x].OrderNumber.substring(0, 9).trim();
                                        			 PartNumber = me.GetOrderData({
                                        				OrderNumber: OrderNumber /* STRING */ ,
                                        				PropertyKey: 'MaterialNumber' /* STRING */ ,
                                        				System: 'KBTruckSAPServer' /* STRING */
                                        			}).TextValue;
                                        			newEntry.OrderNumber = OrderNumber +', ' + PartNumber;
                                        		}
                                        	}
                                        	newEntry.StatusTimeEnd = EndTime;
                                        	result.AddRow(newEntry);
                                        
                                        } catch (err) {
                                        	logger.error("Error on service GetApoOrderGantData: " + err + " on thing:" + me.name + " at:" + err.lineNumber);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCAPSConfigurationInfo">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[System]
                                              ,[OrderNumber]
                                              ,[isProductionStarted]
                                              ,UTCUpdateTime as UpdateTime
                                              ,[isCAPSProductionFinalized]
                                              ,[isCAPSOrderError]
                                              ,[CAPSOrderError]
                                          FROM [smartKPIOrderData]
                                          where [isCAPSDataUpdated] = 1
                                          and System = 'CAPS-Configuration'
                                          order by CreationTime;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCAPSOrderRowsCount">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT Count(*) as [Count]
                                          FROM [smartKPIOrderKeyValueData]
                                          WHERE [OrderNumber] = [[OrderNumber]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCAPSUpdatedEmployees">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[System]
                                              ,[UserId] as EmployeeNumber
                                              ,UTCUpdateTime as UpdateTime
                                          FROM [smartKPIUserData]
                                          where [isCAPSDataUpdated] = 1
                                          order by CreationTime;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCAPSUpdatedOrders">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[System]
                                              ,[OrderNumber]
                                              ,[isProductionStarted]
                                              ,UTCUpdateTime as UpdateTime
                                              ,[isCAPSProductionFinalized]
                                              ,[isCAPSOrderError]
                                              ,[CAPSOrderError]
                                          FROM [smartKPIOrderData]
                                          where [isCAPSDataUpdated] = 1
                                            and System = 'KBRailSAPServer'
                                            and isCAPSOrderError != 1
                                          order by CreationTime;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCulminatedNumberOfNOKParts">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>99999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT sum([numberOfParts]) over (PARTITION by Machine order by ProductionTime) as culminatedNumberOfParts
                                              ,[ProductionTime]
                                          FROM [smartKPI]
                                          where Machine = convert(varchar(255), [[Machine]])
                                          and [ProductionTime] between [[StartDate]] and [[EndDate]]
                                          and [isPartOK] = 0
                                          order by [ProductionTime];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCulminatedNumberOfParts">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>99999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT sum([numberOfParts]) over (PARTITION by Machine order by ProductionTime) as culminatedNumberOfParts
                                              ,[ProductionTime]
                                          FROM [smartKPI]
                                          where Machine = convert(varchar(255), [[Machine]])
                                          and [ProductionTime] between [[StartDate]] and [[EndDate]]
                                          and [isPartOK] = 1
                                          order by [ProductionTime];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>                    
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMaintenanceKPIValues">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select MTBF, MTTR, MRT, Time from [GetMaintenanceKPISortedForGraph] ([[Machine]], [[KPITimeBase]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCumulativeDLP1Data">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select Machine, 
                                        	oldTime, 
                                        	                                        newTime, 
                                        	                                        LabourTime,
                                        	                                        Duration,
                                        	                                        ActualWorkers,
                                        	                                        DLP1, 
                                        	                                        DLP1Target,
                                        	                                        DLP1TargetCumulative from GetDLPData([[StartTime]],[[EndTime]],[[Machine]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCumulativeDLP1Data2">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select Machine, 
                                        	oldTime, 
                                        	                                        newTime, 
                                        	                                        LabourTime,
                                        	                                        Duration,
                                        	                                        ActualWorkers,
                                        	                                        DLP1, 
                                        	                                        DLP1Target,
                                        	                                        DLP1TargetCumulative from GetDLPData([[StartTime]],[[EndTime]],[[Machine]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetCumulativeDLP1DataMax">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                                    // result: INFOTABLE dataShape: "KBCVSMachineDLP1ReportDataShape"
                                                    var DLP1Infotable =  me.GetCumulativeDLP1Data({
                                                    	EndTime: EndTime,
                                                    	StartTime: StartTime,
                                                    	Machine: Machine 
                                                    });
                                              
                                                	DLP1InfotableLength = DLP1Infotable.rows.length;
                                         	if(DLP1InfotableLength>0){
                                             var   result=DLP1Infotable.rows[DLP1InfotableLength-1].DLP1TargetCumulative;
                                            }
                                          
                                        }catch(err){  
                                            var result=0;
                                            	logger.error("Error on GetCumulativeDLP1DataMax: " + err+ " on thing: " + me.name + " at: " + err.lineNumber);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCurrentOrLastShiftInfo">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP (1) 
                                               [smartKPIMachineKeyValueData].[Machine]
                                              ,[StartTime]
                                              ,[EndTime]
                                              ,[Qualifier]
                                              ,[Name]
                                              ,[Machine_Full_Name]
                                              ,[TextValue] as SAPWorkcenterNumber
                                              ,UTCUpdateTime as UpdateTime
                                          FROM [shiftCalendar], [smartKPIMachineKeyValueData]
                                          where [shiftCalendar].[Machine] = [TextValue]
                                          and [smartKPIMachineKeyValueData].[Machine] = convert(varchar(255), [[MachineThing]])
                                          and PropertyKey = 'SAPWorkcenterNumber'
                                          and Qualifier = 'W'
                                          and StartTime < GETUTCDATE()
                                          order by [StartTime] desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCurrentShiftTime">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetCurrentShift @Machine = [[Machine]], @ShiftStart = [[Date]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCurrentShiftTimeMinus">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetCurrentShiftMinus @Machine = [[Machine]], @ShiftStart = [[date]], @MinusIterations=[[Iterations]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSHourlyOutput">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from GetCVSHourlyOutput([[LineThingName]], [[StartTime]], [[EndTime]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSLoginTimeAtLine1">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT userId, isLoggedIn FROM GetCVSLoginTimeAtLine1([[StartDate]],[[EndDate]],[[Station]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSMachineProcessingDeviationData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        with x as (select *  
                                        
                                        from GetCVSTimeLossRawDataAll 
                                        
                                        ([[Machine]], 
                                        
                                        [[StartTime]], 
                                        
                                        [[EndTime]],  
                                        
                                        'Part')) 
                                        
                                        select distinct MERIDIAN.PartNumber,  
                                        
                                        STAT.NumberOfProducedParts, 
                                        
                                        STAT.PlannedNumberOfWorkers,  
                                        
                                        round(STAT.AVG_realProcessingTime,2) as AVG_realProcessingTimeInSec,  
                                        
                                        round(STAT.tgMaxTimeInSec,2) as tgMaxInSec,  
                                        
                                        round(STAT.ProcessingTimeInSecCO,2) as ProcessingTimeInSecCO,  
                                        
                                        round(MERIDIAN.Median_RealProcessingTime,2) as Median_RealProcessingTime, 
                                        
                                        round(STAT.ProcessingTimeInSecCO - STAT.AVG_realProcessingTime,2) as ProcessingTimeInSecCO_minus_realProcessingTime, 
                                        
                                        round(MERIDIAN.Median_RealProcessingTime - STAT.AVG_realProcessingTime,2) as MedianRealProcessingTime_minus_realProcessingTime,
                                        
                                        ABS(((STAT.ProcessingTimeInSecCO - STAT.AVG_realProcessingTime)/NULLIF((STAT.ProcessingTimeInSecCO/10),0))*10 )as CODeviationPercentage,
                                        
                                        ABS(((STAT.tgMaxTimeInSec - MERIDIAN.Median_RealProcessingTime)/NULLIF((STAT.tgMaxTimeInSec/10),0))*10 )as tgMaxDeviationPercentage
                                        
                                        from  
                                        
                                        (select  x.PartNumber,  
                                        
                                        PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY x.Duration_in_sec)    
                                        
                                                                    OVER (PARTITION BY x.PartNumber) AS Median_RealProcessingTime 
                                        
                                         from 
                                        
                                        x)MERIDIAN, 
                                        
                                        (select PartNumber,
                                        
                                        sum(NumberOfParts) as NumberOfProducedParts,  
                                        
                                        AVG(PlannedNumberOfWorkers) as PlannedNumberOfWorkers,  
                                        
                                        AVG(Duration_in_sec) as AVG_realProcessingTime,  
                                        
                                        AVG(tgMaxTimeInSec) as tgMaxTimeInSec,  
                                        
                                        AVG(ProcessingTimeInSecCO) as ProcessingTimeInSecCO 
                                        
                                         from 
                                        
                                        x group by PartNumber)STAT 
                                        
                                        where STAT.PartNumber = MERIDIAN.PartNumber 
                                        
                                        /*and STAT.OrderNumber = MERIDIAN.OrderNumber*/ 
                                        
                                        order by STAT.NumberOfProducedParts desc, MERIDIAN.PartNumber;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetCVSOrderDataFromTimeLossRaw">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try {
                                        
                                        	var params = {
                                        		infoTableName: "InfoTable",
                                        		dataShapeName: "KBCVSTimeLossRawDataShape"
                                        	};
                                        
                                        	// CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBCVSTimeLossRawDataShape)
                                        	var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        	result = TimeLossRawDataInfotable;
                                        	var NowTime = new Date();
                                        	if (TimeLossRawDataInfotable.getRowCount() > 0 && EndTime > NowTime) {
                                        		// KBCVSTimeLossRawDataShape entry object
                                        		var newEntry = new Object();
                                        		newEntry.StatusTime = NowTime; // DATETIME
                                        		newEntry.StatusTimeStart = NowTime; // DATETIME
                                        		newEntry.StatusLevel1 = 'N.A.'; // STRING
                                        		result.AddRow(newEntry);
                                        	}
                                        
                                        result.Sort( {
                                              name: "StatusTime",  ascending: true
                                        } );
                                        } catch (err) {
                                        	logger.error("Error on service GetCVSOrderDataFromTimeLossRaw: " + err + " on thing:" + me.name + " at:" + err.lineNumber);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSProductionShiftFactor">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>10000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from GetCVSProductionShiftFactorFunction([[Machine]], [[StartDate]], [[EndDate]]);
                                        ]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSProductionTarget">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetCVSProductionTarget @LineThingName = [[LineThingName]], @StartTime=[[StartTime]], @EndTime=[[EndTime]];
                                        ]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSProductionTargetDetail">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetCVSProductionTargetDetail @LineThingName = [[LineThingName]], @StartTime=[[StartTime]], @EndTime=[[EndTime]];
                                        ]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSTimeLossRawData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>99999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from dbo.GetCVSTimeLossRawData([[Machine]], [[StartDate]], [[EndDate]]) order by StatusTime, StatusType, StatusLevel2;
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
					<ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSTimeLossRawDataWithTimezoneOffset">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from dbo.GetCVSTimeLossRawDataToExcel([[Machine]], [[StartDate]], [[EndDate]]) order by StatusTime, StatusType, StatusLevel2;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetCVSTimeLossRawDataForMultipleMachines">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                            infoTableName : "InfoTable",
                                            dataShapeName : "KBCVSTimeLossRawDataMultipleMachineDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBCVSTimeLossRawDataShape)
                                        var finalInfotable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        var tableLength = MachineLists.rows.length;
                                        for (var x=0; x < tableLength; x++) {
                                            var row = MachineLists.rows[x];    
                                            var childInfotable=me.GetCVSTimeLossRawDataMultipleMachine({Machine: row.DBKpiName /* STRING */, StartDate: StartTime /* DATETIME */,	EndDate: EndTime /* DATETIME */});
                                            var childInfotableTableLength = childInfotable.rows.length;
                                            for (var y=0; y < childInfotableTableLength; y++) {
                                                var row1 = childInfotable.rows[y];        
                                                finalInfotable.AddRow({Machine:row.DisplayName,
                                                    				   StatusTime:row1.StatusTime,
                                                                       StatusTimeStart:row1.StatusTimeStart,
                                                                       StatusTimeEnd:row1.StatusTimeEnd,
                                                                       Duration_in_sec:row1.Duration_in_sec,
                                                                       Duration_in_min:row1.Duration_in_min,
                                                                       isProduction:row1.isProduction,
                                                                       isShift:row1.isShift,
                                                                       StatusLevel1:row1.StatusLevel1,
                                                                       StatusLevel1Local:row1.StatusLevel1Local,
                                                                       StatusLevel2:row1.StatusLevel2,
                                                                       StatusLevel2Local:row1.StatusLevel2Local,
                                                                       StatusType:row1.StatusType,
                                                                       OrderNumber:row1.OrderNumber,                               
                                                                       PartNumber:row1.PartNumber,
                                                                       isPartOK:row1.isPartOK ,
                                                                       SerialNumber:row1.SerialNumber,
                                                                       tgMaxTimeInSec:row1.tgMaxTimeInSec,
                                                                       ProcessingTimeInSec:row1.ProcessingTimeInSec,
                                                                       ProcessingTimeInSecCO:row1.ProcessingTimeInSecCO,
                                                                       ProcessingTimeInSecAPO:row1.ProcessingTimeInSecAPO,
                                                                       tgMaxTimeInSecTotal:row1.tgMaxTimeInSecTotal,
                                                                       ProcessingTimeInSecTotal:row1.ProcessingTimeInSecTotal,
                                                                       ProcessingTimeInSecCOTotal:row1.ProcessingTimeInSecCOTotal,
                                                                       ProcessingTimeInSecAPOTotal:row1.ProcessingTimeInSecAPOTotal,
                                                                       PlannedNumberOfWorkers:row1.PlannedNumberOfWorkers,
                                                                       NumberOfParts:row1.NumberOfParts,
                                                                       DurationAveragePerOrder_in_sec:row1.DurationAveragePerOrder_in_sec                                        
                                                                      });  
                                            }   
                                        
                                        }
                                        var query = Query;
                                        var result = Resources['InfoTableFunctions'].Query({query: query, t: finalInfotable});
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSTimeLossRawDataMultipleMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from dbo.GetCVSTimeLossRawData([[Machine]], [[StartDate]], [[EndDate]]) order by StatusTime, StatusType, StatusLevel2;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSTimeLossRawDataPartial">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>99999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from dbo.GetCVSTimeLossRawDataAll([[Machine]], [[StartDate]], [[EndDate]], [[PartName]]) order by StatusTime, StatusType, StatusLevel2;
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetCVSTimeLossRawDataPartialConsolidated">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                            // result: INFOTABLE dataShape: "KBCVSTimeLossRawDataShape"
                                            var result =  me.GetCVSTimeLossRawDataPartial({
                                            	StartDate: StartTime /* DATETIME */,
                                            	PartName: PartName /* STRING */,
                                            	EndDate: EndTime /* DATETIME */,
                                            	Machine: Machine /* STRING */
                                            });
                                                var resultLength=0;
                                            try{
                                                resultLength=result.rows.length;
                                            }catch(err){        
                                            }
                                            if(resultLength>0){
                                            	var NowTime=new Date();
                                            
                                            	for(var y=resultLength-1;y>=0;y--){
                                                	if(result.rows[y].StatusTimeEnd >NowTime){
                                                       // splitting last record
                                                        var Duration_in_sec=(NowTime -result.rows[y].StatusTimeStart) / 1000;
                                                         var LocalStatusLevel1 =  Things["KBAdministratorTranslationUtilityThing"].GetTokenValue({
                                                        	Language: Language /* STRING */,
                                                        	Token: 'KBMaschStatus.1.NA' /* STRING */
                                                        });
                                                        var LocalStatusLevel2 =  Things["KBAdministratorTranslationUtilityThing"].GetTokenValue({
                                                        	Language: Language /* STRING */,
                                                        	Token: 'KBMaschStatus.2.NA' /* STRING */
                                                        });
                                                        
                                                        var newEntry = new Object();
                                                            newEntry.StatusLevel1 = 'KBMaschStatus.1.NA'; // STRING
                                                            newEntry.StatusLevel1Local = LocalStatusLevel1; // STRING
                                                            newEntry.StatusTimeStart = NowTime; // DATETIME
                                                            newEntry.StatusTimeEnd = result.rows[y].StatusTimeEnd; // DATETIME
                                                            newEntry.isProduction = 0; // INTEGER
                                                            newEntry.StatusTime = NowTime; // DATETIME
                                                            newEntry.Duration_in_sec = result.rows[y].Duration_in_sec-Duration_in_sec; // INTEGER
                                                            newEntry.Duration_in_min = (newEntry.Duration_in_sec/60).toFixed(1); // NUMBER
                                                            newEntry.StatusType = result.rows[y].StatusType; // STRING
                                                            newEntry.StatusLevel2 = 'KBMaschStatus.2.NA'; // STRING
                                                            newEntry.StatusLevel2Local = LocalStatusLevel2; // STRING
                                                 
                                                        result.rows[y].StatusTimeEnd =NowTime;
                                                        result.rows[y].Duration_in_sec=Duration_in_sec;
                                                        result.rows[y].Duration_in_min=Duration_in_sec/60;
                                                        
                                                        result.AddRow(newEntry);
                                                    }
                                                 }
                                            }   
                                        }catch(err){
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetCVSTimeLossRawDataToExcel">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        logger.debug(me.name + ' - GetCVSTimeLossRawDataToExcel - started ');
                                        
                                        try{
                                            // result: INFOTABLE dataShape: "KBCVSTimeLossRawDataShape"
                                            var TimeLossesInfoTable =  me["GetCVSTimeLossRawDataWithTimezoneOffset"]({
                                            	Machine: Machine /* STRING */,
                                            	StartDate: StartDate /* DATETIME */,
                                            	EndDate: EndDate /* DATETIME */
                                            });
                                            
                                            // result: HYPERLINK
                                        	var result =  Things["KBSmartKPIHelperThing"].InfotableToExcel({
                                        		ExportInfotable: TimeLossesInfoTable /* INFOTABLE */,
                                            	FileName: "TimeLosses" /* STRING */,
                                            	SheetName: "Time Losses" /* STRING */
                                            });
                                        }catch(ex){
                                             
                                            logger.warn("Service error in GetCVSTimeLossRawDataToExcel " + me.name + " at " +  ex.lineNumber +  ": " + ex);
                                        }
                                        logger.debug(me.name + ' - GetCVSTimeLossRawDataToExcel - Service execution finished');
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSTimeLossRawDataWithTimeSeparation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>10000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select  CONVERT(VARCHAR(10), StatusTime, 111) StatusTime_date,
                                        CONVERT(VARCHAR(20), StatusTime, 114) StatusTime_time,
                                        CONVERT(VARCHAR(10), StatusTimeStart, 111) StatusTimeStart_date,
                                        CONVERT(VARCHAR(20), StatusTimeStart, 114) StatusTimeStart_time, 
                                        CONVERT(VARCHAR(10), StatusTimeEnd, 111) StatusTimeEnd_date,
                                        CONVERT(VARCHAR(20), StatusTimeEnd, 114) StatusTimeEnd_time, StatusTime, StatusTimeStart, StatusTimeEnd, Duration_in_sec, Duration_in_min, isProduction, isShift, StatusLevel1, StatusLevel1Local, StatusLevel2, StatusLevel2Local, StatusType, OrderNumber, PartNumber, SerialNumber,
                                         tgMaxTimeInSec, ProcessingTimeInSecAPO, PlannedNumberOfWorkers, NumberOfParts
                                        from dbo.GetCVSTimeLossRawData([[Machine]], [[StartDate]], [[EndDate]]) order by StatusTime, isProduction;
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSUsersLoginListAtLine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT isLoggedIn, userId, LastLogin, LastLogout,LoginTimeMillis FROM GetCVSUsersLoginListAtLine([[StartDate]],[[EndDate]],[[Station]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetDBOrderDataForKanban">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT OrderNumber,sum(numberOfParts) as ActualQty, OrderRequestedQty FROM
                                         (SELECT smartKPI.OrderNumber as OrderNumber,
                                          numberOfParts,a.FloatValue as OrderRequestedQty , smartKPI.Machine as Machine FROM smartKPI 
                                           inner join 
                                           (SELECT  FloatValue, OrderNumber FROM [smartKPIOrderKeyValueData] where PropertyKey='TotalOrderQuantity') a
                                           on a.OrderNumber=[smartKPI].OrderNumber
                                           where smartKPI.OrderNumber in (
                                          SELECT DISTINCT OrderNumber
                                           FROM [smartKPI] where  OrderNumber<>''and OrderNumber is not null and ProductionTime>=[[StartTime]] and ProductionTime<=[[EndTime]]  and 
                                        										   Machine in 
                                        										   (SELECT distinct [Machine]  FROM [smartKPIMachineKeyValueData] where Machine like '%MachineThing' and PropertyKey='isActive' and FloatValue=1)
                                           ) 
                                           AND a.FloatValue <>''and a.FloatValue is not null 
                                           ) b
                                                                             
                                           GROUP BY OrderNumber, OrderRequestedQty Order by OrderNumber
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetDecriptedOperator">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                            infoTableName : "InfoTable",
                                            dataShapeName : "KBGetStaffList"
                                        };
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBGetStaffList)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        var tableLength = InputInfotable.getRowCount();
                                        for (var x=0; x < tableLength; x++) {
                                            var row = InputInfotable.rows[x];
                                            var Operator = Resources["EncryptionServices"].DecryptWithKey({
                                                                            				data: InputInfotable.rows[x].Message /* STRING */ ,
                                                                            				key: "12345678901234567890123456789012345678901234567890123456" /* STRING */
                                                                            			});
                                            // KBGetStaffList entry object
                                            var newEntry = new Object();
                                            newEntry.Message = Operator; // STRING
                                            result.AddRow(newEntry);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetDecryptedOperatorStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                            infoTableName : "InfoTable",
                                            dataShapeName : "KBGetStaffStationList"
                                        };
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBGetStaffList)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        var tableLength = InputInfotable.getRowCount();
                                        for (var x=0; x < tableLength; x++) {
                                            var row = InputInfotable.rows[x];
                                            var Operator = Resources["EncryptionServices"].DecryptWithKey({
                                                                            				data: InputInfotable.rows[x].Message /* STRING */ ,
                                                                            				key: "12345678901234567890123456789012345678901234567890123456" /* STRING */
                                                                            			});
                                            // KBGetStaffList entry object
                                            var newEntry = new Object();
                                            newEntry.Message = Operator; // STRING
                                            newEntry.Machine = InputInfotable.rows[x].Machine;
                                            result.AddRow(newEntry);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetDownTimeShiftInfoByMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT
                                        	Id,
                                        	StartTime,
                                        	EndTime,
                                        	DATEDIFF(minute, StartTime, EndTime) AS Diff,
                                        	Qualifier,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0) AS T1,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7) AS T2
                                        FROM shiftCalendar
                                        WHERE Plant = [[PlantCode]]
                                        AND Machine = [[SAPMachineName]]
                                        AND StartTime >= dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0)
                                        AND StartTime < dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7)
                                        AND Qualifier IN ('D','M','P')
                                        ORDER BY
                                            StartTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetDownTimeShiftInfoWithMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT
                                        	Id,
                                            Machine,
                                        	StartTime,
                                        	EndTime,
                                        	DATEDIFF(minute, StartTime, EndTime) AS Diff,
                                        	Qualifier,
                                            Name,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0) AS T1,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7) AS T2,
                                            Utilization AS Label
                                        FROM shiftCalendar
                                        WHERE Plant = [[PlantCode]]
                                        AND Machine = [[SAPMachineName]]
                                        AND StartTime >= dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),-1)
                                        AND EndTime >= dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0)
                                        AND StartTime < dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7)
                                        AND Qualifier IN ('D','M','P')
                                        ORDER BY
                                            StartTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetDowntimeSingleTypeData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                            
                                         var data;
                                         var tableLength; 
                                         if ((Type.search(".1.PI.Meeting")>0) || (Type.search(".1.PI.Training")>0)) {
                                        															Type = Type.replace(".1.PI.", ".1.TI.");
                                        														}
                                         if(DowntimeInfotable.rows.length>0){
                                            data=DowntimeInfotable;
                                         }else{
                                                // result: INFOTABLE dataShape: ""
                                            data = me.GetMachineDowntimeData({ // result: INFOTABLE dataShape: "KBTimeLossesListDataShape"
                                                	EndTime: EndTime /* DATETIME */,
                                                	StatusType: 'Operator Screen' /* STRING */,
                                                	StartTime: StartTime /* DATETIME */,
                                                	Machine: Machine /* STRING */
                                                });
                                                
                                        	
                                         } 
                                          	try{tableLength = data.rows.length;
                                                	}catch(err){}
                                           if(tableLength>0){
                                           		for(var a=0;a<tableLength;a++){
                                        				var row1=data.rows[a];
                                        				if ((row1.Status.search(".1.PI.Meeting")>0) || (row1.Status.search(".1.PI.Training")>0)) {
                                        															row1.Status = row1.Status.replace(".1.PI.", ".1.TI.");
                                        															row1.Type="TI";
                                        														}
                                        		}
                                               if(NoProduction){
                                                 var query = 
                                                {
                                                    "filters": {
                                                        "type": "OR",
                                                        "filters": [
                                                            {
                                                                "type": "EQ",
                                                                "fieldName": "Type",
                                                                "value": "OI"
                                                            },
                                                            {
                                                                "type": "EQ",
                                                                "fieldName": "Type",
                                                                "value": "TI"
                                                            },
                                                            {
                                                                "type": "EQ",
                                                                "fieldName": "Type",
                                                                "value": "PI"
                                                            },
                                                           {
                                                               "type": "EQ",
                                                               "fieldName": "Type",
                                                               "value": "ND"
                                                           },
                                                           {
                                                               "type": "EQ",
                                                               "fieldName": "Type",
                                                               "value": "RQ"
                                                           }
                                                        ]
                                                    }
                                                };
                                               }
                                                var params = {
                                                	t: data /* INFOTABLE */,
                                                	query: query /* QUERY */
                                                };
                                                
                                                // result: INFOTABLE
                                                var data2 = Resources["InfoTableFunctions"].Query(params);
                                               // var result=data2;
                                                
                                                if(Group=='L0'){
                                                    var query1 = 
                                                    {
                                                        "filters": {
                                                                    "type": "EQ",
                                                                    "fieldName": "Type",
                                                                    "value": Type
                                                               }
                                                    };
                                                    var params3 = {
                                                    	t: data2 /* INFOTABLE */,
                                                    	query: query1 /* QUERY */
                                                    };
                                                    
                                                    // result: INFOTABLE
                                                   var  result = Resources["InfoTableFunctions"].Query(params3);
                                                    
                                                }else{
                                                    if(Group=='L1'){
                                                        var query2 = 
                                                        {
                                                            "filters": {
                                                                        "type": "EQ",
                                                                        "fieldName": "Status",
                                                                        "value": Type
                                                                   }
                                                        };
                                                        var params4 = {
                                                        	t: data2 /* INFOTABLE */,
                                                        	query: query2 /* QUERY */
                                                        };
                                                        
                                                        // result: INFOTABLE
                                                       var  result = Resources["InfoTableFunctions"].Query(params4);
                                                        
                                                    }else{
                                                        var query3 = 
                                                        {
                                                            "filters": {
                                                                "type": "EQ",
                                                                 "fieldName": "SubStatus",
                                                                 "value": Type
                                                            }
                                                        };
                                                        var params5 = {
                                                        	t: data2 /* INFOTABLE */,
                                                        	query: query3 /* QUERY */
                                                        };
                                                        
                                                        // result: INFOTABLE
                                                         var result = Resources["InfoTableFunctions"].Query(params5);
                                                    }
                                                }
                                            }
                                        
                                        
                                        // var result=data;
                                        } catch(err) {
                                        	logger.error("Error of service GetDowntimeSingleTypeData: " + err + " , on: " + me.name);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetDowntimesWithLabel">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        // Downtimes for each minute
                                        // #0. case of 0 record
                                        try {
                                        	var offset;
                                        	if (TimeLosses === undefined || TimeLosses === null) {
                                        //		// result: INFOTABLE dataShape: "KBTimeLossesListDataShape"
                                        //		TimeLosses = me.GetMachineDowntimeData({
                                        //			EndTime: EndTime /* DATETIME */ ,
                                        //			StatusType: 'Operator Screen' /* STRING */ ,
                                        //			StartTime: StartTime /* DATETIME */ ,
                                        //			Machine: Station /* STRING */
                                        //		});
                                        	}
                                        
                                        	var MyLanguage;
                                        	if (Language === "" || Language === undefined) {
                                        		MyLanguage = 'Default';
                                        	} else {
                                        		MyLanguage = Language;
                                        	}
                                        	var tableLength = TimeLosses.rows.length;
                                        //	if (tableLength > 0) {} else {
                                        //		// result: INFOTABLE dataShape: "KBTimeLossesListDataShape"
                                        //		TimeLosses = me.GetMachineDowntimeData({
                                        //			EndTime: EndTime /* DATETIME */ ,
                                        //			StatusType: 'Operator Screen' /* STRING */ ,
                                        //			StartTime: StartTime /* DATETIME */ ,
                                        //			Machine: Station /* STRING */
                                        //		});
                                        //	}
                                            
                                        	tableLength = TimeLosses.rows.length;
                                        	for (var aa = 0; aa < tableLength; aa++) {
                                        		var row1 = TimeLosses.rows[aa];
                                        		if ((row1.Status.search(".1.PI.Meeting") > 0) || (row1.Status.search(".1.PI.Training") > 0)) {
                                        			row1.Status = row1.Status.replace(".1.PI.", ".1.TI.");
                                        			row1.Type = "TI";
                                        		}
                                        	}
                                        	var params = {
                                        		sortColumn: 'StartTime' /* STRING */ ,
                                        		t: TimeLosses /* INFOTABLE */ ,
                                        		ascending: true /* BOOLEAN */
                                        	};
                                        
                                        	// result: INFOTABLE
                                        	var SortedTimeLosses = Resources["InfoTableFunctions"].Sort(params);
                                        	//logger.debug("GetDowntimesWithLabel: SortedTimeLosses  created.");	
                                        	logger.debug("GetDowntimesWithLabel: TimeLosses length =" + tableLength);
                                        	var params0 = {
                                        		infoTableName: "InfoTable",
                                        		dataShapeName: "KBTimeLossesListDataShape"
                                        	};
                                        	var baseTable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params0);
                                        
                                        	var T1 = StartTime;
                                        	var T2 = EndTime;
                                        	var Step;
                                        	var MainPeriodInMinutes = parseInt(dateDifference(EndTime, StartTime) / 60000);
                                        	if (StepInMinutes !== "" && StepInMinutes !== undefined) {
                                        		Step = StepInMinutes;
                                        	} else {
                                        		if (MainPeriodInMinutes > 1440) {
                                        			Step = 5;
                                        		} else {
                                        			Step = 1;
                                        		}
                                        	}
                                        	MainPeriodInMinutes = MainPeriodInMinutes / Step;
                                        	logger.debug("GetDowntimesWithLabel: MainPeriodInMinutes length =" + MainPeriodInMinutes);
                                        	// create basic pattern with NA fields
                                        
                                        	var st = T1;
                                        	for (var c0 = 0; c0 < MainPeriodInMinutes; c0++) {
                                        		var et = dateAddMinutes(st, Step);
                                        		// KBTimeLossesListDataShape entry object
                                        		baseTable.AddRow({
                                        			Status: undefined,
                                        			Type: "NA",
                                        			EndTime: et,
                                        			StartTime: st,
                                        			SubStatus: undefined
                                        		});
                                        		st = et;
                                        	}
                                        	logger.debug("GetDowntimesWithLabel: baseTable created.");
                                        	var baseTableLength = 0;
                                        	try {
                                        		if (baseTable.rows.length > 0) {
                                        			baseTableLength = baseTable.rows.length;
                                        		} else {
                                        			baseTableLength = 0;
                                        		}
                                        	} catch (err) {}
                                        	// #2. change minutes where downtime exists
                                        	var SameStatusEnd = 0;
                                        	var SameStatusStart = 0;
                                        	var c = 0;
                                        	logger.debug("DEBUG GetDowntimesWithLabel: a:0 , c: " + c + " , tableLength: " + tableLength);
                                        	for (var a = 0; a < tableLength; a++) {
                                        
                                        		if (a >= c) {
                                        
                                        			var row = SortedTimeLosses.rows[a];
                                        			if (a != tableLength - 1) {
                                        				if (row.EndTime == SortedTimeLosses.rows[a + 1].StartTime) {
                                        					if (SameStatusStart === 0) {
                                        						SameStatusStart = row.StartTime;
                                        						for (b = a; SortedTimeLosses.rows.length - 1; b++) {
                                        							if (SortedTimeLosses.rows[b].EndTime >= SortedTimeLosses.rows[b + 1].StartTime) {
                                        								SameStatusEnd = SortedTimeLosses.rows[b + 1].EndTime;
                                        								c = b;
                                        							}
                                        						}
                                        					}
                                        				} else {
                                        					SameStatusStart = row.StartTime;
                                        					SameStatusEnd = row.EndTime;
                                        					c = 0;
                                        				}
                                        			} else {
                                        				if (SameStatusEnd != row.EndTime) {
                                        					SameStatusStart = row.StartTime;
                                        					SameStatusEnd = row.EndTime;
                                        					c = 0;
                                        				}
                                        			}
                                        			var MinutesTo1st = parseInt((dateDifference(SameStatusStart, StartTime) / 60000) / Step);
                                        			logger.debug("GetDowntimesWithLabel: MinutesTo1st 3: " + MinutesTo1st);
                                        			var MinutesToEnd = parseInt((dateDifference(SameStatusEnd, StartTime) / 60000) / Step);
                                        			var Label;
                                        			logger.debug("GetDowntimesWithLabel: MinutesToEnd 3: " + MinutesToEnd);
                                        			if (baseTableLength > 0) {
                                        				if (OverlapSteps) { // check if checked period <=x or just < x
                                        					logger.debug("DEBUG GetDowntimesWithLabel: MinutesTo1st: " + MinutesTo1st + " , MinutesToEnd: " + MinutesToEnd);
                                        					for (var x = MinutesTo1st; x <= MinutesToEnd; x++) {
                                        						logger.debug("DEBUG GetDowntimesWithLabel: start: " + parseInt((dateDifference(row.StartTime, StartTime) / 60000) / Step) + " , x: " + x + " , End: " + parseInt((dateDifference(row.EndTime, StartTime)) / 60000));
                                        						if ((parseInt((dateDifference(row.StartTime, StartTime) / 60000) / Step) <= x) && (parseInt((dateDifference(row.EndTime, StartTime) / 60000) / Step) >= x)) {
                                        							if (x < baseTable.rows.length && x > 0 && x < MainPeriodInMinutes) {
                                        								baseTable.rows[x].Type = row.Type;
                                        								Label = "";
                                        								if (Group == 'L0') {
                                        									try {
                                        
                                        										var params5 = {
                                        											name: 'KBMaschStatus.1.' + row.Type /* STRING */
                                        										};
                                        
                                        										// result: STRING
                                        										StatusValue = LocalizationTables[MyLanguage].GetToken(params5);
                                        
                                        									} catch (err) {
                                        										StatusValue = row.Type;
                                        									}
                                        									baseTable.rows[x].Status = StatusValue;
                                        									Label = StatusValue + ", ";
                                        									// result=result+baseTable.rows[x].Type+ "-"+x+",";
                                        								} else {
                                        									if (Group == 'L1') {
                                        										try {
                                        											StatusValue = LocalizationTables[MyLanguage].GetToken({
                                        												name: row.Status
                                        											});
                                        
                                        										} catch (err) {
                                        											StatusValue = row.Status;
                                        										}
                                        										baseTable.rows[x].Status = StatusValue;
                                        										Label = StatusValue + ", ";
                                        										// result=result+baseTable.rows[x].Type+ "-"+x+",";
                                        									} else {
                                        										if (Group == 'L2') {
                                        											try {
                                        												StatusValue = LocalizationTables[MyLanguage].GetToken({
                                        													name: row.SubStatus
                                        												});
                                        
                                        											} catch (err) {
                                        												StatusValue = row.SubStatus;
                                        											}
                                        											baseTable.rows[x].Status = StatusValue;
                                        											Label = StatusValue + ", ";
                                        										}
                                        									}
                                        								}
                                        								offset = Resources["KBThingWorxServerSystem"].GetTimeZoneOffsetInMinutesWithDate({
                                        									timeZoneId: Things['KBTimeHelperThing'].ServerTimeZone,
                                        									dateTime: SameStatusStart
                                        								});
                                        								Label = Label + dateFormat(dateAddMinutes(SameStatusStart, offset), "yyyy-MM-dd HH:mm:ss") + " ~ ";
                                        								Label = Label + dateFormat(dateAddMinutes(SameStatusEnd, offset), "yyyy-MM-dd HH:mm:ss");
                                        								baseTable.rows[x].SubStatus = Label;
                                        							}
                                        						}
                                        					}
                                        				} else {
                                        					for (var xx = MinutesTo1st; xx <= MinutesToEnd; xx++) {
                                        						//logger.error("GetDowntimesWithLabel: start: " +(parseInt((dateDifference(row.StartTime, StartTime)/60000)/Step))+" , xx: "+xx+" , End: "+parseInt((dateDifference(row.EndTime, StartTime)/60000)/Step));	
                                        						if ((parseInt((dateDifference(row.StartTime, StartTime) / 60000) / Step) <= xx) && (parseInt((dateDifference(row.EndTime, StartTime) / 60000) / Step) > xx)) {
                                        							if (xx < baseTable.rows.length && xx > 0 && xx < MainPeriodInMinutes) {
                                        								baseTable.rows[xx].Type = row.Type;
                                        
                                        								Label = "";
                                        								if (Group == 'L0') {
                                        									try {
                                        										StatusValue = LocalizationTables[MyLanguage].GetToken({
                                        											name: 'KBMaschStatus.1.' + row.Type
                                        										});
                                        									} catch (err) {
                                        										StatusValue = row.Type;
                                        									}
                                        									baseTable.rows[xx].Status = StatusValue;
                                        									Label = StatusValue + ", ";
                                        									// result=result+baseTable.rows[xx].Type+ "-"+xx+",";
                                        								} else {
                                        									if (Group == 'L1') {
                                        										try {
                                        
                                        											StatusValue = LocalizationTables[MyLanguage].GetToken({
                                        												name: row.Status
                                        											});
                                        										} catch (err) {
                                        											StatusValue = row.Status;
                                        										}
                                        										baseTable.rows[xx].Status = StatusValue;
                                        										Label = StatusValue + ", ";
                                        										// result=result+baseTable.rows[xx].Type+ "-"+xx+",";
                                        									} else {
                                        										if (Group == 'L2') {
                                        											try {
                                        												StatusValue = LocalizationTables[MyLanguage].GetToken({
                                        													name: row.SubStatus
                                        												});
                                        
                                        											} catch (err) {
                                        												StatusValue = row.SubStatus;
                                        											}
                                        											baseTable.rows[xx].Status = StatusValue;
                                        											Label = StatusValue + ", ";
                                        										}
                                        									}
                                        								}
                                        								offset = Resources["KBThingWorxServerSystem"].GetTimeZoneOffsetInMinutesWithDate({
                                        									timeZoneId: Things['KBTimeHelperThing'].ServerTimeZone,
                                        									dateTime: SameStatusStart
                                        								});
                                        								Label = Label + dateFormat(dateAddMinutes(SameStatusStart, offset), "yyyy-MM-dd HH:mm:ss") + " ~ ";
                                        								Label = Label + dateFormat(dateAddMinutes(SameStatusEnd, offset), "yyyy-MM-dd HH:mm:ss");
                                        								baseTable.rows[xx].SubStatus = Label;
                                        							}
                                        						}
                                        					}
                                        				}
                                        			}
                                        			SameStatusStart = 0;
                                        			SameStatusEnd = 0;
                                        		}
                                        	}
                                        	logger.debug("GetDowntimesWithLabel: baseTable length with id =" + baseTable.rows.length);
                                        	var result = baseTable;
                                        
                                        } catch (err) {
                                        	logger.error("GetDowntimesWithLabel Error: " + err + " on thing: " + me.name + " at: " + err.lineNumber);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetDowntimeTypesList">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                         var data;
                                         var data2;
                                         var data3;
                                         var MyLanguage;
                                        var RQInfotable;
                                            
                                        
                                            
                                            if (Language===""||Language===undefined){
                                             MyLanguage='Default';
                                            }else{MyLanguage=Language;
                                            }
                                          // var result=data2;
                                            var params3 = {
                                                infoTableName : "InfoTable",
                                                dataShapeName : "KBTimeLossesTypeListDataShape"
                                            };
                                            
                                            // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBTimeLossesTypeListDataShape)
                                            var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params3);
                                            var params2 = {
                                                infoTableName : "InfoTable",
                                                dataShapeName : "KBTimeLossesListDataShape"
                                            };
                                            
                                             data2 = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params2);
                                         if(DowntimeInfotable !==null  && DowntimeInfotable!==undefined){
                                             if(DowntimeInfotable.rows.length>0){
                                                data=DowntimeInfotable;
                                             }else{
                                                    // result: INFOTABLE dataShape: ""
                                                data =  me.GetMachineDowntimeData({
                                                	StatusType: 'Operator Screen' /* STRING */,
                                                	StartTime: StartTime /* DATETIME */,
                                                	EndTime: EndTime /* DATETIME */,
                                                	Machine: Machine /* STRING */
                                                });
                                             }   
                                             if(data.rows.length>0){
                                                 if(NoProduction){
                                                     var query = 
                                                    {
                                                        "filters": {
                                                            "type": "OR",
                                                            "filters": [
                                                                {
                                                                    "type": "EQ",
                                                                    "fieldName": "Type",
                                                                    "value": "OI"
                                                                },
                                                                {
                                                                    "type": "EQ",
                                                                    "fieldName": "Type",
                                                                    "value": "TI"
                                                                },
                                                                {
                                                                    "type": "EQ",
                                                                    "fieldName": "Type",
                                                                    "value": "PI"
                                                                },
                                                                {
                                                                    "type": "EQ",
                                                                    "fieldName": "Type",
                                                                    "value": "ND"
                                                                }
                                                            ]
                                                        }
                                                    };
                                                    var params = {
                                                    	t: data /* INFOTABLE */,
                                                    	query: query /* QUERY */
                                                    };
                                                    
                                                    // result: INFOTABLE
                                                     data2 = Resources["InfoTableFunctions"].Query(params);
                                                 }else{
                                                      data2 =data;
                                                  }
                                                for(var z=0;z<data2.rows.length;z++){
                                                     	if(data2.rows[z].Status=='KBMaschStatus.1.OI.AutoSet'){
                                                            if(data2.rows[z].SubStatus=='KBMaschStatus.2.OI.AutoSet.Start'){
                                                        		data2.rows[z].SubStatus='KBMaschStatus.2.ND.AutoSet.Start';
                                                                data2.rows[z].Status='KBMaschStatus.1.ND.AutoSet';
                                                                data2.rows[z].Type='ND';
                                                            }
                                                        }
                                                        if(data2.rows[z].Status=='KBMaschStatus.1.TI.MachineBreakdown'){
                                                            if(data2.rows[z].SubStatus=='KBMaschStatus.2.TI.MachineBreakdown.all.unspecifiedmachineerror'){
                                                        		data2.rows[z].SubStatus='KBMaschStatus.2.ND.AutoSet.unspecifiedmachineerror';
                                                                data2.rows[z].Status='KBMaschStatus.1.ND.AutoSet';
                                                                data2.rows[z].Type='ND';
                                                            }
                                                        }
                                                     }
                                                  }
                                         }
                                        
                                            // result: INFOTABLE dataShape: "KBTimeLossesListDataShape"
                                         RQInfotable =  me.GetRQDowntimeList({
                                        	EndTime: EndTime /* DATETIME */,
                                        	StartTime: StartTime /* DATETIME */,
                                        	Machine: Machine /* STRING */
                                        });
                                                  //  result =RQInfotable;
                                                  for(var y=0;y<RQInfotable.rows.length;y++){
                                                        // KBTimeLossesListDataShape entry object
                                                        var newEntry = new Object();
                                                        newEntry.Status =  RQInfotable.rows[y].Status; // STRING
                                                        newEntry.Type = RQInfotable.rows[y].Type; // STRING
                                                        newEntry.EndTime =  RQInfotable.rows[y].EndTime; // DATETIME
                                                        newEntry.StartTime =  RQInfotable.rows[y].StartTime; // DATETIME
                                                        newEntry.SubStatus =  RQInfotable.rows[y].SubStatus; // STRING
                                                        newEntry.Duration =  RQInfotable.rows[y].Duration; // STRING
                                                        data2.AddRow(newEntry);
                                            	 }
                                               // logger.error("Error of service GetDowntimeTypesList: middle" );
                                         
                                                    if(Group=='L0'){
                                                        var params5 = {
                                                        	t: data2 /* INFOTABLE */,
                                                        	columns: "Duration" /* STRING */,
                                                        	aggregates:  "SUM" /* STRING */,
                                                        	groupByColumns: "Type"  /* STRING */
                                                        };
                                                        
                                                        // result: INFOTABLE
                                                         resultData = Resources["InfoTableFunctions"].Aggregate(params5);
                                                        for(x=0;x<resultData.rows.length;x++){
                                                                        // KBTimeLossesTypeListDataShape entry object
                                                            var TypX=resultData.rows[x].Type;
                                                           var query2 = {
                                                                "filters": {
                                                                            "type": "EQ",
                                                                            "fieldName": "Type",
                                                                            "value": TypX
                                                                }
                                                            };
                                                            var params5 = {
                                                            	t: data2 /* INFOTABLE */,
                                                            	query: query2 /* QUERY */
                                                            };
                                                            // result: INFOTABLE
                                                            data3 = Resources["InfoTableFunctions"].Query(params5);
                                                            var StatusValue;
                                                            try{       
                                                             	var params6 = {
                                                                    name: 'KBMaschStatus.1.'+resultData.rows[x].Type /* STRING */
                                                                };
                                            
                                                                // result: STRING
                                                                StatusValue = LocalizationTables[MyLanguage].GetToken(params6);
                                            
                                                            } catch(err) {
                                            					StatusValue =resultData.rows[x].Status ;
                                                            }
                                                             var newEntry = new Object();
                                                            newEntry.Status = StatusValue; // STRING
                                                            newEntry.COUNT_Status = resultData.rows[x].SUM_Duration; // NUMBER
                                                            newEntry.Type = resultData.rows[x].Type; // STRING
                                                            newEntry.StatusData = data3; // INFOTABLE
                                                            
                                                            result.AddRow(newEntry);
                                            			}
                                                
                                                    }else{
                                                        if(Group=='L1'){
                                                            var params7 = {
                                                            	t: data2 /* INFOTABLE */,
                                                            	columns: "Duration" /* STRING */,
                                                            	aggregates:  "SUM" /* STRING */,
                                                            	groupByColumns: "Type,Status"  /* STRING */
                                                            };
                                                            
                                                            // result: INFOTABLE
                                                             resultData = Resources["InfoTableFunctions"].Aggregate(params7);
                                                            
                                                            for(x=0;x<resultData.rows.length;x++){
                                                                            // KBTimeLossesTypeListDataShape entry object
                                                                var StatusX=resultData.rows[x].Status;
                                                               var query3 = {
                                                                    "filters": {
                                        										"type": "EQ",
                                        										"fieldName": "Status",
                                        										"value": StatusX
                                                                    }
                                                                };
                                                                var params8 = {
                                                                	t: data2 /* INFOTABLE */,
                                                                	query: query3 /* QUERY */
                                                                };
                                                                // result: INFOTABLE
                                                                data3 = Resources["InfoTableFunctions"].Query(params8);
                                                                var StatusValue;
                                                                try{       
                                                                 	var params9 = {
                                                                        name: resultData.rows[x].Status /* STRING */
                                                                    };
                                                
                                                                    // result: STRING
                                                                    StatusValue = LocalizationTables[MyLanguage].GetToken(params9);
                                                
                                                                } catch(err) {
                                                					StatusValue =resultData.rows[x].Status ;
                                                                }
                                                                 var newEntry = new Object();
                                                                newEntry.Status = StatusValue; // STRING
                                                                newEntry.COUNT_Status = resultData.rows[x].SUM_Duration; // NUMBER
                                                                newEntry.Type = resultData.rows[x].Status; // STRING
                                                                newEntry.StatusData = data3; // INFOTABLE
                                                                
                                                                result.AddRow(newEntry);
                                                			}
                                                    
                                                        }else{
                                                            var params10 = {
                                                            	t: data2 /* INFOTABLE */,
                                                            	columns: "Duration" /* STRING */,
                                                            	aggregates:  "SUM" /* STRING */,
                                                            	groupByColumns: "Type,SubStatus"  /* STRING */
                                                            };
                                                            // result: INFOTABLE
                                                            resultData = Resources["InfoTableFunctions"].Aggregate(params10);
                                                            for(x=0;x<resultData.rows.length;x++){
                                                                            // KBTimeLossesTypeListDataShape entry object
                                                                var SubStatusX=resultData.rows[x].SubStatus;
                                                               var query4 = {
                                                                    "filters": {
                                        							"type": "EQ",
                                        							"fieldName": "SubStatus",
                                        							"value": SubStatusX
                                                                    }
                                                                };
                                                                var params11 = {
                                                                	t: data2 /* INFOTABLE */,
                                                                	query: query4 /* QUERY */
                                                                };
                                                                // result: INFOTABLE
                                                                 data3 = Resources["InfoTableFunctions"].Query(params11);
                                                                var SubStatusValue;
                                                                try{       
                                                                 	var params12 = {
                                                                        name: resultData.rows[x].SubStatus /* STRING */
                                                                    };
                                                
                                                                    // result: STRING
                                                                    SubStatusValue = LocalizationTables[MyLanguage].GetToken(params12);
                                                
                                                                } catch(err) {
                                                					SubStatusValue =resultData.rows[x].SubStatus ;
                                                                }
                                                                var newEntry = new Object();
                                                                newEntry.Status = SubStatusValue; // STRING
                                                                newEntry.COUNT_Status = resultData.rows[x].SUM_Duration; // NUMBER
                                                                newEntry.Type = resultData.rows[x].SubStatus; // STRING
                                                                newEntry.StatusData = data3; // INFOTABLE
                                                                
                                                                result.AddRow(newEntry);
                                                			}
                                                        }
                                                    }
                                            
                                            var sort = new Object();
                                            sort.name = 'COUNT_Status';
                                            sort.ascending = false;
                                            result.Sort(sort);
                                         
                                        } catch(err) {
                                        	logger.error("Error of service GetDowntimeTypesList: " + err + " , on: " + me.name+ " , at row: " + err.lineNumber );
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetEarliestPlannedOrdersByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                        			o5.DateTimeValue as ScheduledStartExecution,
                                        			o6.DateTimeValue as ScheduledFinishExecution,
                                        			o2.FloatValue as TotalOrderQuantity, 
                                        			o3.TextValue as MaterialNumber, 
                                        			o3.UTCUpdateTime as UpdateTime,
                                        			o3.OrderNumber, 
                                        			o1.Operation,
                                        			o4.TextValue as Operations
                                        		from [smartKPIOrderKeyValueData] o1, [smartKPIOrderKeyValueData] o2, [smartKPIOrderKeyValueData] o3, [smartKPIOrderKeyValueData] o4, [smartKPIOrderKeyValueData] o5, [smartKPIOrderKeyValueData] o6
                                        			where o1.OrderNumber = o2.OrderNumber
                                        			and o1.OrderNumber = o3.OrderNumber
                                        			and o1.OrderNumber = o4.OrderNumber
                                        			and o1.OrderNumber = o5.OrderNumber
                                        			and o1.OrderNumber = o6.OrderNumber
                                        			and o3.Operation = ''
                                        			and o2.Operation = ''
                                        			and o4.Operation = ''
                                        			and o1.Operation = o5.Operation
                                        			and o5.Operation != ''
                                        			and o1.Operation = o6.Operation
                                        			and o5.Operation != ''
                                        			and o1.TextValue = [[SAPMachineName]]
                                        			and o1.PropertyKey1 = 'Line'
                                        			and o2.PropertyKey1 = 'TotalOrderQuantity'
                                        			and o3.PropertyKey1 = 'MaterialNumber'
                                        			and o4.PropertyKey1 = 'Operations'
                                        			and o5.PropertyKey1 = 'EarliestScheduledStartExecution'
                                        			and o6.PropertyKey1 = 'EarliestScheduledFinishExecution'
                                        			and (o5.DateTimeValue between [[StartDate]] and [[EndDate]] or o6.DateTimeValue between [[StartDate]] and [[EndDate]])
                                        		order by o5.DateTimeValue;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetEmployeeData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 
                                        	   [smartKPIUserData].[Id] as EmployeeId
                                              ,[smartKPIUserData].[CreationTime] as EmployeeCreationTime
                                              ,[smartKPIUserData].[System]
                                              ,[smartKPIUserData].[UserId] as EmployeeNumber
                                              ,[smartKPIUserData].[UTCUpdateTime] as EmployeeUpdateTime
                                        	  ,[smartKPIUserKeyValueData].[Id] as KeyValueId
                                              ,[smartKPIUserKeyValueData].[CreationTime] as KeyValueCreationTime
                                              ,[smartKPIUserKeyValueData].[PropertyKey]
                                              ,[smartKPIUserKeyValueData].[FloatValue]
                                              ,[smartKPIUserKeyValueData].[TextValue]
                                              ,[smartKPIUserKeyValueData].[DateTimeValue]
                                              ,[smartKPIUserKeyValueData].[isFloatValue]
                                              ,[smartKPIUserKeyValueData].[isTextValue]
                                              ,[smartKPIUserKeyValueData].[isDateTimeValue]
                                              ,[smartKPIUserKeyValueData].[UTCUpdateTime]  as KeyValueUpdateTime
                                          FROM [smartKPIUserKeyValueData], [smartKPIUserData]
                                          where [smartKPIUserData].[UserId] like convert(varchar(255), [[EmployeeNumber]])
                                          and [smartKPIUserData].[System] = convert(varchar(255), [[System]])
                                          and [smartKPIUserKeyValueData].[UserId] = [smartKPIUserData].[UserId]
                                          and [smartKPIUserKeyValueData].[System] = [smartKPIUserData].[System]
                                          and ([smartKPIUserKeyValueData].[PropertyKey] like convert(varchar(255), [[PropertyKey]]) or convert(varchar(255), [[PropertyKey]]) = 'undefined')
                                          union
                                           SELECT 
                                        	   [smartKPIUserData].[Id] 
                                              ,[smartKPIUserData].[CreationTime] 
                                              ,[smartKPIUserData].[System]
                                              ,[smartKPIUserData].[UserId]
                                              ,[smartKPIUserData].UTCUpdateTime 
                                        	  ,null 
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                          FROM [smartKPIUserData]
                                          where [smartKPIUserData].[UserId] like convert(varchar(255), [[UserId]])
                                          and [smartKPIUserData].[System] = convert(varchar(255), [[System]])
                                          and (convert(varchar(255), [[PropertyKey]]) = 'undefined' or convert(varchar(255), [[PropertyKey]]) = '%')
                                          and not exists (select 'ok' from [smartKPIUserKeyValueData]
                                          where [smartKPIUserKeyValueData].[UserId] = [smartKPIUserData].[UserId]
                                          and [smartKPIUserKeyValueData].[System] = [smartKPIUserData].[System])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetFloatDataNOKReasonFiltered">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var FloatDataNOKReasonDataInfoTable;
                                        var TableLength;
                                        try{
                                            if(FloatDataNOKReasonDataInfoTable.rows.length>0){
                                                TableLength=FloatDataNOKReasonDataInfoTable.rows.length;
                                            }else{
                                                FloatDataNOKReasonDataInfoTable =  me.GetFloatDataNOKReasons({
                                                	Machine: Machine /* STRING */,
                                                	StartTime: StartTime /* DATETIME */,
                                                	EndTime: EndTime /* DATETIME */
                                                });
                                                if(FloatDataNOKReasonDataInfoTable.rows.length>0){
                                           	     	TableLength=FloatDataNOKReasonDataInfoTable.rows.length;
                                                }else{
                                                    TableLength=0;
                                                }
                                            }
                                        }catch(Err){
                                            TableLength=0;
                                        }
                                        var result=FloatDataNOKReasonDataInfoTable;
                                            if(TableLength>0){
                                                 var query =
                                                            {"filters": {
                                                                            "type": "EQ",
                                                                            "fieldName": "ProcesDataType",
                                                                            "value": ProcesDataType
                                                                        }
                                                            }; 
                                                            var params3 = {
                                                            	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                            	query: query /* QUERY */
                                                            };
                                                           var result = Resources["InfoTableFunctions"].Query(params3);
                                        	}
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetFloatDataNOKReasons">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [CreationTime]
                                              ,[Machine]
                                              ,[ProductionTime]
                                              ,[ProcesDataType]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                              ,[isUpdated]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                              ,[TrackingNumber]
                                              ,'Line' as ProcesDataType2
                                          FROM [smartKPIProcessFloatData] where ProductionTime in 
                                          (select ProductionTime from [smartKPIProcessFloatData] where (ProcesDataType='Test Result' and ProcesData=0 ) )
                                          and (([description]='NIO' or [description]='NOK')  OR ([comment]='NIO' or [comment]='NOK')) and  ([ProductionTime]>[[StartTime]] and [ProductionTime]<[[EndTime]])
                                          and Machine like [[Machine]]+'%'  
                                          
                                        UNION ALL
                                        
                                        SELECT [CreationTime]
                                              ,[Machine]
                                              ,[ProductionTime]
                                              ,[ProcesDataType]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                              ,[isUpdated]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                              ,[TrackingNumber]
                                              ,'StationOnly' as ProcesDataType2
                                          FROM [smartKPIProcessFloatData] where ProductionTime not in 
                                          (select ProductionTime from [smartKPIProcessFloatData] where (ProcesDataType='Test Result' and ProcesData=0 ) ) 
                                          and ((description='NIO' or description='NOK')  OR ([comment]='NIO' or [comment]='NOK')) and ([ProductionTime]>[[StartTime]] and [ProductionTime]<[[EndTime]])
                                          and Machine like [[Machine]]+'%'  
                                        
                                          order by [ProductionTime] desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetFloatDataNOKReasonSum">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var FloatDataNOKReasonDataInfoTable;
                                        try{
                                            if(FloatDataNOKReasonDataInfoTable.rows.length>0){
                                                TableLength=FloatDataNOKReasonDataInfoTable.rows.length;
                                            }else{
                                                FloatDataNOKReasonDataInfoTable =  me.GetFloatDataNOKReasons({
                                                	Machine: Machine /* STRING */,
                                                	StartTime: StartTime /* DATETIME */,
                                                	EndTime: EndTime /* DATETIME */
                                                });
                                                if(FloatDataNOKReasonDataInfoTable.rows.length>0){
                                                TableLength=FloatDataNOKReasonDataInfoTable.rows.length;
                                                }else{
                                                    TableLength=0;
                                                }
                                            }
                                        }catch(Err){
                                            TableLength=0;
                                        }
                                        try{
                                             var TotalSumCount=0;
                                             var CumulativePercentage=0;
                                            if(TableLength>0){
                                                var params = {
                                                    infoTableName : "InfoTable",
                                                    dataShapeName : "FloatDataNOKReasonSumDataShape"
                                                };
                                                
                                                // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(FloatDataNOKReasonSumDataShape)
                                                var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                                
                                                if(LineOnly){
                                                	var query =
                                                            {
                                                                "filters": {
                                                                "type": "AND",
                                                                "filters": [
                                                                    {
                                                                        "type": "EQ",
                                                                        "fieldName": "ProcesDataType2",
                                                                        "value": 'Line'
                                                                    },
                                                                    {   "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Total Result"
                                                                    },
                                                                    {
                                                                        "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Result"
                                                                    }
                                                                ]
                                                            	}
                                                            }; 
                                                    
                                                    
                                                      {
                                                        
                                                            var params3 = {
                                                            	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                            	query: query /* QUERY */
                                                            };
                                                            FloatDataNOKReasonDataInfoTable = Resources["InfoTableFunctions"].Query(params3);
                                                
                                                }
                                                var params4 = {
                                                	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                	columns: "ProcesDataType" /* STRING */,
                                                	aggregates: "COUNT" /* STRING */,
                                                	groupByColumns: "ProcesDataType,ProcesDataType2"  /* STRING */
                                                };
                                            
                                             	var FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Aggregate(params4);
                                               
                                                 for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                 	TotalSumCount+=FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType;
                                                 }
                                             	FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Sort({
                                                	t: FloatDataNOKReasonDataSumInfoTable,
                                                	sortColumn: "COUNT_ProcesDataType",
                                                	ascending: false
                                                });
                                                
                                                var a=0;
                                                for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                    if(!Top10 || x<10){
                                                        var newEntry = new Object();
                                                        	CumulativePercentage+=(FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100;
                                                            newEntry.CumulativePercent = CumulativePercentage; // NUMBER
                                                        	newEntry.Percent = (FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100; // NUMBER
                                                            newEntry.COUNT_ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType; // NUMBER
                                                            newEntry.ProcesDataType2 = FloatDataNOKReasonDataSumInfoTable.rows[x].ProcesDataType2; // STRING
                                                            newEntry.ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].ProcesDataType; // STRING
                                                        result.AddRow(newEntry);
                                                    }
                                                }
                                        	}else{
                                        		var query =
                                                            {
                                                                "filters": {
                                                                "type": "AND",
                                                                "filters": [
                                                                    {
                                                                         "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Total Result"
                                                                    },
                                                                    {
                                                                        "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Result"
                                                                    }
                                                                ]
                                                            	}
                                                            }; 
                                                     
                                                            var params3 = {
                                                            	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                            	query: query /* QUERY */
                                                            };
                                                            FloatDataNOKReasonDataInfoTable = Resources["InfoTableFunctions"].Query(params3);
                                                
                                                
                                                var params4 = {
                                                	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                	columns: "ProcesDataType" /* STRING */,
                                                	aggregates: "COUNT" /* STRING */,
                                                	groupByColumns: "ProcesDataType"  /* STRING */
                                                };
                                            
                                             	var FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Aggregate(params4);
                                        
                                                 for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                 	TotalSumCount+=FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType;
                                                 }
                                             	FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Sort({
                                                	t: FloatDataNOKReasonDataSumInfoTable,
                                                	sortColumn: "COUNT_ProcesDataType",
                                                	ascending: false
                                                });
                                                
                                                var a=0;
                                                for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                    if(!Top10 || x<10){
                                                        var newEntry = new Object();
                                                        	CumulativePercentage+=(FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100;
                                                            newEntry.CumulativePercent = CumulativePercentage; // NUMBER
                                                        	newEntry.Percent = (FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100; // NUMBER
                                                            newEntry.COUNT_ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType; // NUMBER
                                                            newEntry.ProcesDataType2 = 'All'; // STRING
                                                            newEntry.ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].ProcesDataType; // STRING
                                                        result.AddRow(newEntry);
                                                    }
                                                }
                                        	}
                                          }
                                        }catch(err) {
                                        logger.error('Service error in NameofYourService ' + me.name + ' at ' + err.lineNumber + ': ' + err);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetFullShifts">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [TEMP_SmartKPIFullShift]
                                          where Machine = [[Machine]]
                                          and CurrentStartTime > [[StartDate]]
                                          and CurrentStartTime < [[EndDate]]
                                          order by CurrentStartTime;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetFullShiftTime">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetFullShift @Machine = [[Machine]], @ShiftStart = [[date]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetFullShiftTimeMinus">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetFullShiftMinus @Machine = [[Machine]], @ShiftStart = [[date]], @MinusIterations=[[Iterations]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetFullShiftTimeMinus_With_UTC_Time_Offset">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE GetFullShiftMinus @Machine = [[Machine]], @ShiftStart = [[date]], @MinusIterations=[[Iterations]], @UtcTimeOffset=[[UtcTimeOffset]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetIoNioDataLast24h">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-24*60,0);
                                        declare @dt2 as datetime = GETUTCDATE();
                                        
                                        select IO.KPIDateTime, isnull(IO.KPIValue,0) as KPIFloatValue, isnull(NIO.KPIValue,0) as KPIFloatValue1 from 
                                        (select x.[KPIDateTime] as [KPIDateTime], sum(x.[KPIValue]) as [KPIValue] from (
                                        	select dateadd(minute, convert(int,DATEDIFF(minute,0,ProductionTime)/15)*15,0) as [KPIDateTime], sum(numberOfParts) as [KPIValue] 
                                        		from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 1 
                                        		group by dateadd(minute, convert(int,DATEDIFF(minute,0,ProductionTime)/15)*15,0)
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-0*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-1*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-2*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-3*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-4*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-5*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-6*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-7*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-8*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-9*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-10*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-11*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-12*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-13*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-14*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-15*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-16*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-17*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-18*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-19*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-20*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-21*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-22*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-23*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-24*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-25*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-26*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-27*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-28*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-29*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-30*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-31*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-32*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-33*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-34*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-35*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-36*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-37*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-38*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-39*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-40*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-41*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-42*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-43*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-44*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-45*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-46*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-47*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-48*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-49*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-50*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-51*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-52*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-53*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-54*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-55*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-56*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-57*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-58*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-59*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-60*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-61*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-62*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-63*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-64*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-65*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-66*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-67*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-68*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-69*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-70*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-71*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-72*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-73*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-74*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-75*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-76*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-77*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-78*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-79*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-80*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-81*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-82*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-83*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-84*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-85*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-86*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-87*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-88*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-89*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-90*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-91*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-92*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-93*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-94*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-95*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-96*15,0),0)x
                                        	group by [KPIDateTime]
                                        ) as IO,
                                        (select x.[KPIDateTime] as [KPIDateTime], sum(x.[KPIValue]) as [KPIValue] from (
                                        	select dateadd(minute, convert(int,DATEDIFF(minute,0,ProductionTime)/15)*15,0) as [KPIDateTime], sum(numberOfParts) as [KPIValue] 
                                        		from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 0 
                                        		group by dateadd(minute, convert(int,DATEDIFF(minute,0,ProductionTime)/15)*15,0)
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-0*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-1*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-2*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-3*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-4*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-5*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-6*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-7*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-8*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-9*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-10*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-11*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-12*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-13*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-14*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-15*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-16*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-17*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-18*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-19*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-20*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-21*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-22*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-23*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-24*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-25*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-26*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-27*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-28*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-29*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-30*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-31*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-32*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-33*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-34*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-35*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-36*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-37*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-38*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-39*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-40*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-41*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-42*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-43*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-44*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-45*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-46*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-47*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-48*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-49*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-50*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-51*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-52*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-53*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-54*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-55*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-56*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-57*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-58*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-59*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-60*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-61*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-62*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-63*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-64*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-65*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-66*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-67*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-68*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-69*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-70*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-71*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-72*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-73*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-74*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-75*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-76*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-77*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-78*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-79*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-80*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-81*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-82*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-83*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-84*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-85*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-86*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-87*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-88*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-89*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-90*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-91*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-92*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-93*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-94*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-95*15,0),0
                                        	union select dateadd(minute, convert(int,DATEDIFF(minute,0,GETUTCDATE())/15)*15-96*15,0),0)x
                                        	group by [KPIDateTime]
                                        ) as NIO
                                        where NIO.[KPIDateTime] = IO.[KPIDateTime]
                                        order by IO.[KPIDateTime];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetIoNioDataLast30Days">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-30,0);
                                        declare @dt2 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())+1,0);
                                        
                                        select IO.KPIDateTime, isnull(IO.KPIValue,0) as KPIFloatValue, isnull(NIO.KPIValue,0) as KPIFloatValue1 from 
                                        (select x.[KPIDateTime] as [KPIDateTime], sum(x.[KPIValue]) as [KPIValue] from (
                                        	select dateadd(day, DATEDIFF(day,0,ProductionTime),0) as [KPIDateTime], sum(numberOfParts) as [KPIValue] 
                                        		from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 1 
                                        		group by dateadd(day, DATEDIFF(day,0,ProductionTime),0)
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-0,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-1,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-2,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-3,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-4,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-5,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-6,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-7,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-8,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-9,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-10,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-11,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-12,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-13,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-14,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-15,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-16,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-17,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-18,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-19,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-20,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-21,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-22,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-23,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-24,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-25,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-26,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-27,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-28,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-29,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-30,0),0)x
                                        	group by [KPIDateTime]
                                        ) as IO,
                                        (select x.[KPIDateTime] as [KPIDateTime], sum(x.[KPIValue]) as [KPIValue] from (
                                        	select dateadd(day, DATEDIFF(day,0,ProductionTime),0) as [KPIDateTime], sum(numberOfParts) as [KPIValue] 
                                        		from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 0 
                                        		group by dateadd(day, DATEDIFF(day,0,ProductionTime),0)
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-0,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-1,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-2,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-3,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-4,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-5,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-6,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-7,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-8,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-9,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-10,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-11,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-12,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-13,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-14,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-15,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-16,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-17,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-18,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-19,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-20,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-21,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-22,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-23,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-24,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-25,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-26,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-27,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-28,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-29,0),0
                                        	union select dateadd(day, DATEDIFF(day,0,GETUTCDATE())-30,0),0)x
                                        	group by [KPIDateTime]
                                        ) as NIO
                                        where NIO.[KPIDateTime] = IO.[KPIDateTime]
                                        order by IO.[KPIDateTime];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetIoNioDataLast7Days">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-7,0);
                                        declare @dt2 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())+1,0);
                                        
                                        select IO.KPIDateTime, isnull(IO.KPIValue,0) as KPIFloatValue, isnull(NIO.KPIValue,0) as KPIFloatValue1 from 
                                        (select x.[KPIDateTime] as [KPIDateTime], sum(x.[KPIValue]) as [KPIValue] from (
                                        	select dateadd(hour, DATEDIFF(hour,0,ProductionTime),0) as [KPIDateTime], sum(numberOfParts) as [KPIValue] 
                                        		from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 1 
                                        		group by dateadd(hour, DATEDIFF(hour,0,ProductionTime),0)
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-0,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-1,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-2,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-3,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-4,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-5,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-6,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-7,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-8,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-9,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-10,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-11,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-12,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-13,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-14,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-15,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-16,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-17,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-18,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-19,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-20,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-21,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-22,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-23,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-24,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-25,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-26,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-27,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-28,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-29,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-30,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-31,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-32,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-33,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-34,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-35,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-36,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-37,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-38,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-39,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-40,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-41,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-42,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-43,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-44,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-45,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-46,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-47,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-48,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-49,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-50,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-51,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-52,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-53,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-54,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-55,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-56,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-57,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-58,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-59,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-60,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-61,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-62,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-63,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-64,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-65,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-66,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-67,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-68,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-69,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-70,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-71,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-72,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-73,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-74,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-75,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-76,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-77,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-78,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-79,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-80,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-81,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-82,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-83,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-84,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-85,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-86,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-87,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-88,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-89,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-90,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-91,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-92,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-93,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-94,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-95,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-96,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-97,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-98,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-99,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-100,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-101,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-102,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-103,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-104,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-105,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-106,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-107,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-108,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-109,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-110,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-111,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-112,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-113,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-114,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-115,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-116,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-117,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-118,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-119,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-120,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-121,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-122,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-123,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-124,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-125,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-126,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-127,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-128,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-129,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-130,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-131,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-132,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-133,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-134,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-135,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-136,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-137,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-138,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-139,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-140,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-141,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-142,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-143,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-144,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-145,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-146,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-147,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-148,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-149,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-150,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-151,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-152,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-153,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-154,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-155,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-156,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-157,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-158,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-159,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-160,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-161,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-162,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-163,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-164,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-165,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-166,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-167,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-168,0),0)x
                                        	group by [KPIDateTime]
                                        ) as IO,
                                        (select x.[KPIDateTime] as [KPIDateTime], sum(x.[KPIValue]) as [KPIValue] from (
                                        	select dateadd(hour, DATEDIFF(hour,0,ProductionTime),0) as [KPIDateTime], sum(numberOfParts) as [KPIValue] 
                                        		from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 0 
                                        		group by dateadd(hour, DATEDIFF(hour,0,ProductionTime),0)
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-0,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-1,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-2,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-3,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-4,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-5,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-6,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-7,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-8,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-9,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-10,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-11,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-12,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-13,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-14,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-15,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-16,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-17,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-18,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-19,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-20,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-21,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-22,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-23,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-24,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-25,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-26,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-27,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-28,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-29,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-30,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-31,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-32,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-33,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-34,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-35,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-36,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-37,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-38,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-39,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-40,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-41,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-42,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-43,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-44,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-45,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-46,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-47,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-48,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-49,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-50,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-51,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-52,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-53,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-54,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-55,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-56,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-57,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-58,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-59,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-60,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-61,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-62,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-63,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-64,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-65,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-66,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-67,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-68,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-69,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-70,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-71,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-72,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-73,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-74,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-75,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-76,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-77,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-78,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-79,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-80,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-81,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-82,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-83,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-84,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-85,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-86,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-87,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-88,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-89,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-90,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-91,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-92,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-93,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-94,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-95,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-96,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-97,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-98,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-99,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-100,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-101,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-102,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-103,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-104,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-105,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-106,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-107,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-108,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-109,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-110,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-111,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-112,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-113,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-114,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-115,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-116,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-117,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-118,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-119,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-120,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-121,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-122,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-123,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-124,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-125,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-126,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-127,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-128,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-129,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-130,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-131,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-132,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-133,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-134,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-135,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-136,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-137,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-138,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-139,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-140,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-141,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-142,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-143,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-144,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-145,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-146,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-147,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-148,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-149,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-150,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-151,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-152,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-153,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-154,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-155,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-156,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-157,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-158,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-159,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-160,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-161,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-162,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-163,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-164,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-165,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-166,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-167,0),0
                                        	union select dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-168,0),0)x
                                        	group by [KPIDateTime]
                                        ) as NIO
                                        where NIO.[KPIDateTime] = IO.[KPIDateTime]
                                        order by IO.[KPIDateTime];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [KPIDateTime], [KPIFloatValue]
                                          FROM [smartKPIValues]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]])
                                          and [KPICalculationBase] = convert(varchar(255), [[KPICalculationBase]])
                                          and [KPIDateTime] between [[StartDate]] and [[EndDate]]
                                          order by [KPIDateTime] asc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiDataForRail">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetSingleKPIRail @StartDateTime = [[StartDate]], @EndDateTime = [[EndDate]], @Machine = [[Machine]], @KPIName=[[KPIName]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiDataForTruck">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetSingleKPITruck @StartDateTime = [[StartDate]], @EndDateTime = [[EndDate]], @Machine = [[Machine]], @KPIName=[[KPIName]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiDataTruckLast24h">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(hour, DATEDIFF(hour,0,GETUTCDATE())-24,0);
                                        declare @dt2 as datetime = GETUTCDATE();
                                        
                                        
                                        
                                        select [KPIDateTime], ROUND([KPIFloatValue],2) as KPIFloatValue from
                                        (select [KPIDateTime],[KPIFloatValue]  from dbo.GetMultiKPIsTruck(@dt1,@dt2, [[Machine]], 'Quarter') where KPIName = convert(varchar(255), [[KPIName]])) x
                                        order by 1;
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiDataTruckLast30Days">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[declare @dt1 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-30,0);
declare @dt2 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())+1,0);

IF ([[KPIName]] = 'OutputIO')
	select [KPIDateTime],[KPIFloatValue] as KPIFloatValue from [dbo].[GetOutputKPIDataLast30Days]([[Machine]],@dt1,@dt2)
ELSE IF ([[KPIName]] = 'OutputNIO')
	select [KPIDateTime],[KPIFloatValue1] as KPIFloatValue from [dbo].[GetOutputKPIDataLast30Days]([[Machine]],@dt1,@dt2)
ELSE   
   	select [KPIDateTime], ROUND([KPIFloatValue],2) as KPIFloatValue from
		(select [KPIDateTime],[KPIFloatValue]  from dbo.GetMultiKPIsTruck(@dt1,@dt2, [[Machine]], 'Day') where KPIName = convert(varchar(255), [[KPIName]])) x
	order by 1;]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiDataTruckLast7Days">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-7,0);
                                        declare @dt2 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())+1,0);
                                        
                                        select [KPIDateTime], ROUND([KPIFloatValue],2) as KPIFloatValue from
                                        (select [KPIDateTime],[KPIFloatValue]  from dbo.GetMultiKPIsTruck(@dt1,@dt2, [[Machine]], 'Hour') where KPIName = convert(varchar(255), [[KPIName]])) x
                                        order by 1;
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiLimitsForLines">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select CEILING(max(x.KPIFloatValue)) as KPIFloatValue, CASE WHEN min(x.KPIFloatValue) > 0 THEN CEILING(min(x.KPIFloatValue))-1 ELSE 0 END as KPIFloatValue1 from
                                        (
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]]) 
                                        		and [KPICalculationBase] = 'Day'
                                        		and [KPIDateTime] between DATEADD(day, -30, GETUTCDATE()) and GETUTCDATE()
                                        	union
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]]) 
                                        		and [KPICalculationBase] = 'Hour'
                                        		and [KPIDateTime] between DATEADD(week, -7*24, GETUTCDATE()) and GETUTCDATE()
                                        	union
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]]) 
                                        		and [KPICalculationBase] = 'Quarter'
                                        		and [KPIDateTime] between DATEADD(day, -24*4, GETUTCDATE()) and GETUTCDATE()
                                        )x
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetKpiLimitsIoNioForLines">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select CEILING(max(x.KPIFloatValue)) as KPIFloatValue, CASE WHEN min(x.KPIFloatValue) > 0 THEN CEILING(min(x.KPIFloatValue))-1 ELSE 0 END as KPIFloatValue1 from
                                        (
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]]+[[IOName]])
                                        		and [KPICalculationBase] = 'Day'
                                        		and [KPIDateTime] between DATEADD(day, -30, GETUTCDATE()) and GETUTCDATE()
                                        	union
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]] +[[IOName]])
                                        		and [KPICalculationBase] = 'Hour'
                                        		and [KPIDateTime] between DATEADD(week, -7*24, GETUTCDATE()) and GETUTCDATE()
                                        	union
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]] +[[IOName]])
                                        		and [KPICalculationBase] = 'Quarter'
                                        		and [KPIDateTime] between DATEADD(day, -24*4, GETUTCDATE()) and GETUTCDATE()
                                        	union
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]] +[[NIOName]])
                                        		and [KPICalculationBase] = 'Day'
                                        		and [KPIDateTime] between DATEADD(day, -30, GETUTCDATE()) and GETUTCDATE()
                                        	union
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]] +[[NIOName]])
                                        		and [KPICalculationBase] = 'Hour'
                                        		and [KPIDateTime] between DATEADD(week, -7*24, GETUTCDATE()) and GETUTCDATE()
                                        	union
                                        	select [KPIFloatValue]
                                        		from [smartKPIValues] 
                                        		where [Machine] = convert(varchar(255), [[Machine]])
                                        		and [KPIName] = convert(varchar(255), [[KPIName]] +[[NIOName]])
                                        		and [KPICalculationBase] = 'Quarter'
                                        		and [KPIDateTime] between DATEADD(day, -24*4, GETUTCDATE()) and GETUTCDATE()
                                        )x
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetL1andL0FromL2Status">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>10.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        /****** Script for SelectTopNRows command from SSMS  ******/
                                        SELECT [Machine]
                                              ,[Devision]
                                              ,[SubStatus]
                                              ,[Status]
                                              ,[StatusType]
                                              
                                          FROM [smartKPIOperatorInputMachineDefinition]
                                          where Status = convert(varchar(255), [[L2Status]])
                                        and Machine = convert(varchar(255), [[Machine]])
                                        and Devision = convert(varchar(255), 'CVS')
                                        and isDeleted = 0
                                        UNION ALL
                                        SELECT [Machine]
                                              ,[Devision]
                                              ,[SubStatus]
                                              ,[Status]
                                              ,[StatusType]
                                          FROM [smartKPIOperatorInputMachineDefinition]
                                          where Status = convert(varchar(255), [[L2Status]])
                                        and Machine = convert(varchar(255), 'all')
                                        and Devision = convert(varchar(255), 'CVS')
                                        and isDeleted = 0
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastHourProductionTakt">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 
                                             (3600/SUM([numberOfParts])) as result
                                        	
                                          FROM 
                                          (select [isPartOK],[numberOfParts] from [smartKPI] where  Machine=[[Machine]] and [isPartOK]=1 and [ProductionTime]>DATEADD(hh, -1,GETUTCDATE())) a group by [isPartOK]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastLogoutMessageTime">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select max([MessageTime]) as LastDate
                                          FROM [smartKPIMachineMessageData] where Machine=[[Machine]] and MessageType2='Operator Logout' and  MessageTime<=GETUTCDATE()
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetLastMachineLocalizedStatusEntries">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        // result: INFOTABLE dataShape: "KBMachineStatusForCVSOIDataShape1"
                                        var result =  me.GetLastMachineStatusEntries({
                                        	MachineName: MachineName /* STRING */
                                        });
                                        
                                        var tableLength = result.rows.length;
                                        for (var x=0; x < tableLength; x++) {
                                            var row = result.rows[x];
                                            //Your code here
                                            var params = {
                                                name: row.Status /* STRING */
                                            };
                                            try {
                                                row.LocalizedStatus = LocalizationTables[language].GetToken(params);
                                            } catch(err) {
                                            }
                                            var params = {
                                                name: row.SubStatus /* STRING */
                                            };
                                            try {
                                                row.LocalizedSubStatus = LocalizationTables[language].GetToken(params);
                                            } catch(err) {
                                            }
                                            if (row.description == "KBSetAutoStatusForStationsTimerThing") {
                                            	row.description = "Automatic Input";
                                            }
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetLastMachineLocalizedStatusSelectedEntries">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        // result: INFOTABLE dataShape: "KBMachineStatusForCVSOIDataShape2"
                                        var result =  me.GetLastMachineStatusSelectedEntries({
                                        	Machine: MachineName /* STRING */,
                                        	StartTime: StartTime /* DATETIME */,
                                        	EndTime: EndTime /* DATETIME */
                                        });
                                        var tableLength = result.rows.length;
                                        if(tableLength>0){
                                         if(ShowProductive){
                                           var params = {
                                        	                                          fieldName: "Status" /* STRING */,
                                        	                                          t: result /* INFOTABLE */,
                                        	                                          value: "KBMaschStatus.1.Productive" /* STRING */
                                           };
                                           result = Resources["InfoTableFunctions"].NEFilter(params);
                                           tableLength = result.rows.length;
                                          }
                                          for (var x=0; x < tableLength; x++) {
                                            var row = result.rows[x];
                                            //Your code here
                                            var params = {
                                                name: row.Status /* STRING */
                                            };
                                            try {
                                                row.LocalizedStatus = LocalizationTables[language].GetToken(params);
                                            } catch(err) {
                                            }
                                            var params = {
                                                name: row.SubStatus /* STRING */
                                            };
                                            try {
                                                row.LocalizedSubStatus = LocalizationTables[language].GetToken(params);
                                            } catch(err) {
                                            }
                                            if (row.description == "KBSetAutoStatusForStationsTimerThing") {
                                            	row.description = "Automatic Input";
                                            }
                                        }
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetLastMachineStatus">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        if (Machine == ""){
                                        	Machine = "empty";
                                        }
                                        if (Machine == undefined){
                                        	Machine = "undefined";
                                        }
                                        
                                        var params = {
                                        	thingName: Machine /* STRING */
                                        };
                                        
                                        // result: BOOLEAN
                                        if (Resources["PTC.Factory.CommonUtilities"].DoesThingExists(params)) {
                                        
                                        	var params = {
                                        	    infoTableName : "InfoTable",
                                        	    dataShapeName : "KBLastMachineStatusDataShape"
                                        	};
                                        	
                                        	// CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBLastMachineStatusDataShape)
                                        	var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        	
                                        	
                                        	var dateNow = new Date();
                                        	var minutes = (dateNow.getTime() - Things[Machine].MachineStateDate.getTime())/1000/60;
                                        	
                                        	// KBLastMachineStatusDataShape entry object
                                        	var newEntry = new Object();
                                        	newEntry.Status = Things[Machine].MachineState; // STRING
                                        	newEntry.StatusTime = Things[Machine].MachineStateDate; // DATETIME
                                        	newEntry.StatusTimeTillNowInMinutes = minutes; // INTEGER
                                        	newEntry.SubStatus = Things[Machine].MachineStateLevel2; // STRING
                                        	
                                        	result.AddRow(newEntry);
                                        } else {
                                        	//logger.error("KBKPIThingWorxDatabaseTemplate/GetLastMachineStatus: Station Thing not found, check MainStationForLineStatus property for all Machines! ("+Machine+")");
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastMachineStatusEntries">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP (15) [Id]
                                              ,[CreationTime]
                                              ,[Machine]
                                              ,[StatusTime]
                                              ,[Status]
                                              ,[SubStatus]
                                              ,[Status] as LocalizedStatus
                                              ,[SubStatus] as LocalizedSubStatus
                                              ,[description]
                                              ,[StatusType]
                                          FROM [smartKPIMachineStatusData]
                                          where Machine = convert(varchar(255), [[MachineName]])
                                          and StatusType = 'Operator Screen'
                                          order by StatusTime desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastMachineStatusFromDate">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                              [StatusTime]
                                              ,[Status]
                                              ,[SubStatus] 
                                        	  ,datediff(minute,[StatusTime],GETUTCDATE()) as StatusTimeTillNowInMinutes
                                        	  from
                                        (SELECT TOP (1) 
                                              [StatusTime]
                                              ,[Status]
                                              ,[SubStatus]
                                          FROM [smartKPIMachineStatusData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [StatusType] = convert(varchar(255), [[StatusType]])
                                          and [StatusTime] < [[RelatedDateTime]]
                                          order by StatusTime desc, CreationTime desc) x
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastMachineStatusFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                              [Id], [StatusTime]
                                              ,[Status]
                                              ,[SubStatus] 
                                        	  ,datediff(minute,[StatusTime],GETUTCDATE()) as StatusTimeTillNowInMinutes
                                        	  ,datediff(second,[StatusTime],GETUTCDATE()) as StatusTimeTillNowInSeconds
                                        	  from
                                        (SELECT TOP (1) 
                                              [Id], [StatusTime]
                                              ,[Status]
                                              ,[SubStatus]
                                          FROM [smartKPIMachineStatusData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [StatusType] = convert(varchar(255), [[StatusType]])
                                          order by StatusTime desc, CreationTime desc) x
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastMachineStatusSelectedEntries">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  [Id]
                                        	  ,q.[StatusTime] as StatusTime
                                        	  ,[CreationTime]
                                        	  ,isNull(DATEDIFF(second, [StatusTime],pDataDate) ,DATEDIFF(second,  [StatusTime],GETUTCDATE())) as Duration
                                        	  ,[Machine]
                                              ,[Status]
                                              ,[SubStatus]
                                              ,[Status] as LocalizedStatus
                                              ,[SubStatus] as LocalizedSubStatus
                                              ,[description]
                                              ,[StatusType]
                                        FROM    (
                                                SELECT  *,
                                                        LAG([StatusTime]) OVER (ORDER BY [StatusTime] desc) pDataDate
                                                FROM    [smartKPIMachineStatusData]
                                        		WHERE
                                        		Machine = convert(varchar(255),[[Machine]])
                                          and StatusType = 'Operator Screen' and [StatusTime]>=[[StartTime]] and [StatusTime]<=[[EndTime]] 
                                        
                                                ) q
                                        order by q.StatusTime desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastProcessDataFromDBforSerialNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[ProductionTime]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                              ,[Machine]
                                              ,[ProcesDataType]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                              ,[TrackingNumber]
                                          FROM [smartKPIProcessFloatData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [SerialNumber] = convert(varchar(255), [[SerialNumber]])
                                          and [OrderNumber] = convert(varchar(255), [[OrderNumber]])
                                          and [ProcesDataType] like convert(varchar(255), [[ProcesDataType]])
                                          and [ProductionTime] = (
                                          	select max([ProductionTime]) from [smartKPIProcessFloatData] 
                                          	  where [Machine] = convert(varchar(255), [[Machine]])
                                        	  and [SerialNumber] = convert(varchar(255), [[SerialNumber]])
                                        	  and [OrderNumber] = convert(varchar(255), [[OrderNumber]]))
                                          order by [ProcesDataType]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastProcessDataFromDBforTrackingNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[ProductionTime]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                              ,[Machine]
                                              ,[ProcesDataType]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                              ,[TrackingNumber]
                                          FROM [smartKPIProcessFloatData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [TrackingNumber] = convert(varchar(255), [[TrackingNumber]])
                                          and [OrderNumber] = convert(varchar(255), [[OrderNumber]])
                                          and [ProcesDataType] like convert(varchar(255), [[ProcesDataType]])
                                          and [ProductionTime] = (
                                          	select max([ProductionTime]) from [smartKPIProcessFloatData] 
                                          	  where [Machine] = convert(varchar(255), [[Machine]])
                                        	  and [SerialNumber] = convert(varchar(255), [[SerialNumber]])
                                        	  and [OrderNumber] = convert(varchar(255), [[OrderNumber]]))
                                          order by [ProcesDataType]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastSpecificLogoutMessageTime">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select max([MessageTime]) as LastDate
                                          FROM [smartKPIMachineMessageData] where Machine=[[Machine]] and MessageType2='Operator Logout' and  MessageTime<=[[DateTime]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLatestPlannedOrdersByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                        			o5.DateTimeValue as ScheduledStartExecution,
                                        			o6.DateTimeValue as ScheduledFinishExecution,
                                        			o2.FloatValue as TotalOrderQuantity, 
                                        			o3.TextValue as MaterialNumber, 
                                        			o3.UTCUpdateTime as UpdateTime,
                                        			o3.OrderNumber, 
                                        			o1.Operation,
                                        			o4.TextValue as Operations
                                        		from [smartKPIOrderKeyValueData] o1, [smartKPIOrderKeyValueData] o2, [smartKPIOrderKeyValueData] o3, [smartKPIOrderKeyValueData] o4, [smartKPIOrderKeyValueData] o5, [smartKPIOrderKeyValueData] o6
                                        			where o1.OrderNumber = o2.OrderNumber
                                        			and o1.OrderNumber = o3.OrderNumber
                                        			and o1.OrderNumber = o4.OrderNumber
                                        			and o1.OrderNumber = o5.OrderNumber
                                        			and o1.OrderNumber = o6.OrderNumber
                                        			and o3.Operation = ''
                                        			and o2.Operation = ''
                                        			and o4.Operation = ''
                                        			and o1.Operation = o5.Operation
                                        			and o5.Operation != ''
                                        			and o1.Operation = o6.Operation
                                        			and o5.Operation != ''
                                        			and o1.TextValue = [[SAPMachineName]]
                                        			and o1.PropertyKey1 = 'Line'
                                        			and o2.PropertyKey1 = 'TotalOrderQuantity'
                                        			and o3.PropertyKey1 = 'MaterialNumber'
                                        			and o4.PropertyKey1 = 'Operations'
                                        			and o5.PropertyKey1 = 'LatestScheduledStartExecution'
                                        			and o6.PropertyKey1 = 'LatestScheduledFinishExecution'
                                        			and (o5.DateTimeValue between [[StartDate]] and [[EndDate]] or o6.DateTimeValue between [[StartDate]] and [[EndDate]])
                                        		order by o5.DateTimeValue;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getLevel1SapPmMsgsByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT DISTINCT SubStatus
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE Machine IN
                                        (
                                            'all',
                                            [[stationThing]],
                                            [[machineThing]]
                                        )
                                        AND SUBSTRING(SubStatus, 1, 14) = 'KBMaschMessage'
                                        AND isDeleted = 0
                                        AND SubStatus <> '-'
                                        ORDER BY SubStatus;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getLevel1SapPmStatusByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT DISTINCT SubStatus
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE Machine IN
                                        (
                                            'all',
                                            [[stationThing]],
                                            [[machineThing]]
                                        )
                                        AND SUBSTRING(SubStatus, 1, 13) = 'KBMaschStatus'
                                        AND isDeleted = 0
                                        AND SubStatus <> '-'
                                        ORDER BY SubStatus;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getLevel2SapPmMsgsByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT DISTINCT Status
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE Machine IN
                                        (
                                            'all',
                                            [[stationThing]],
                                            [[machineThing]]
                                        )
                                        AND SUBSTRING(Status, 1, 14) = 'KBMaschMessage'
                                        AND isDeleted = 0
                                        AND SubStatus = [[subStatus]]
                                        --AND SubStatus <> '-'
                                        ORDER BY Status;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getLevel2SapPmStatusByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT DISTINCT Status
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE Machine IN
                                        (
                                            'all',
                                            [[stationThing]],
                                            [[machineThing]]
                                        )
                                        AND SUBSTRING(Status, 1, 13) = 'KBMaschStatus'
                                        AND isDeleted = 0
                                        AND SubStatus = [[subStatus]]
                                        --AND SubStatus <> '-'
                                        ORDER BY Status;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetListOfPossibleStations">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select v2.Machine FROM [smartKPIMachineKeyValueData] v1, [smartKPIMachineKeyValueData] v2 where v1.TextValue = [[TextValue]] and v1.PropertyKey = [[PropertyKeyV1]]
                                        and v2.TextValue = v1.Machine and v2.PropertyKey = [[PropertyKeyV2]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLosses">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select sum([numberOfParts]) as numberOfParts, [ScrapReason]
                                          from [smartKPI]
                                          where Machine = convert(varchar(255), [[machine]])
                                          and [ProductionTime] between [[startDate]] and [[endDate]]
                                          and [isPartOK] = 0 and [numberOfParts]>0
                                          group by [ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetLossesForPareto">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	endDate: EndTime /* DATETIME */,
                                        	machine: Machine /* STRING */,
                                        	startDate: StartDate /* DATETIME */
                                        };
                                        
                                        var data;
                                        if (CalulateTop10 === null || CalulateTop10 === false) {
                                            // result: INFOTABLE dataShape: "KBLossesDataShape"
                                            data = me.GetLosses(params);
                                        } else {
                                            // result: INFOTABLE dataShape: "KBLossesDataShape"
                                             data = me.GetTop10Losses(params);
                                        }
                                        
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBLossesDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(NOKParetoDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        var total = 0;
                                        var numberOfParts = 0;
                                        
                                        for (var j = 0; j< data.getRowCount(); j++) {
                                            total += data.getRow(j).numberOfParts;
                                        }
                                        
                                        for (var i = 0; i< data.getRowCount(); i++) {
                                            numberOfParts += data.getRow(i).numberOfParts;
                                              var ScrapReason;
                                            	try{
                                                var params1 = {
                                                	name: data.rows[i].ScrapReason /* STRING */
                                                };
                                                // result: STRING
                                                 	ScrapReason = LocalizationTables[Language].GetToken(params1);
                                                } catch(err) {
                                                	ScrapReason=data.rows[i].ScrapReason;
                                        		}
                                            var newEntry = new Object();
                                            newEntry.numberOfParts = data.getRow(i).numberOfParts;
                                            newEntry.ScrapReason = ScrapReason;
                                            newEntry.numberOfPartsCulminated = numberOfParts; // STRING
                                            newEntry.PercentCulminated = numberOfParts/total*100; // NUMBER
                                            newEntry.Percent = data.getRow(i).numberOfParts/total*100; // NUMBER
                                            
                                            result.AddRow(newEntry);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetMachineAllStationStaff">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                            var result=0;
                                            var ListOfStationsLength;
                                            if(Machine!==undefined && Machine!==''  && Machine!==null){
                                            var ListOfStations=Things[Machine].KBLocalStationThings;
                                            try{
                                                ListOfStationsLength=ListOfStations.rows.length;
                                           	} catch(err) {
                                                ListOfStationsLength=0;
                                                
                                            } 
                                            var station;
                                            for(var x=0;x<ListOfStationsLength;x++){
                                            	station=ListOfStations[x].KBLocalStationThing;
                                            	if(station!==undefined && station!==''  && station!==null){
                                                     result =  result + parseInt(me.GetStationStaffLogonNumberPerStation({
                                                    	Station: Things[station].name 
                                                    }).Id);
                                                  }
                                                }
                                         	}
                                        } catch(err) {
                                        	logger.error("KBKPILocalThingWorxDatabaseThing GetMachineAllStationStaff: " + err + ' at ' + err.lineNumber +"");
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineCurrentOrder">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>10.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP 1 [OrderNumber]
                                          FROM [smartKPIOrderKeyValueData] 
                                          where (DateTimeValue>[[CurrentDateTime]] and [PropertyKey]='ScheduledFinishDate') and OrderNumber in (select [OrderNumber]
                                          FROM [smartKPIOrderKeyValueData] 
                                          where (DateTimeValue<=[[CurrentDateTime]] and [PropertyKey]='ScheduledStartDate') and OrderNumber
                                          in 
                                          (select OrderNumber FROM [smartKPIOrderKeyValueData] where TextValue=convert(varchar(max), [[Material]])) and OrderNumber
                                          in 
                                          (select OrderNumber FROM [smartKPIOrderKeyValueData] where TextValue=convert(varchar(max), [[Machine]]))
                                          ) order by DateTimeValue
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineCurrentOrderNew">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP 1 [OrderNumber]
                                          FROM [smartKPIOrderKeyValueData] 
                                          where (DateTimeValue>[[CurrentDateTime]] and [PropertyKey]='ScheduledFinishDate') and OrderNumber in (select [OrderNumber]
                                          FROM [smartKPIOrderKeyValueData] 
                                          where (DateTimeValue<=[[CurrentDateTime]] and [PropertyKey]='ScheduledStartDate') and OrderNumber
                                          in 
                                          (select OrderNumber FROM [smartKPIOrderKeyValueData] where TextValue=convert(varchar(max), [[Machine]]))
                                          ) order by DateTimeValue
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 
                                        	   [smartKPIMachineData].[Id] as MachineId
                                              ,[smartKPIMachineData].[CreationTime] as MachineCreationTime
                                              ,[smartKPIMachineData].[Machine]
                                              ,[smartKPIMachineData].[isMachineActive]
                                              ,[smartKPIMachineData].[UTCUpdateTime] as MachineUpdateTime
                                        	  ,[smartKPIMachineKeyValueData].[Id] as KeyValueId
                                              ,[smartKPIMachineKeyValueData].[CreationTime] as KeyValueCreationTime
                                              ,[smartKPIMachineKeyValueData].[PropertyKey]
                                              ,[smartKPIMachineKeyValueData].[FloatValue]
                                              ,[smartKPIMachineKeyValueData].[TextValue]
                                              ,[smartKPIMachineKeyValueData].[DateTimeValue]
                                              ,[smartKPIMachineKeyValueData].[isFloatValue]
                                              ,[smartKPIMachineKeyValueData].[isTextValue]
                                              ,[smartKPIMachineKeyValueData].[isDateTimeValue]
                                              ,[smartKPIMachineKeyValueData].[UTCUpdateTime]  as KeyValueUpdateTime
                                        	  ,[smartKPIMachineKeyValueData].[PropertySubKey1]
                                        	  ,[smartKPIMachineKeyValueData].[PropertySubKey2]
                                          FROM [smartKPIMachineKeyValueData], [smartKPIMachineData]
                                          where [smartKPIMachineData].[Machine] like convert(varchar(255), [[Machine]])
                                          and [smartKPIMachineKeyValueData].[Machine] = [smartKPIMachineData].[Machine]
                                          and (([smartKPIMachineKeyValueData].[PropertyKey] like convert(varchar(255), [[PropertyKey]]) or convert(varchar(255), [[PropertyKey]]) = 'undefined')
                                        	and ([smartKPIMachineKeyValueData].[PropertySubKey1] like convert(varchar(150), [[PropertySubKey1]]) or convert(varchar(150), [[PropertySubKey1]]) = 'undefined')
                                        	and ([smartKPIMachineKeyValueData].[PropertySubKey2] like convert(varchar(150), [[PropertySubKey2]]) or convert(varchar(150), [[PropertySubKey2]]) = 'undefined'))
                                          union
                                           SELECT 
                                        	   [smartKPIMachineData].[Id] 
                                              ,[smartKPIMachineData].[CreationTime] 
                                              ,[smartKPIMachineData].[Machine]
                                              ,[smartKPIMachineData].[isMachineActive]
                                              ,[smartKPIMachineData].[UTCUpdateTime] 
                                        	  ,null 
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                        	  ,null
                                        	  ,null
                                          FROM [smartKPIMachineData]
                                          where [smartKPIMachineData].[Machine] like convert(varchar(255), [[Machine]])
                                            and convert(varchar(255), [[PropertyKey]]) = 'undefined'
                                          and not exists (select 'ok' from [smartKPIMachineKeyValueData]
                                          where [smartKPIMachineKeyValueData].[Machine] = [smartKPIMachineData].[Machine])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineDataValue">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP 1
                                        	  [PropertyKey]
                                              ,[FloatValue]
                                              ,[TextValue]
                                              ,[DateTimeValue]
                                              ,[isFloatValue]
                                              ,[isTextValue]
                                              ,[isDateTimeValue]
                                              ,[PropertySubKey1]
                                        	  ,[PropertySubKey2]
                                          FROM [smartKPIMachineKeyValueData]
                                          where [Machine] =  convert(varchar(255), [[Machine]])
                                          	and [PropertyKey] = convert(varchar(255), [[PropertyKey]])
                                        	and ([PropertySubKey1] = convert(varchar(150), [[PropertySubKey1]]) or ([PropertySubKey1] is null or [PropertySubKey1] ='undefined' or [PropertySubKey1] =''))
                                        	and ([PropertySubKey2] = convert(varchar(150), [[PropertySubKey2]]) or ([PropertySubKey2] is null or [PropertySubKey2] ='undefined' or [PropertySubKey2] =''))
                                          ORDER BY [PropertySubKey2] desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineDataValuePropertyKey">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 
                                        	   [PropertyKey]
                                              ,[FloatValue]
                                              ,UTCUpdateTime as UpdateTime
                                              ,[PropertySubKey1]
                                        	  ,[PropertySubKey2]
                                          FROM [smartKPIMachineKeyValueData]
                                          where [Machine] =  convert(varchar(255), [[Machine]])
                                          	and [PropertyKey] = convert(varchar(255), [[PropertyKey]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineDowntimeData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT Status, SubStatus, Type, StartTime, EndTime, Duration from GetMachineDowntimeUTCData([[Machine]] ,[[StatusType]], [[StartTime]], [[EndTime]]) 
                                         order by StartTime asc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineFloatDataByTypeFromDatabase">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>20000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  [Id]
                                        	  ,[CreationTime]
                                              ,[Machine]
                                              ,[MachineTime]
                                              ,[MachineDataType]
                                              ,[MachineData]
                                              ,[MachineDataLSL]
                                              ,[MachineDataUSL]
                                              ,[isUpdated]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                          FROM smartKPIMachineFloatData where Machine=[[Machine]] and MachineTime>=[[MachineDateTimeFrom]] and MachineDataType=[[MachineDataType]] and MachineTime<=[[MachineDateTimeTo]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineFloatDataByTypeFromDatabaseV2">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>20000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  [Id]
                                        	  ,[CreationTime]
                                              ,[Machine]
                                              ,[MachineTime]
                                              ,[MachineDataType]
                                              ,[MachineData]
                                              ,[MachineDataLSL]
                                              ,[MachineDataUSL]
                                              ,[isUpdated]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                          FROM smartKPIMachineFloatData where Machine=[[Machine]] and MachineTime>=[[MachineDateTimeFrom]] and MachineDataType=[[MachineDataType]] and MachineTime<=[[MachineDateTimeTo]]  and comment=[[MachineComment]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineFloatDataFromDatabase">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  [Id]
                                        	  ,[CreationTime]
                                              ,[Machine]
                                              ,[MachineTime]
                                              ,[MachineDataType]
                                              ,[MachineData]
                                              ,[MachineDataLSL]
                                              ,[MachineDataUSL]
                                              ,[isUpdated]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                          FROM smartKPIMachineFloatData where Machine=[[Machine]] and MachineTime>=[[MachineDateTimeFrom]] and MachineTime<=[[MachineDateTimeTo]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineKeyValueMachineName">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP (1) [Machine] as Machine
                                          FROM [smartKPIMachineKeyValueData] 
                                          where PropertyKey=[[PropertyKey]] and TextValue=[[PropertyTextValue]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineLastProcessData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>10.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT top(1) ProcesData, Unit,description,comment  FROM [smartKPIProcessFloatData]
                                          where  Machine=[[Machine]]  and ProcesDataType=[[ProcessDataType]]
                                          order by [ProductionTime] desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineListOfParts">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select distinct 
                                          [PartNumber] as name
                                          from [smartKPI] where Machine=[[Machine]] and ([PartNumber]<>'' and [PartNumber] is not null and [PartNumber]<>'undefined')
                                          union all
                                          Select '' as name
                                          order by [PartNumber]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineMessagesPerType">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT count(*) numberOfParts,[Message] ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [[MessageType2]] and MessageTime  between [[StartDateTime]] and [[EndDateTime]]
                                          group by [ScrapReason] order by 1 desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getMachineMTKPIs">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select Machine
                                        ,sum(SumTBF) as SumTBF
                                        ,sum(CountTBF) as CountTBF
                                        ,sum(MTBF) as MTBF
		,sum(SumTTR) as SumTTR
		,sum(CountTTR) as CountTTR
		,sum(MTTR) as MTTR	
,sum(SumRT) as  SumRT
,sum(CountRT) as  CountRT
,sum(MRT) as MRT from (
SELECT Machine
,null as SumTBF
,null as CountTBF
,null as MTBF
		,Sum(TTR) as SumTTR
		,count(NULLIF(TTR,0) ) as CountTTR
		,ROUND((CONVERT(float,Sum(TTR))/60)/count(NULLIF(TTR,0)), 2) as MTTR	
,null as SumRT
,null as CountRT
,null as MRT
		FROM (
  Select Machine
	,CASE [Status]
	   WHEN 'MT Notified' THEN (datediff(MINUTE,StatusTime, nextTime))
	   WHEN 'Breakdown End' THEN 0
	  END AS TTR
  FROM    (
      SELECT [Machine]
	  ,[StatusTime]
	  ,[Status]
      ,[StatusType]
      ,[nextStatus]
	  ,ISNULL(lag([StatusTime],1)  OVER (ORDER BY [StatusTime] desc),[[EndTime]]) as nextTime
    FROM (
        SELECT [TextValue] as Machine
        ,[StatusTime]
        ,[Status]
        ,[StatusType]
        ,lag([Status],1)  OVER (ORDER BY [StatusTime] desc) as nextStatus
	   FROM smartKPIMachineStatusData a, smartKPIMachineKeyValueData b where StatusType='PM Data'  and ([Status]='MT Notified' or [Status]='Breakdown End')
        and [StatusTime]>=[[StartTime]] and [StatusTime]<=[[EndTime]] and b.Machine=a.Machine and b.PropertyKey='KBLocalLineThing' and b.Machine=[[Machine]]
      ) x
	) c where nextStatus<>[Status]
            
) d group by Machine
-- 
UNION ALL            
SELECT Machine
 		,Sum(TBF) as SumTBF
 		,count(NULLIF(TBF,0)) as CountTBF
 		,ROUND((CONVERT(float,Sum(TBF))/60)/count(NULLIF(TBF,0)), 2) as MTBF
,null as SumTTR
,null as CountTTR
,null as MTTR
,null as SumRT
,null as CountRT
,null as MRT
		FROM (
  Select Machine
	,CASE [Status]
	   WHEN 'KBMaschStatus.1.TI.MachineBreakdown' THEN 0   
       WHEN 'Breakdown End' THEN (datediff(MINUTE,StatusTime, nextTime))
	  END AS TBF
  FROM    (
      SELECT [Machine]
	  ,[StatusTime]
	  ,[Status]
      ,[StatusType]
      ,[nextStatus]
	  ,ISNULL(lag([StatusTime],1)  OVER (ORDER BY [StatusTime] desc),[[EndTime]]) as nextTime
    FROM (
        SELECT [TextValue] as Machine
        ,[StatusTime]
        ,[Status]
        ,[StatusType]
        ,lag([Status],1)  OVER (ORDER BY [StatusTime] desc) as nextStatus
	   FROM smartKPIMachineStatusData a, smartKPIMachineKeyValueData b where ((StatusType='PM Data' and [Status]='Breakdown End') OR (StatusType='Operator Screen' and ([Status]='KBMaschStatus.1.TI.MachineBreakdown')))
        and [StatusTime]>=[[StartTime]] and [StatusTime]<=[[EndTime]] and b.Machine=a.Machine and b.PropertyKey='KBLocalLineThing' and b.Machine=[[Machine]]
      ) x
	) c where nextStatus<>[Status]
            
) d group by Machine

UNION ALL            

    SELECT Machine
,null as SumTBF
,null as CountTBF
,null as MTBF
,null as SumTTR
,null as CountTTR
,null as MTTR
		,Sum(RT) as SumRT
		,count(NULLIF(RT,0) ) as CountRT
		,ROUND((CONVERT(float,Sum(RT))/60)/count(NULLIF(RT,0)), 2) as MRT
		FROM (
  Select Machine
	,CASE [Status]
	   WHEN 'MT Notified' THEN (datediff(MINUTE,StatusTime, nextTime))
       WHEN 'MT onsite' THEN 0
	  END AS RT
  FROM    (
      SELECT [Machine]
	  ,[StatusTime]
	  ,[Status]
      ,[StatusType]
      ,[nextStatus]
	  ,ISNULL(lag([StatusTime],1)  OVER (ORDER BY [StatusTime] desc),[[EndTime]]) as nextTime
    FROM (
        SELECT [TextValue] as Machine
        ,[StatusTime]
        ,[Status]
        ,[StatusType]
        ,lag([Status],1)  OVER (ORDER BY [StatusTime] desc) as nextStatus
	   FROM smartKPIMachineStatusData a, smartKPIMachineKeyValueData b where (StatusType='PM Data' and ([Status]='MT Notified' OR [Status]='MT onsite'))
        and [StatusTime]>=[[StartTime]] and a.[StatusTime]<=[[EndTime]] and b.Machine=a.Machine and b.PropertyKey='KBLocalLineThing' and b.Machine=[[Machine]]
      ) x
	) c where nextStatus<>[Status]
-- 
            
) d group by Machine

) z group by Machine

--
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineNameOfFL">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP (1)[Machine] as Machine
                                          FROM [smartKPISAPPMKeyValueData] where [TextValue]=[[FunctionalLocation]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineNOKPartMessages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select sum(numberOfParts) as numberOfParts, a.ScrapReason from
                                        (SELECT count(*) numberOfParts, [Message]  as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='Operator Screen' and [MessageType2]='KBMaschMessage.Button.NokPart' and MessageTime between [[StartDateTime]] and [[EndDateTime]]  
                                         group by [Message]) as a
                                         group by a.[ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineNOKPartTop10Messages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select sum(numberOfParts) as numberOfParts, a.ScrapReason from
                                        (SELECT count(*) numberOfParts, [Message]  as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='Operator Screen' and [MessageType2]='KBMaschMessage.Button.NokPart' and MessageTime between [[StartDateTime]] and [[EndDateTime]]  
                                         group by [Message]) as a
                                         group by a.[ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineRetestMessages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select sum(numberOfParts) as numberOfParts, a.ScrapReason from
                                        (SELECT count(*) numberOfParts, [MessageType2] +' / ' + [Message] +' / ' +  [description] as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='RETEST' and MessageTime between [[StartDateTime]] and [[EndDateTime]] 
                                         group by [MessageType2] +' / ' + [Message] +' / ' +  [description] 
                                          UNION ALL
                                        SELECT count(*) numberOfParts, [Message]  as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='Operator Screen' and [MessageType2]='KBMaschMessage.Button.Retest' and MessageTime between [[StartDateTime]] and [[EndDateTime]]  
                                         group by [Message]) as a
                                         
                                         group by a.[ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineRetestTop10Messages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select TOP 10 sum(numberOfParts) as numberOfParts, a.ScrapReason from
                                        (SELECT count(*) numberOfParts, [MessageType2] +' / ' + [Message] +' / ' +  [description] as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='RETEST' and MessageTime between [[StartDateTime]] and [[EndDateTime]] 
                                         group by [MessageType2] +' / ' + [Message] +' / ' +  [description] 
                                          UNION ALL
                                        SELECT count(*) numberOfParts, [Message]  as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='Operator Screen' and [MessageType2]='KBMaschMessage.Button.Retest' and MessageTime between [[StartDateTime]] and [[EndDateTime]]  
                                         group by [Message]) as a
                                         
                                         group by a.[ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineReworkMessages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select sum(numberOfParts) as numberOfParts, a.ScrapReason from
                                        (SELECT count(*) numberOfParts, [MessageType2] +' / ' + [Message] +' / ' +  [description] as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='REWORK' and MessageTime between [[StartDateTime]] and [[EndDateTime]] 
                                         group by [MessageType2] +' / ' + [Message] +' / ' +  [description] 
                                          UNION ALL
                                        SELECT count(*) numberOfParts, [Message]  as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='Operator Screen' and [MessageType2]='KBMaschMessage.Button.Rework' and MessageTime between [[StartDateTime]] and [[EndDateTime]]  
                                         group by [Message]) as a
                                         
                                         group by a.[ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineReworkTop10Messages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select TOP 10 sum(numberOfParts) as numberOfParts, a.ScrapReason from
                                        (SELECT count(*) numberOfParts, [MessageType2] +' / ' + [Message] +' / ' +  [description] as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='REWORK' and MessageTime between [[StartDateTime]] and [[EndDateTime]] 
                                         group by [MessageType2] +' / ' + [Message] +' / ' +  [description] 
                                          UNION ALL
                                        SELECT count(*) numberOfParts, [Message]  as ScrapReason
                                          FROM [smartKPIMachineMessageData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                           and [MessageType1]='Operator Screen' and [MessageType2]='KBMaschMessage.Button.Rework' and MessageTime between [[StartDateTime]] and [[EndDateTime]]  
                                         group by [Message]) as a
                                         
                                         group by a.[ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachinesForStatusVisualization">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select distinct [Machine] as ThingName
                                          from [smartKPIMachineStatusData]
                                          where StatusType = convert(varchar(255), [[StatusType]])
                                          order by 1
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineShiftData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Machine]
                                        	  ,[Name]
                                              ,[StartTime]
                                              ,[EndTime]
                                              ,[Qualifier]
                                              ,[Utilization]
                                          FROM [shiftCalendar] where Machine like [[Machine]]  and [StartTime]<[[EndDate]] and [EndTime]>[[StartDate]]
                                          order by StartTime asc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineStaffData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [MessageTime]
                                              ,[Message]
                                              ,[description]
                                              ,[Machine]
                                        	  ,[CreationTime]
                                          FROM [smartKPIMachineMessageData] Where MessageType1='STAFF' and MessageTime>[[StartTime]] and MessageTime<=[[EndTime]] and Machine in 
                                          (SELECT a.Machine
                                          FROM [smartKPIMachineKeyValueData]  a 
                                          inner join
                                          (Select Machine from [smartKPIMachineKeyValueData] where PropertyKey='isActive' and FloatValue=1 ) b
                                          on a.TextValue=b.Machine
                                          where a.PropertyKey='KBLocalLineThing' and a.TextValue=[[Machine]])
                                          order by MessageTime desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineStatus">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  
                                              [StatusTime]
                                              ,[Status]
                                              ,[SubStatus]
                                          FROM [smartKPIMachineStatusData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and [StatusType] = convert(varchar(255), [[StatusType]])
                                          and StatusTime between [[StartDateTime]] and [[EndDateTime]]
                                          order by StatusTime, CreationTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineStatusTimeSum">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  OldStatus as 'Status', DATEADD(s, SUM(CAST (DATEDIFF(s, OldStatusTime, NewStatusTime) AS int)), '1970/01/01') as TotalTimeForStatus 
                                        FROM (
                                        	SELECT NewStatusTime, StatusType, NewStatus, OldStatusTime, OldStatus
                                        	FROM 
                                        		(SELECT
                                        		   RN,
                                        		  [StatusTime] as NewStatusTime,
                                        		   LAG([StatusTime], 1) OVER (ORDER BY RN) AS OldStatusTime  
                                        
                                        		  ,[Status] as NewStatus
                                        		  ,LAG([Status], 1) OVER (ORDER BY RN) AS OldStatus  
                                        		  ,[StatusType]
                                        		from (Select
                                        			ROW_NUMBER() OVER(ORDER BY [StatusTime]) as RN,
                                        			[StatusTime]
                                        			  ,[Status]
                                        			  ,[StatusType]
                                        			 FROM smartKPIMachineStatusData where Machine=[[Machine]] and [StatusType]=[[StatusType]]  and StatusTime>=[[StartDateTime]] and StatusTime<=[[EndDateTime]]) t1
                                        	  ) t2  WHERE OldStatus like 'KBMaschStatus.1.OI%'
                                        	
                                        	UNION ALL	
                                        	
                                        	SELECT 
                                        	 [[EndDateTime]] as  NewStatusTime, StatusType,'' as NewStatus, OldStatusTime, OldStatus
                                        	FROM 
                                        		(Select top 1 
                                        			   [StatusTime] as OldStatusTime
                                        			  ,[Status]  as OldStatus
                                        			  ,[StatusType]
                                        			 FROM smartKPIMachineStatusData
                                        			 where Machine=[[Machine]] and [StatusType]=[[StatusType]] and StatusTime>=[[StartDateTime]] and StatusTime<=[[EndDateTime]] order by StatusTime desc ) t4 
                                        			 WHERE OldStatus like 'KBMaschStatus.1.OI%'
                                        
                                        	UNION ALL	
                                        	
                                        	SELECT 
                                        	   NewStatusTime, StatusType, NewStatus, OldStatusTime, OldStatus
                                        	FROM 
                                        		(SELECT
                                        		   RN,
                                         		   t5.[StatusTime] as NewStatusTime,
                                        		   [[StartDateTime]] as OldStatusTime  
                                        		  ,[Status] as NewStatus
                                        		  ,LAG([Status], 1) OVER (ORDER BY RN) AS OldStatus  
                                        		  ,[StatusType]
                                        		from (Select top 2
                                        			ROW_NUMBER() OVER(ORDER BY [StatusTime]) as RN,
                                        			[StatusTime]
                                        			  ,[Status]
                                        			  ,[StatusType]
                                        			 FROM smartKPIMachineStatusData where Machine=[[Machine]] and [StatusType]=[[StatusType]] and StatusTime >= 
                                        			 (Select top 1 
                                        			   [StatusTime] 
                                        			 FROM smartKPIMachineStatusData
                                        			 where Machine=[[Machine]] and [StatusType]=[[StatusType]]  and StatusTime<=[[StartDateTime]] 
                                        			 order by StatusTime desc) 
                                        			 order by StatusTime desc) t5
                                        			 )  t6  WHERE OldStatus like [[Status]]
                                        	) t3  GROUP BY OldStatus
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetMachinesWithProcessDataFloatForVisualization">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	PropertySubKey1: "undefined" /* STRING */,
                                        	Machine: "MachinesWithProcessDataFloat" /* STRING */,
                                        	PropertyKey: "%" /* STRING */,
                                        	PropertySubKey2: "undefined" /* STRING */
                                        };
                                        
                                        // result: INFOTABLE
                                        var data = Things["KBKPILocalThingWorxDatabaseThing"].GetMachineData(params);
                                        
                                        
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBNameForMenuDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBNameForMenuDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        
                                        
                                        for (var i = 0; i < data.getRowCount(); i++) {
                                            // KBNameForMenuDataShape entry object
                                        	var newEntry = new Object();
                                            newEntry.ThingName = data.getRow(i).PropertyKey;
                                            newEntry.DisplayName = data.getRow(i).TextValue; // STRING
                                        	if (newEntry.DisplayName == null || newEntry.DisplayName == undefined || newEntry.DisplayName == ""){
                                        		newEntry.DisplayName=newEntry.ThingName;
                                        	}
                                            result.AddRow(newEntry);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachinesWithProcessDataFloatFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select distinct Machine as ThingName 
                                        										from [smartKPIProcessFloatData] 
                                        										where ProcesData != 0 
                                        										order by 1;
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetMachinesWithProcessDataForVisualization">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	PropertySubKey1: "undefined" /* STRING */,
                                        	Machine: "MachinesWithProcessData" /* STRING */,
                                        	PropertyKey: "%" /* STRING */,
                                        	PropertySubKey2: "undefined" /* STRING */
                                        };
                                        
                                        // result: INFOTABLE
                                        var data = Things["KBKPILocalThingWorxDatabaseThing"].GetMachineData(params);
                                        
                                        
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBNameForMenuDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBNameForMenuDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        
                                        
                                        for (var i = 0; i < data.getRowCount(); i++) {
                                            // KBNameForMenuDataShape entry object
                                        	var newEntry = new Object();
                                            newEntry.ThingName = data.getRow(i).PropertyKey;
                                            newEntry.DisplayName = data.getRow(i).TextValue; // STRING
                                        	if (newEntry.DisplayName == null || newEntry.DisplayName == undefined || newEntry.DisplayName == ""){
                                        		newEntry.DisplayName=newEntry.ThingName;
                                        	}
                                            result.AddRow(newEntry);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachinesWithProcessDataFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select distinct Machine as ThingName 
                                        										from [V_smartKPIProcessData] 
                                        										order by 1;
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetMachineThingList">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var listInfotable =  Resources["SearchFunctions"].SearchThingsByTemplateWithPersistent({
                                        	maxItems: 200 /* NUMBER */,
                                        	nameMask: undefined /* STRING */,
                                        	thingTemplate: 'KBLocalMachineThingTemplate' /* THINGTEMPLATENAME */
                                        });
                                        
                                        
                                         if(listInfotable.rows.length>0){
                                                 var query = 
                                                {
                                                     "sorts": 
                                                  	{
                                                      "fieldName": "name",
                                                      "isAscending": true
                                                  	}
                                                };
                                               
                                                var params = {
                                                	t: listInfotable /* INFOTABLE */,
                                                	query: query /* QUERY */
                                                };
                                                
                                                // result: INFOTABLE
                                                var MachineList = Resources["InfoTableFunctions"].Query(params);
                                             var params = {
                                            infoTableName : "InfoTable",
                                            dataShapeName : "GenericStringList"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(GenericStringList)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                             for(x=0;x<MachineList.rows.length;x++){
                                                 if(Things[MachineList.rows[x].name].isActive){
                                                   var newEntry = new Object();
                                                      newEntry.item = MachineList.rows[x].name; // STRING
                                             			result.AddRow(newEntry);
                                                 }
                                             }
                                             
                                         }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="GetMaterialRelatedFixtures">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  [PropertySubKey2] 
                                        FROM [smartKPIMachineKeyValueData] 
                                        WHERE [PropertyKey]='CavityQuantity' AND [PropertySubKey1]=convert(varchar(150), [[MaterialName]]) AND [Machine] IN (SELECT [Machine] FROM [smartKPIMachineKeyValueData] WHERE [PropertyKey]='FixtureStatus' AND [Machine]=convert(varchar(255), [[PlantThing]]) AND [FloatValue]=1)
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMESOrderData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT a.PropertyKey
                                              ,[TextValue]
                                              ,[System]
                                              ,a.[OrderNumber]
                                              ,UTCUpdateTime as UpdateTime
                                              ,[PlantId]
                                        	  ,c.TotalOrderQuantity
                                        	  ,d.OKPartsConfirmed
                                        	  ,c.TotalOrderQuantity-d.OKPartsConfirmed as ToBeProduced
                                        	  ,e.ScheduledStartDate
                                          FROM [smartKPIOrderKeyValueData] a 
                                            inner join 
                                          (Select OrderNumber FROM [smartKPIOrderKeyValueData] where TextValue=[[WorkCenter]]) b 
                                          on a.OrderNumber=b.OrderNumber
                                          inner join
                                           (Select FloatValue as TotalOrderQuantity, OrderNumber FROM [smartKPIOrderKeyValueData] where PropertyKey='TotalOrderQuantity') c 
                                          on a.OrderNumber=c.OrderNumber
                                          inner join
                                           (Select 
                                           CASE WHEN FloatValue IS NULL THEN 0 ELSE FloatValue END
                                           as OKPartsConfirmed, OrderNumber FROM [smartKPIOrderKeyValueData] where PropertyKey='OKPartsConfirmed-'+Operation) d
                                          on a.OrderNumber=d.OrderNumber
                                        
                                          inner join
                                           (Select DateTimeValue as ScheduledStartDate, OrderNumber FROM [smartKPIOrderKeyValueData] where PropertyKey='ScheduledStartDate' and DateTimeValue>DATEADD(DAY,-[[DaysAgo]],GETUTCDATE())) e 
                                          on a.OrderNumber=e.OrderNumber
                                          
                                          where c.TotalOrderQuantity-d.OKPartsConfirmed>0 and a.PropertyKey='MaterialNumber'
                                          order by ScheduledStartDate
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMESOrderData2">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>2000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT a.[TextValue]
                                              ,a.[OrderNumber]
                                              ,f.[Operation]
                                              ,a.[PlantId]
                                        	  ,c.TotalOrderQuantity
                                        	  ,d.OKPartsConfirmed
                                        	  ,c.TotalOrderQuantity-d.OKPartsConfirmed as ToBeProduced
                                        	  ,e.ScheduledStartDate
                                              ,f.EarliestScheduledStartProcessing
                                              ,g.LatestScheduledFinishExecution
                                          FROM [smartKPIOrderKeyValueData] a   with (NOLOCK)
                                            inner join 
                                          (Select OrderNumber,Operation FROM [smartKPIOrderKeyValueData]  with (NOLOCK) where TextValue=[[Workcenter]]) b 
                                          on a.OrderNumber=b.OrderNumber
                                        
                                          inner join
                                           (Select DateTimeValue as 'EarliestScheduledStartProcessing', OrderNumber,[Operation] FROM [smartKPIOrderKeyValueData]  with (NOLOCK) where PropertyKey= 'EarliestScheduledStartProcessing-'+Operation) f --'EarliestScheduledStartProcessing-'+Operation
                                          on a.OrderNumber=f.OrderNumber and b.Operation=f.Operation
                                          
                                          inner join
                                           (Select FloatValue as TotalOrderQuantity, OrderNumber FROM [smartKPIOrderKeyValueData]  with (NOLOCK) where PropertyKey='TotalOrderQuantity') c 
                                          on a.OrderNumber=c.OrderNumber
                                          inner join
                                           (Select 
                                           CASE WHEN FloatValue IS NULL THEN 0 ELSE FloatValue END
                                           as OKPartsConfirmed, OrderNumber,Operation FROM [smartKPIOrderKeyValueData]  with (NOLOCK) where PropertyKey='OKPartsConfirmed-'+Operation) d
                                          on a.OrderNumber=d.OrderNumber and b.Operation=d.Operation
                                        
                                          inner join
                                           (Select DateTimeValue as ScheduledStartDate, OrderNumber FROM [smartKPIOrderKeyValueData]  with (NOLOCK) where PropertyKey='ScheduledStartDate' and DateTimeValue>DATEADD(DAY,-[[DaysAgo]],GETUTCDATE())) e  
                                          on a.OrderNumber=e.OrderNumber
                                        
                                          inner join
                                           (Select DateTimeValue as LatestScheduledFinishExecution, OrderNumber,[Operation] FROM [smartKPIOrderKeyValueData]  with (NOLOCK) where PropertyKey='LatestScheduledFinishExecution-'+Operation) g  
                                          on a.OrderNumber=g.OrderNumber  and b.Operation=g.Operation
                                            
                                          where c.TotalOrderQuantity-d.OKPartsConfirmed>0 and a.PropertyKey='MaterialNumber'  
                                        ORDER BY g.LatestScheduledFinishExecution asc
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetMessagesForParetoMashup">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try {
                                         	var data;
                                            var result;
                                            if (Type=='Retest'){
                                                // result: INFOTABLE dataShape: "KBLossesDataShape"
                                                var params = {
                                                	StartDateTime: StartDateTime /* DATETIME */,
                                                	EndDateTime: EndDateTime /* DATETIME */,
                                                	Machine: Machine /* STRING */
                                                };
                                            
                                                if (CalulateTop10 === null || CalulateTop10 === false) {
                                                    // result: INFOTABLE dataShape: "KBLossesDataShape"
                                                     data = me.GetMachineRetestMessages(params);
                                                } else {
                                                    // result: INFOTABLE dataShape: "KBLossesDataShape"
                                                     data = me.GetMachineRetestTop10Messages(params);
                                                }
                                                 //logger.error("Number of rows" + data.rows.length);    
                                            }else{
                                                if(Type=='NOKPart'){
                                                	// result: INFOTABLE dataShape: "KBLossesDataShape"
                                                    var params = {
                                                    	StartDateTime: StartDateTime /* DATETIME */,
                                                    	EndDateTime: EndDateTime /* DATETIME */,
                                                    	Machine: Machine /* STRING */
                                                    };
                                                
                                                    if (CalulateTop10 === null || CalulateTop10 === false) {
                                                        // result: INFOTABLE dataShape: "KBLossesDataShape"
                                                         data = me.GetMachineNOKPartMessages(params);
                                                    } else {
                                                        // result: INFOTABLE dataShape: "KBLossesDataShape"
                                                         data = me.GetMachineNOKPartTop10Messages(params);
                                                    }
                                                }else{
                                        			if(Type=='Rework'){
                                        				// result: INFOTABLE dataShape: "KBLossesDataShape"
                                        				var params = {
                                        					StartDateTime: StartDateTime /* DATETIME */,
                                        					EndDateTime: EndDateTime /* DATETIME */,
                                        					Machine: Machine /* STRING */
                                        				};
                                                
                                        				if (CalulateTop10 === null || CalulateTop10 === false) {
                                        					// result: INFOTABLE dataShape: ""
                                        					data =  me.GetMachineReworkMessages(params);
                                        				} else {
                                        					// result: INFOTABLE dataShape: "KBLossesDataShape"
                                        					data = me.GetMachineReworkTop10Messages(params);
                                        				}
                                        			}
                                                }
                                            }
                                          
                                        	var params3 = {
                                            	infoTableName : "InfoTable",
                                            	dataShapeName : "KBLossesDataShape"
                                            };
                                            
                                            // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(NOKParetoDataShape)
                                             result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params3);
                                           //  logger.error("Number of result rows" + result.rows.length);    
                                            var total = 0;
                                            var numberOfParts = 0;
                                            if (data.rows.length>0){
                                            for (var z = 0; z< data.rows.length; z++) {
                                                total += parseFloat(data.rows[z].numberOfParts);
                                            }
                                            //logger.error("Number of rows" + data.rows.length);    
                                            for (var i = 0; i< data.rows.length; i++) {
                                                numberOfParts += parseFloat(data.rows[i].numberOfParts);
                                                //logger.error("Number " + data.rows[i].numberOfParts);    
                                                var RetestReason;
                                            	try{
                                                var params1 = {
                                                	name: data.rows[i].ScrapReason /* STRING */
                                                };
                                                // result: STRING
                                                 RetestReason = LocalizationTables[Language].GetToken(params1);
                                                } catch(err) {
                                                	RetestReason=data.rows[i].ScrapReason;
                                        		}
                                                var newEntry = new Object();
                                                newEntry.numberOfParts = data.rows[i].numberOfParts;
                                                newEntry.ScrapReason = RetestReason; //data.getRow(i).ScrapReason;
                                                newEntry.numberOfPartsCulminated = numberOfParts; // STRING
                                                newEntry.PercentCulminated = numberOfParts/total*100; // NUMBER
                                                newEntry.Percent = data.rows[i].numberOfParts/total*100; // NUMBER
                                                
                                                result.AddRow(newEntry);
                                            }
                                          }
                                        } catch(err) {
                                        	logger.error("Error on GetMessagesForParetoMashup of thing: "+me.name+" , Error: " + err);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetNamedPartsForOrderWithRQ">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                        	isnull(ord1.PartNumber, '-') as Label,
                                        	isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)) as OptionalProductionDate,
                                        	DATEDIFF(minute, isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)), GETUTCDATE()) as OptionalDiffInMinutesLastPartProduced,
                                        	isnull(IO.anz,0) as OK, 
                                            isnull(NIO.anz,0) as NOK, 
                                            case (isnull(IO.anz,0) + isnull(NIO.anz,0)) 
                                                when 0 then 0 
                                                else round(convert(float, isnull(IO.anz,0))/(convert(float, isnull(IO.anz,0)) + convert(float, isnull(NIO.anz,0)))*convert(float, 100),2) 
                                            end as KPI
                                            from 
                                        (SELECT sum([numberOfParts]) anz
                                          FROM [smartKPI]
                                          where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and isPartOK = 0
                                          and OrderNumber = convert(varchar(255), [[OrderNumber]])
                                         and PartNumber = convert(varchar(255), [[PartName]])) NIO,
                                        (SELECT sum([numberOfParts]) anz
                                          FROM [smartKPI]
                                          where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and isPartOK = 1
                                          and OrderNumber = convert(varchar(255), [[OrderNumber]])
                                        and PartNumber = convert(varchar(255), [[PartName]])) IO,
                                          (select top(1) ord.PartNumber, ord.ProductionTime from (SELECT 
                                              ProductionTime, PartNumber
                                          FROM [smartKPI]
                                        where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and OrderNumber = convert(varchar(255), [[OrderNumber]])
                                          and PartNumber = convert(varchar(255), [[PartName]])
                                        union select DATEFROMPARTS(1970,1,1), '-'
                                        	) ord
                                            order by ProductionTime desc
                                        	)ord1
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetNewFastemsOrders">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT * FROM [smartKPIOrderKeyValueData]
                                           where PropertyKey in ('FastemsNewOrder', 'FastemsRemovedOrder', 'FastemsUpdateOrder')
                                           and PropertyKey1 = 'unsent'
                                           and Operation = [[SAPWorkcenterNumber]]
                                           order by DateTimeValue;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetNewOrderData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select top (500) * from [smartKPIOrderData]
                                        where UTCUpdateTime >= [[StartDateTime]]
                                        and [PlantId] = [[SAPPlantNumber]]
                                          order by UTCUpdateTime
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetNewOrderKeyValueData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from GetNewOrderKeyValueData([[StartDateTime]], [[SAPPlantNumber]]);
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetNumberOfProcessFloatData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select top(1) 'ok' as ok from smartKPIProcessFloatData 
                                        	   						where Machine = convert(varchar(255), [[Machine]]) 
                                        	   						and ProductionTime = [[DateTime]] 
                                        	   						and ProcesDataType =  convert(varchar(255), [[ValueName]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOeeUtilizationRail">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXEC GetMultiKPIRail @StartDateTime= [[TimeStart]], @EndDateTime = [[TimeEnd]],	@machine = [[Machine]],	@CalculationBase = [[CalculationBase]];
                                        ]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOperatorInputMachineDefinitionList">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select [Machine]
                                              ,[Devision] Division
                                              ,[SubStatus]
                                              ,[Status]
                                              ,[SortingIndex]
                                              ,[StatusType]
                                              , '-' as LocalizedStatus 
                                              , '-' as RequestedMachine
                                              ,[TimeLossInSec]
                                              from [smartKPIOperatorInputMachineDefinition]
                                        where SubStatus = convert(varchar(255), [[SubStatus]])
                                        and Machine = 'all'
                                        and Devision = convert(varchar(255), [[Division]])
                                        and isDeleted = 0
                                        union
                                        select [Machine]
                                              ,[Devision] Division
                                              ,[SubStatus]
                                              ,[Status]
                                              ,[SortingIndex]
                                              ,[StatusType]
                                              , '-' as LocalizedStatus 
                                              , '-' as RequestedMachine
                                              ,[TimeLossInSec]
                                              from [smartKPIOperatorInputMachineDefinition]
                                        where SubStatus = convert(varchar(255), [[SubStatus]])
                                        and Machine like convert(varchar(255), [[Machine]])
                                        and Devision = convert(varchar(255), [[Division]])
                                        and isDeleted = 0
                                        order by [SortingIndex];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOperatorInputMachineDefinitionListV2">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 
                                        	Machine,
                                            Devision Division,
                                            SubStatus,
                                            Status,
                                            SortingIndex,
                                            StatusType,
                                            '-' as LocalizedStatus,
                                            '-' as RequestedMachine,
                                            TimeLossInSec,
                                        	JSON, 
                                        	externalIdent, 
                                        	StatusType1
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE SubStatus = CONVERT(varchar(255), [[SubStatus]])
                                        AND Machine = 'all'
                                        AND Devision = CONVERT(varchar(255), [[Division]])
                                        AND isDeleted = 0
                                        UNION
                                        SELECT 
                                        	Machine,
                                            Devision Division,
                                            SubStatus,
                                            Status,
                                            SortingIndex,
                                            StatusType,
                                            '-' as LocalizedStatus,
                                            '-' as RequestedMachine,
                                            TimeLossInSec,
                                        	JSON, 
                                        	externalIdent, 
                                        	StatusType1
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE SubStatus = CONVERT(varchar(255), [[SubStatus]])
                                        AND Machine LIKE CONVERT(varchar(255), [[Machine]])
                                        AND Devision = CONVERT(varchar(255), [[Division]])
                                        AND isDeleted = 0
                                        ORDER by [SortingIndex];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>                    
                    
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOperatorInputMachineDefinitionList1">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select [Machine]
                                              ,[Devision] Division
                                              ,[SubStatus]
                                              ,[Status]
                                              ,[SortingIndex]
                                              ,[StatusType]
                                              , '-' as LocalizedStatus 
                                              ,[TimeLossInSec]
                                              from [smartKPIOperatorInputMachineDefinition]
                                        where Status like convert(varchar(255), [[Status]])
                                        and SubStatus != '-'
                                        and Machine = convert(varchar(255), [[Machine]])
                                        and Devision = convert(varchar(255), [[Division]])
                                        and isDeleted = 0
                                        order by [SortingIndex];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOperatorInputMachineDefinitionSingleValue">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select [Machine]
                                              ,[Devision] Division
                                              ,[SubStatus]
                                              ,[Status]
                                              ,[SortingIndex]
                                              ,[StatusType] from [smartKPIOperatorInputMachineDefinition]
                                        where Status = convert(varchar(255), [[Status]])
                                        and Devision = convert(varchar(255), [[Division]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOperatorInputMachineDistinctMachines">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select distinct [Machine]
                                          from [smartKPIOperatorInputMachineDefinition]
                                        where SubStatus != '-'
                                        and Devision = convert(varchar(255), [[Division]])
                                        and isDeleted = 0;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOperatorList">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select distinct [Message]
                                        from [smartKPIMachineMessageData]
                                        where MessageType1 = 'STAFF' and MessageType2 = 'Operator' and MessageTime BETWEEN [[StartDate]] AND [[EndDate]]
                                        order by Message desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOperatorStationList">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select distinct [Message], [Machine]
                                        from [smartKPIMachineMessageData]
                                        where MessageType1 = 'STAFF' and MessageType2 = 'Operator' and MessageTime BETWEEN [[StartDate]] AND [[EndDate]]
                                        -- group by [Message], [Machine]
                                        order by Message desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOrderData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>25000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 
                                        	   [smartKPIOrderData].[Id] as OrderId
                                              ,[smartKPIOrderData].[CreationTime] as OrderCreationTime
                                              ,[smartKPIOrderData].[System]
                                              ,[smartKPIOrderData].[OrderNumber]
                                              ,[smartKPIOrderData].[isProductionStarted]
                                              ,[smartKPIOrderData].[UTCUpdateTime] as OrderUpdateTime
                                        	  ,[smartKPIOrderKeyValueData].[Id] as KeyValueId
                                              ,[smartKPIOrderKeyValueData].[CreationTime] as KeyValueCreationTime
                                              ,[smartKPIOrderKeyValueData].[PropertyKey]
                                              ,[smartKPIOrderKeyValueData].[FloatValue]
                                              ,[smartKPIOrderKeyValueData].[TextValue]
                                              ,[smartKPIOrderKeyValueData].[DateTimeValue]
                                              ,[smartKPIOrderKeyValueData].[isFloatValue]
                                              ,[smartKPIOrderKeyValueData].[isTextValue]
                                              ,[smartKPIOrderKeyValueData].[isDateTimeValue]
                                              ,[smartKPIOrderKeyValueData].[UTCUpdateTime]  as KeyValueUpdateTime
                                          FROM [smartKPIOrderKeyValueData], [smartKPIOrderData]
                                          where [smartKPIOrderData].[OrderNumber] like convert(varchar(255), [[OrderNumber]])
                                          and [smartKPIOrderData].[System] = convert(varchar(255), [[System]])
                                          and [smartKPIOrderKeyValueData].[OrderNumber] = [smartKPIOrderData].[OrderNumber]
                                          and [smartKPIOrderKeyValueData].[System] = [smartKPIOrderData].[System]
                                          and ([smartKPIOrderKeyValueData].[PropertyKey] like convert(varchar(255), [[PropertyKey]]) or convert(varchar(255), [[PropertyKey]]) = 'undefined')
                                          union
                                           SELECT 
                                        	   [smartKPIOrderData].[Id] 
                                              ,[smartKPIOrderData].[CreationTime] 
                                              ,[smartKPIOrderData].[System]
                                              ,[smartKPIOrderData].[OrderNumber]
                                              ,[smartKPIOrderData].[isProductionStarted]
                                              ,[smartKPIOrderData].[UTCUpdateTime] 
                                        	  ,null 
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                              ,null
                                          FROM [smartKPIOrderData]
                                          where [smartKPIOrderData].[OrderNumber] like convert(varchar(255), [[OrderNumber]])
                                          and [smartKPIOrderData].[System] = convert(varchar(255), [[System]])
                                          and (convert(varchar(255), [[PropertyKey]]) = 'undefined' or convert(varchar(255), [[PropertyKey]]) = '%')
                                          and not exists (select 'ok' from [smartKPIOrderKeyValueData]
                                          where [smartKPIOrderKeyValueData].[OrderNumber] = [smartKPIOrderData].[OrderNumber]
                                          and [smartKPIOrderKeyValueData].[System] = [smartKPIOrderData].[System])
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOrderDetails">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 
                                        	   [Id] as KeyValueId
                                              ,[CreationTime] as KeyValueCreationTime
                                              ,[OrderNumber]
                                              ,[PropertyKey]
                                              ,[PropertyKey1]
                                              ,[Operation]
                                              ,[FloatValue]
                                              ,[TextValue]
                                              ,[DateTimeValue]
                                              ,[isFloatValue]
                                              ,[isTextValue]
                                              ,[isDateTimeValue]
                                              ,[UTCUpdateTime]  as KeyValueUpdateTime
                                          FROM [smartKPIOrderKeyValueData]
                                          where [OrderNumber] = convert(varchar(255), [[OrderNumber]])
                                          and PropertyKey1 != 'LOIPRO'
                                          order by Operation, PropertyKey1;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOrderForConfirmationNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT t1.[OrderNumber]
                                              ,[Operation]	  
                                        	  ,t2.[TextValue]
                                          FROM dbo.[smartKPIOrderKeyValueData] t1  
                                          inner join 
                                          (Select [TextValue], [OrderNumber]
                                          FROM dbo.[smartKPIOrderKeyValueData] where  PropertyKey = 'MaterialNumber') t2 
                                          on t1.OrderNumber=t2.OrderNumber 
                                          where t1.PropertyKey1 = 'ConfirmationNumber' and t1.TextValue = [[ConfirmationNumber]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOrderInfo">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select min(x.ProductionTimeStart) as ProductionTimeStart, Max(x.ProductionTimeEnd) as ProductionTimeEnd, sum(x.NumberPartOk) as NumberPartOk, sum(x.NumberPartNOk)  as NumberPartNOk, x.OrderNumber, x.timePerPartSec
                                        from 
                                          (SELECT min([ProductionTime]) as ProductionTimeStart, Max([ProductionTime]) as ProductionTimeEnd, sum([numberOfParts]) as NumberPartOk, 0  as NumberPartNOk, [OrderNumber], [timePerPartSec]
                                          FROM [smartKPI]
                                          where [ProductionTime] between [[StartDate]] and [[EndDate]]
                                          and [Machine] = convert(varchar(255), [[Machine]] )
                                          and [isPartOK] = 1
                                          group by [isPartOK], [OrderNumber], [timePerPartSec]
                                          union
                                          SELECT min([ProductionTime]) as ProductionTimeStart, Max([ProductionTime]) as ProductionTimeEnd, 0 as NumberPartOk, sum([numberOfParts])  as NumberPartNOk, [OrderNumber], [timePerPartSec]
                                          FROM [smartKPI]
                                          where [ProductionTime] between [[StartDate]] and [[EndDate]]
                                          and [Machine] = convert(varchar(255), [[Machine]] )
                                          and [isPartOK] = 0
                                          group by [isPartOK], [OrderNumber], [timePerPartSec]) x
                                          group by x.OrderNumber, x.timePerPartSec
                                          order by 1 desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetOrderNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXEC GetOrderFromMaterialAndSerial [[MaterialNumber]],[[SerialNumber]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetPartsToConfirm">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        exec GetPartsToConfirm;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetPlannedStaffFromOrders">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var result;
try{
    	var CurrentOrder= me.GetLastDBRecordedOrder({
			Machine: Machine /* STRING */
			});
            // result: INFOTABLE dataShape: ""
        var OrderData =  me.GetWCRelatedOrderProperty({
        	Workcenter: Things[Machine].SAPWorkcenterNumber /* STRING */,
        	OrderNumber: CurrentOrder /* STRING */,
        	Property: "PlannedNumberOfWorkers" /* STRING */
        });
        if(OrderData.length>0){
            var  OrderSum = Resources["InfoTableFunctions"].Aggregate({
                t: OrderData, // INFOTABLE
                columns: "FloatValue", // STRING
                aggregates: "SUM", // STRING
                groupByColumns: undefined // STRING
            }); 
              result=OrderSum.SUM_FloatValue;
        }else{
            result=0;
        }
}catch(err) {
	logger.error("Error on GetPlannedStaffFromOrders: " + err);
	result = false;
}
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetPlantOrderList">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select * from (
                                          SELECT t1.[OrderNumber] , t1.[TextValue] as Operation,
                                          t2.[TextValue] as MaterialNumber,
                                          [[PlantNumber]] as Plant
                                          , t4.TextValue as Workcenter
                                             from ((SELECT [OrderNumber], [TextValue] FROM [smartKPIOrderKeyValueData] as t1 where t1.PropertyKey like 'Operation%' AND len([TextValue])<5 and [TextValue] is not null) t1
                                          left join [smartKPIOrderKeyValueData] as t4 on t1.OrderNumber=t4.OrderNumber AND [PropertyKey]='Line-' + t1.TextValue
                                          left join [smartKPIOrderKeyValueData] as t2 on t1.OrderNumber=t2.OrderNumber AND t2.PropertyKey = 'MaterialNumber'
                                          )) as t0 group by t0.OrderNumber,Operation,MaterialNumber,Plant,Workcenter having Plant =convert(varchar(255), [[PlantNumber]]) AND  t0.OrderNumber like convert(varchar(255), [[OrderNumber]]) AND MaterialNumber like convert(varchar(255), [[MaterialNumber]])  AND Operation like convert(varchar(255), [[OperationNumber]])
                                           order by OrderNumber desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetPMEventToSending">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [StatusType], [SubStatus],[description],[Id],[StatusTime],[Machine],[Status]
                                          FROM [smartKPIMachineStatusData] -- where [StatusType]='SAP PM' and [SubStatus]='Created'
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetPmMessages">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id],[description]  FROM [smartKPIMachineStatusData] as a
                                          INNER JOIN 
                                        	(select [Machine], COUNT(*)  as RecordCount, [Status] FROM [smartKPIMachineStatusData] group by [Machine], [Status],StatusType having StatusType = 'SAP PM' ) as  b
                                          ON 
                                          a.[Status]=b.[Status] 
                                        where StatusType = 'SAP PM' and SubStatus = 'Created' and RecordCount=1
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetprocessDataAsLineForTraceability">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select * from dbo.GetProcessDataAsLinesForTraceability([[PartNumber]],[[SerialNumber]],[[ProceeDataActual]],[[Machine]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProcessDataAsLines">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from dbo.GetProcessDataAsLines([[Id]],[[isProcessDataFloat]],[[isProcessDataString]],[[isProcessDataDateTime]]);
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProcessDataFloatPerTypeFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[ProductionTime]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                              ,[Machine]
                                              ,[ProcesDataType]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                              ,[TrackingNumber]
                                          FROM [smartKPIProcessFloatData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and isnull([ProcesDataType],'')+isnull([ProcesDataType2],'') = convert(varchar(255), [[ProcessDataType]])
                                          and [ProductionTime] between [[StartDate]] and [[EndDate]]
                                          order by [ProductionTime]
                                        ]]>
                                        </sql>
                                        <timeout>360.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProcessDataFloatTypesPerMachineForVisualization">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
    select distinct isnull([ProcesDataType],'')+' ('+isnull([ProcesDataType2],'')+')' as DisplayName, isnull([ProcesDataType],'') as ProcesDataType, isnull([ProcesDataType2],'') as ProcesDataType2 
                                        from [smartKPIProcessFloatData] 
                                        where Machine = convert(varchar(255),[[Machine]]) 
                                        and ProcesData != 0
                                        order by 1;                                        
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetProcessDataForPDF">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var result = "";
                                        try{
                                        var count = inputInfotable.getRowCount();
                                        if (count > 0) {   
                                        	for (var i = 0; i < count; i++) {
                                        		if (inputInfotable.rows[i]["LineName"] === "ProcesData") {
                                        			result = '<iframe src="data:application/pdf;base64,'+ inputInfotable.rows[i]["LineValue"]+'" height="100%" width="100%" frameborder="0"></iframe>';
                                        			break;
                                        		}
                                        	}
                                        }
                                        }
                                        catch(err)
                                        {
                                            logger.error("Error occured in GetProcessDataForPDF service of "+me.name + " thing on line " + err.lineNumber + ": " + err + ", Error Message : "+ err.message);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetProcessDataForXML">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var result = "";
                                        try {
                                        	var count = inputInfotable.getRowCount();
                                        	if (count > 0) {
                                        		for (var i = 0; i < count; i++) {
                                        			if (inputInfotable.rows[i]["LineName"] === "ProcesData") {
                                        				result = me.ParseXMLString({
                                        					inputXML: inputInfotable.rows[i]["LineValue"] /* STRING */
                                        				});
                                        				break;
                                        			}
                                        		}
                                        	}
                                        } catch (err) {
                                        	logger.error("Error occured in GetProcessDataForXML service of " + me.name + " thing on line " + err.lineNumber + ": " + err + ", Error Message : " + err.message);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProcessDataFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[Machine]
                                              ,[ProcesDataType]
                                              ,[ProcesDataType2]
                                              ,[ProductionTime]
                                              ,[ProcessDataFloat]
                                              ,case (isnull(ProcesDataType,'-')) 
                                                when 'PDF' then '<PDF>' 
                                                else [ProcessDataString] 
                                        	    end as ProcessDataString
                                              ,[ProcessDataDateTime]
                                              ,[isProcessDataFloat]
                                              ,[isProcessDataString]
                                              ,[isProcessDataDateTime]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[TrackingNumber]
                                              ,[PartNumberRevision]
                                              ,[Identifier]
                                              ,[ProcessDataFloatTargetValue]
                                              ,[ProcessDataStringTargetValue]
                                              ,[ProcessDataDateTimeTargetValue]
                                              ,[description]
                                              ,[comment]
                                          FROM [dbo].[V_smartKPIProcessData]
                                          where Machine = [[Machine]]
                                          and ProductionTime between [[StartDate]] and [[EndDate]]
                                          order by ProductionTime desc, CreationTime desc, ProcesDataType;
                                        ]]>
                                        </sql>
                                        <timeout>360.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetProcessDataInputParameterForVisualizationRepeater">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBLocalSmartKPIMachineLevelProcessDataRepeaterDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBLocalSmartKPIMachineLevelProcessDataRepeaterDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        if (ProcessDataTypes != null){
                                        
                                        	for (var i = 0; i < ProcessDataTypes.getRowCount(); i++) {
                                        		// KBLocalSmartKPIMachineLevelProcessDataRepeaterDataShape entry object
                                        	    var newEntry = new Object();
                                        	    newEntry.StartDate = StartDate; // DATETIME
                                        	    newEntry.ProcessDataType = ProcessDataTypes.getRow(i).PropertyKey; // STRING
                                        	    newEntry.EndDate = EndDate; // DATETIME
                                        	    newEntry.Machine = Machine; // STRING
                                        	
                                        	    result.AddRow(newEntry);
                                        	
                                        	
                                        	}
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProcessDataPerTypeFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[Machine]
                                              ,[ProcesDataType]
                                              ,[ProcesDataType2]
                                              ,[ProductionTime]
                                              ,[ProcessDataFloat]
                                              ,case (isnull(ProcesDataType,'-')) 
                                                when 'PDF' then '<PDF>' 
                                                else [ProcessDataString] 
                                        	    end as ProcessDataString
                                              ,[ProcessDataDateTime]
                                              ,[isProcessDataFloat]
                                              ,[isProcessDataString]
                                              ,[isProcessDataDateTime]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[TrackingNumber]
                                              ,[PartNumberRevision]
                                              ,[Identifier]
                                              ,[ProcessDataFloatTargetValue]
                                              ,[ProcessDataStringTargetValue]
                                              ,[ProcessDataDateTimeTargetValue]
                                              ,[description]
                                              ,[comment]
                                          FROM [dbo].[V_smartKPIProcessData]
                                          where Machine = [[Machine]]
                                          and ProductionTime between [[StartDate]] and [[EndDate]]
                                          and [ProcesDataType] = convert(varchar(255), [[ProcessDataType]])
                                          order by ProductionTime desc, CreationTime desc, ProcesDataType;
                                        ]]>
                                        </sql>
                                        <timeout>360.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProcessDataTypesPerMachineForVisualization">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
    select distinct isnull([ProcesDataType],'')+' ('+isnull([ProcesDataType2],'')+')' as DisplayName, isnull([ProcesDataType],'') as ProcesDataType, isnull([ProcesDataType2],'') as ProcesDataType2 
                                        										from [V_smartKPIProcessData] 
                                        										where Machine = convert(varchar(255),[[Machine]])
                                        										order by 1;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProcessFloatDataFromBufferDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select top(500) * from smartKPIProcessFloatDataBuffer
                                        		order by CreationTime desc;
                                        ]]>
                                        </sql>
                                        <timeout>6000.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProducedParts">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [smartKPI] cross apply GetSAPTimePerPartPerMachine([smartKPI].OrderNumber, [smartKPI].Machine)
                                          where Machine = convert(varchar(255), [[Machine]])
                                          and ProductionTime between [[StartDate]] and [[EndDate]]
                                          order by ProductionTime desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProducedPartsWithoutSAPData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [smartKPI]
                                          where Machine = convert(varchar(255), [[Machine]])
                                          and ProductionTime between [[StartDate]] and [[EndDate]]
                                          order by ProductionTime desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProductiveTimeForOEE2">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select isnull(sum(timePerPartSec),0) as SumTimePerPartSec
                                        from smartKPI
                                        where timePerPartSec is not null
                                        and Machine = convert(varchar(255), [[machine]])
                                        and ProductionTime between [[startDate]] and [[endDate]]
                                        and isPartOK = 1;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetProductiveTimeForParetoInHours">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	StartDateTime: StartDateTime /* DATETIME */,
                                        	Language: Language /* STRING */,
                                        	EndDateTime: EndDateTime /* DATETIME */,
                                        	StatusType: StatusType /* STRING */,
                                        	HideProductiveState: HideProductiveState /* BOOLEAN */,
                                        	UseSubStatus: UseSubStatus /* BOOLEAN */,
                                        	Machine: Machine /* STRING */
                                        };
                                        
                                        // result: INFOTABLE dataShape: "KBTimeLossesDataShape"
                                        var resultInMinutes = me.GetProductiveTimeForParetoInMinutes(params);
                                        
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBTimeLossesWithDecimalDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBTimeLossesDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        var tableLength = resultInMinutes.rows.length;
                                        
                                        for (var x = 0; x < tableLength; x++) {
                                        	var row = resultInMinutes.rows[x];
                                        	//Your code here
                                        	
                                            var newEntry = new Object();
                                            newEntry.sumOfTime = row.sumOfTime / 60;
                                            newEntry.sumOfTimeCulminated = row.sumOfTimeCulminated / 60;
                                            newEntry.Status = row.Status;
                                            newEntry.Percent = row.Percent; // NUMBER
                                            newEntry.PercentCulminated = row.PercentCulminated; // NUMBER
                                            result.AddRow(newEntry);
                                        	
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetProductiveTimeForParetoInMinutes">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        if (UseSubStatus == null){
                                            UseSubStatus = false;
                                        }
                                        if (HideProductiveState == null) {
                                            HideProductiveState = false;
                                        }
                                        
                                        var productiveStatusName = "KBMaschStatus.1.Productive";
                                        var productiveSubStatusName = "KBMaschStatus.2.Productive.Start";
                                        if (StatusType == "Operating Time From NDNC"){
                                        	productiveStatusName = "Production";
                                        	productiveSubStatusName = "Production";
                                        }
                                        
                                        var params = {
                                        	StartDateTime: StartDateTime /* DATETIME */,
                                        	EndDateTime: EndDateTime /* DATETIME */,
                                        	StatusType: StatusType /* STRING */,
                                        	Machine: Machine /* STRING */
                                        };
                                        
                                        // result: INFOTABLE dataShape: "KBLastMachineStatusDataShape"
                                        var statusList = me.GetMachineStatus(params);
                                        
                                        var params = {
                                        	StatusType: StatusType /* STRING */,
                                        	RelatedDateTime: StartDateTime /* DATETIME */,
                                        	Machine: Machine /* STRING */
                                        };
                                        
                                        // result: INFOTABLE dataShape: "KBLastMachineStatusDataShape"
                                        var lastStatusList = me.GetLastMachineStatusFromDate(params);
                                        var lastStatusTime = StartDateTime;
                                        var lastSubStatus = productiveSubStatusName;
                                        var lastStatus = productiveStatusName;
                                        
                                        if (lastStatusList.rows.length > 0){
                                            lastStatus = lastStatusList.rows[0].Status;
                                            lastSubStatus = lastStatusList.rows[0].SubStatus;
                                        }
                                        
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBTimeLossesDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBTimeLossesDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        var statusListTableLength = statusList.rows.length;
                                        
                                        //logger.debug("statusListTableLength: " + statusListTableLength);
                                        
                                        
                                        for (var x = 0; x < statusListTableLength; x++) {
                                        //	logger.debug("Start Loop");
                                        	var statusListRow = statusList.rows[x];
                                        	//Your code here
                                        
                                            var StatusTime = statusListRow.StatusTime;
                                            var Status = statusListRow.Status;
                                            var SubStatus = statusListRow.SubStatus;
                                        //	logger.debug("lastStatus: " + lastStatus);
                                        //	logger.debug("Status: " + Status);
                                        //	logger.debug("lastStatusTime: " + lastStatusTime);
                                        //	logger.debug("StatusTime: " + StatusTime);
                                            
                                            var TimedifferenceInMinutes = (StatusTime.getTime() - lastStatusTime.getTime())/1000/60;
                                        //	logger.debug("TimedifferenceInMinutes: " + TimedifferenceInMinutes);
                                            
                                            var resultTableLength = result.rows.length;
                                        //	logger.debug("resultTableLength: " + resultTableLength);
                                            
                                            var valueAvailable = false;
                                        
                                            for (var xx = 0; xx < resultTableLength; xx++) {
                                                var resultRow = result.rows[xx];
                                                //Your code here
                                                if ((resultRow.Status == lastStatus && !UseSubStatus)||(resultRow.Status == lastSubStatus && UseSubStatus)){
                                                    resultRow.sumOfTime = resultRow.sumOfTime + TimedifferenceInMinutes;
                                                    valueAvailable = true;
                                        //			logger.debug("valueAvailable");
                                                }
                                            }
                                            if ((!valueAvailable && HideProductiveState && lastStatus != productiveStatusName) || (!valueAvailable && !HideProductiveState)) {
                                                // KBTimeLossesDataShape entry object
                                                var newEntry = new Object();
                                                newEntry.sumOfTime = TimedifferenceInMinutes; // INTEGER
                                                newEntry.sumOfTimeCulminated = undefined; // INTEGER
                                                newEntry.Percent = undefined; // NUMBER
                                                if (!UseSubStatus){
                                                	newEntry.Status = lastStatus; // STRING
                                                } else {
                                                	newEntry.Status = lastSubStatus; // STRING
                                                } 
                                                
                                                newEntry.PercentCulminated = undefined; // NUMBER
                                            	result.AddRow(newEntry);
                                        //		logger.debug("AddRow");
                                            }
                                        
                                        
                                        
                                            lastStatusTime = StatusTime;
                                            lastStatus = Status;
                                            lastSubStatus = SubStatus;
                                        //	logger.debug("End Loop");
                                        }
                                        
                                        
                                        var StatusTime = EndDateTime;
                                        //logger.debug("lastStatus: " + lastStatus);
                                        //logger.debug("lastStatusTime: " + lastStatusTime);
                                        //logger.debug("StatusTime: " + StatusTime);
                                        
                                        var TimedifferenceInMinutes = (StatusTime.getTime() - lastStatusTime.getTime())/1000/60;
                                        //logger.debug("TimedifferenceInMinutes: " + TimedifferenceInMinutes);
                                        
                                        var resultTableLength = result.rows.length;
                                        //logger.debug("resultTableLength: " + resultTableLength);
                                        
                                        var valueAvailable = false;
                                        
                                        for (var xx = 0; xx < resultTableLength; xx++) {
                                            var resultRow = result.rows[xx];
                                            //Your code here
                                            if ((resultRow.Status == lastStatus && !UseSubStatus)||(resultRow.Status == lastSubStatus && UseSubStatus)){
                                                resultRow.sumOfTime = resultRow.sumOfTime + TimedifferenceInMinutes;
                                                valueAvailable = true;
                                                logger.debug("valueAvailable");
                                            }
                                            
                                        	if (StatusType == "Operator Screen"){
                                                var params = {
                                        			language: Language /* STRING */,
                                        			level2Status: resultRow.Status /* STRING */
                                        		};
                                        		
                                        		// result: STRING
                                        		try {
                                        			resultRow.Status = Things["KBAdministratorLevel2UtilityThing"].GetTokenValueForLevel2StatusLanguage(params);
                                        		} catch(err) {
                                        		}
                                        			
                                        			
                                               }
                                            
                                        }
                                        if ((!valueAvailable && HideProductiveState && lastStatus != productiveStatusName) || (!valueAvailable && !HideProductiveState)) {
                                            // KBTimeLossesDataShape entry object
                                            var newEntry = new Object();
                                            newEntry.sumOfTime = TimedifferenceInMinutes; // INTEGER
                                            newEntry.sumOfTimeCulminated = undefined; // INTEGER
                                            newEntry.Percent = undefined; // NUMBER
                                                if (!UseSubStatus){
                                                	newEntry.Status = lastStatus; // STRING
                                                } else {
                                                	newEntry.Status = lastSubStatus; // STRING
                                                } 
                                            newEntry.PercentCulminated = undefined; // NUMBER
                                            result.AddRow(newEntry);
                                        //    logger.debug("AddRow");
                                        }
                                        
                                        
                                        var sort = new Object();
                                        sort.name = "sumOfTime";
                                        sort.ascending = false;
                                        result.Sort(sort);
                                        
                                        var tableLength = result.rows.length;
                                        var totalTime = 0;
                                        for (var x = 0; x < tableLength; x++) {
                                        	var row = result.rows[x];
                                        	//Your code here
                                            totalTime = totalTime + row.sumOfTime;
                                        }
                                        
                                        var sumOfTimeCulminated = 0;
                                        var PercentCulminated = 0;
                                        
                                        if (totalTime > 0){
                                            for (var x = 0; x < tableLength; x++) {
                                                var row = result.rows[x];
                                                //Your code here
                                                sumOfTimeCulminated = sumOfTimeCulminated + row.sumOfTime;
                                                row.sumOfTimeCulminated = sumOfTimeCulminated; // INTEGER
                                                row.Percent = Math.round(row.sumOfTime/totalTime*10000)/100; // NUMBER
                                                PercentCulminated = PercentCulminated + row.Percent;
                                                row.PercentCulminated = PercentCulminated; // NUMBER
                                            }
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetProductiveTimeForUtilization">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select isnull(sum(timePerPartSec),0) as SumTimePerPartSec
                                        from smartKPI
                                        where timePerPartSec is not null
                                        and Machine = convert(varchar(255), [[machine]])
                                        and ProductionTime between [[startDate]] and [[endDate]]
                                        and isPartOK = 1;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetQualityResultsFromDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT sum([numberOfParts]) NumberOfParts, isPartOK
                                          FROM [smartKPI]
                                          WHERE Machine = convert(varchar(255), [[KBMachineThing]])
                                          and [ProductionTime] BETWEEN [[startDate]] and [[endDate]]
                                          group by isPartOK
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetRailNextUnproductiveStatusForSinglePalletMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select dbo.GetRailNextUnproductiveStatusForSinglePalletMachine([[Station]]) as UnproductiveStatus;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetRailOrderFromConfirmationNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetRailOrderFromConfirmationNumber @ConfirmationNumber = [[ConfirmationNumber]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetRailOrderFromNcProgram">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetRailOrderFromNcProgram @NcProgram = [[NcProgram]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetRailOrderFromPartNumberAndOperation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetRailOrderFromPartNumberAndOperation @PartNumber = [[PartNumber]], @Operation = [[Operation]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetRQDowntimeList">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT
                                        	'KBMaschStatus.1.RQ' as Status
                                        	,b.Status as SubStatus
                                            ,'RQ' as Type
                                            ,[MessageTime] as StartTime
                                        	,DATEADD(second, [TimeLossInSec], [MessageTime]) as EndTime
                                            ,TimeLossInSec/(60.0) as Duration
                                          FROM [smartKPIMachineMessageData] a
                                          inner join 
                                          (SELECT 
                                              [SubStatus]
                                              ,[Status]
                                              ,[TimeLossInSec]
                                              ,[isDeleted]
                                          FROM [smartKPIOperatorInputMachineDefinition] where SubStatus='KBMaschMessage.Button.NokPart'  ) b
                                          ON
                                          a.[MessageType2]=b.[SubStatus] and 
                                          a.[Message]=b.[Status]
                                          where [TimeLossInSec]>0 and Machine=[[Machine]] and [MessageTime] between [[StartTime]] and [[EndTime]]
                                          order by StartTime desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetSAPPlantID">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params3 = {
                                                maxItems: undefined /* NUMBER */,
                                                nameMask: undefined /* STRING */,
                                                query: undefined /* QUERY */,
                                                thingTemplate: "KBLocalPlantThingTemplate" /* THINGTEMPLATENAME */,
                                                tags: undefined /* TAGS */
                                        };
                                        
                                        var plantThing = Resources["SearchFunctions"].SearchThingsByTemplate(params3);
                                        var SAPPlantID = Things[plantThing.name].SAPPlantId;
                                        var result = SAPPlantID;
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getSapPmMsgsByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT DISTINCT Status
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE Machine IN
                                        (
                                            'all',
                                            [[stationThing]],
                                            [[machineThing]]
                                        )
                                        AND SUBSTRING(Status, 1, 14) = 'KBMaschMessage'
                                        AND isDeleted = 0
                                        ORDER BY Status;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getSapPmStatusByStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>5000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT DISTINCT Status
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE Machine IN
                                        (
                                            'all',
                                            [[stationThing]],
                                            [[machineThing]]
                                        )
                                        AND SUBSTRING(Status, 1, 14) <> 'KBMaschMessage'
                                        AND isDeleted = 0
                                        ORDER BY Status;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetSAPPMValueAllData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select  [TextValue],[FloatValue],[Description],[PropertyKey1],[PropertyKey2] from [smartKPISAPPMKeyValueData] where PropertyKey=[[PropertyKey]] 
                                         and (PropertyKey1 like [[PropertyKey1]]+'%' or [[PropertyKey1]] is null)
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetSAPPMValueData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select  [TextValue],[FloatValue],[Description],[PropertyKey1],[PropertyKey2] from [smartKPISAPPMKeyValueData] where PropertyKey=[[PropertyKey]]
                                         and Machine=[[Machine]]
                                         and ((PropertyKey1 like [[PropertyKey1]]+'%' or [[PropertyKey1]] is null)) and PropertyKey<>'MTWorker'
                                         Union all
                                         Select  [TextValue],[FloatValue],[Description],[PropertyKey1],[PropertyKey2] from [smartKPISAPPMKeyValueData] where PropertyKey=[[PropertyKey]]
                                         and Machine=[[Machine]]
                                         and ((PropertyKey1 like [[PropertyKey1]]+'%' or [[PropertyKey1]] is null) or [[PropertyKey1]]='') and PropertyKey='MTWorker'
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetShiftDataForEventChart">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [StartTime] as EventTime
                                              ,[Qualifier]
                                              ,[Name]
                                        	  ,2
                                          FROM [shiftCalendar]
                                          where [Plant] = convert(varchar(255), [[PlantSAP]])
                                          and Machine = convert(varchar(255), [[MachineSAP]])
                                          and StartTime between [[StartDate]] and [[EndDate]]
                                          and [Qualifier] in ('W', 'B')
                                        union
                                        SELECT [EndTime]
                                              ,'U'
                                              ,'Unknown'
                                        	  ,1
                                          FROM [shiftCalendar]
                                          where [Plant] = convert(varchar(255), [[PlantSAP]])
                                          and Machine = convert(varchar(255), [[MachineSAP]])
                                          and StartTime between [[StartDate]] and [[EndDate]]
                                          and [Qualifier] in ('W', 'B')
                                          order by 1,4
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetShiftInfo">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [StartTime]
                                              ,[EndTime]
                                              ,[Qualifier]
                                              ,[Name]
                                              , datediff( minute, GETDATE(), GETUTCDATE()) as TimezoneOffset
                                              , Utilization as utilization      
                                          FROM [shiftCalendar]
                                          where [Plant] = convert(varchar(255), [[PlantSAP]])
                                          and Machine = convert(varchar(255), [[MachineSAP]])
                                          and StartTime between [[StartDate]] and [[EndDate]]
                                          order by 1 desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetSingleKpiUtilizationOee2Truck">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select * from GetUtilizationOee2Truck([[StartDate]], [[EndDate]], [[Machine]]);
                                        ]]>
                                        </sql>
                                        <timeout>120.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetSmartKPIKepwareConnectorPointer">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select [UpdatedId] from [smartKPIKepwareConnectorPointer] where [Machine] = convert(varchar(255), [[Identifier]])
                                        union
                                        select 0 where not exists (select [UpdatedId] from [smartKPIKepwareConnectorPointer] where [Machine] = convert(varchar(255), [[Identifier]]));
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="getStationMTKPIs">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select Machine
                                        ,sum(SumTBF) as SumTBF
                                        ,sum(CountTBF) as CountTBF
                                        ,sum(MTBF) as MTBF
                                        		,sum(SumTTR) as SumTTR
                                        		,sum(CountTTR) as CountTTR
                                        		,sum(MTTR) as MTTR	
                                        ,sum(SumRT) as  SumRT
                                        ,sum(CountRT) as  CountRT
                                        ,sum(MRT) as MRT from (
                                        SELECT Machine
                                        ,null as SumTBF
                                        ,null as CountTBF
                                        ,null as MTBF
                                        		,Sum(TTR) as SumTTR
                                        		,count(NULLIF(TTR,0) ) as CountTTR
                                        		,ROUND((CONVERT(float,Sum(TTR))/60)/count(NULLIF(TTR,0)), 2) as MTTR	
                                        ,null as SumRT
                                        ,null as CountRT
                                        ,null as MRT
                                        		FROM (
                                          Select Machine
                                        	,CASE [Status]
                                        	   WHEN 'MT Notified' THEN (datediff(MINUTE,StatusTime, nextTime))
                                        	   WHEN 'Breakdown End' THEN 0
                                        	  END AS TTR
                                          FROM    (
                                              SELECT [Machine]
                                        	  ,[StatusTime]
                                        	  ,[Status]
                                              ,[StatusType]
                                        	  ,lag([StatusTime],1)  OVER (ORDER BY [StatusTime] desc) as nextTime
                                            FROM (
                                                SELECT Machine
                                                ,[StatusTime]
                                                ,[Status]
                                                ,[StatusType]
                                                ,lag([Status],1)  OVER (ORDER BY [StatusTime] desc) as nextStatus
                                        	   FROM smartKPIMachineStatusData where StatusType='PM Data'  and ([Status]='MT Notified' or [Status]='Breakdown End')
                                                and [StatusTime]>=[[StartTime]] and [StatusTime]<=[[EndTime]] and Machine=[[Machine]]
                                              ) x
                                        	where nextStatus<>[Status]) c 
                                                    
                                        ) d group by Machine
                                        -- 
                                        UNION ALL            
                                        SELECT Machine
                                         		,Sum(TBF) as SumTBF
                                         		,count(NULLIF(TBF,0)) as CountTBF
                                         		,ROUND((CONVERT(float,Sum(TBF))/60)/count(NULLIF(TBF,0)), 2) as MTBF
                                        ,null as SumTTR
                                        ,null as CountTTR
                                        ,null as MTTR
                                        ,null as SumRT
                                        ,null as CountRT
                                        ,null as MRT
                                        		FROM (
                                          Select Machine
                                        	,CASE [Status]
                                        	   WHEN 'KBMaschStatus.1.TI.MachineBreakdown' THEN 0   
                                               WHEN 'Breakdown End' THEN (datediff(MINUTE,StatusTime, nextTime))
                                        	  END AS TBF
                                          FROM    (
                                              SELECT [Machine]
                                        	  ,[StatusTime]
                                        	  ,[Status]
                                              ,[StatusType]
                                        	  ,lag([StatusTime],1)  OVER (ORDER BY [StatusTime] desc) as nextTime
                                            FROM (
                                                SELECT Machine
                                                ,[StatusTime]
                                                ,[Status]
                                                ,[StatusType]
                                                ,lag([Status],1)  OVER (ORDER BY [StatusTime] desc) as nextStatus
                                        	   FROM smartKPIMachineStatusData  where ((StatusType='PM Data' or [Status]='Breakdown End') OR (StatusType='Operator Screen' and ([Status]='KBMaschStatus.1.TI.MachineBreakdown')))
                                                and [StatusTime]>=[[StartTime]] and [StatusTime]<=[[EndTime]] and Machine=[[Machine]]
                                              ) x
                                        	where nextStatus<>[Status]) c
                                                    
                                        ) d group by Machine
                                        
                                        UNION ALL            
                                        
                                            SELECT Machine
                                        ,null as SumTBF
                                        ,null as CountTBF
                                        ,null as MTBF
                                        ,null as SumTTR
                                        ,null as CountTTR
                                        ,null as MTTR
                                        		,Sum(RT) as SumRT
                                        		,count(NULLIF(RT,0) ) as CountRT
                                        		,ROUND((CONVERT(float,Sum(RT))/60)/count(NULLIF(RT,0)), 2) as MRT
                                        		FROM (
                                          Select Machine
                                        	,CASE [Status]
                                        	   WHEN 'MT Notified' THEN 0   
                                               WHEN 'MT onsite' THEN (datediff(MINUTE,StatusTime, nextTime))
                                        	  END AS RT
                                          FROM    (
                                              SELECT [Machine]
                                        	  ,[StatusTime]
                                        	  ,[Status]
                                              ,[StatusType]
                                        	  ,lag([StatusTime],1)  OVER (ORDER BY [StatusTime] desc) as nextTime
                                            FROM (
                                                SELECT Machine
                                                ,[StatusTime]
                                                ,[Status]
                                                ,[StatusType]
                                                ,lag([Status],1)  OVER (ORDER BY [StatusTime] desc) as nextStatus
                                        	   FROM smartKPIMachineStatusData where (StatusType='PM Data' and ([Status]='MT Notified' OR [Status]='MT onsite'))
                                                and [StatusTime]>=[[StartTime]] and [StatusTime]<=[[EndTime]] and Machine=[[Machine]]
                                              ) x
                                        	where nextStatus<>[Status]) c
                                        -- 
                                                    
                                        ) d group by Machine
                                        
                                        ) z group by Machine
                                        
                                        --
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetStationPartsWithRQ">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                        	isnull(ord1.PartNumber, '-') as Label,
                                        	isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)) as OptionalProductionDate,
                                        	DATEDIFF(minute, isnull(ord1.ProductionTime,DATEFROMPARTS(1970,1,1)), GETUTCDATE()) as OptionalDiffInMinutesLastPartProduced,
                                        	isnull(IO.anz,0) as OK, 
                                            isnull(NIO.anz,0) as NOK, 
                                            case (isnull(IO.anz,0) + isnull(NIO.anz,0)) 
                                                when 0 then 0 
                                                else round(convert(float, isnull(IO.anz,0))/(convert(float, isnull(IO.anz,0)) + convert(float, isnull(NIO.anz,0)))*convert(float, 100),2) 
                                            end as KPI
                                            from 
                                        (SELECT sum([numberOfParts]) anz
                                          FROM [smartKPI]
                                          where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and Station = convert(varchar(255), [[Station]])
                                          and isPartOK = 0) NIO,
                                        (SELECT sum([numberOfParts]) anz
                                          FROM [smartKPI]
                                          where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and Station = convert(varchar(255), [[Station]])
                                          and isPartOK = 1) IO,
                                          (select top(1) ord.PartNumber, ord.ProductionTime from (SELECT 
                                              ProductionTime, PartNumber
                                          FROM [smartKPI]
                                        where ProductionTime between [[DateStart]] and [[DateEnd]]
                                          and Machine = convert(varchar(255), [[Machine]])
                                          and Station = convert(varchar(255), [[Station]])
                                        union select DATEFROMPARTS(1970,1,1), '-'
                                        	) ord
                                            order by ProductionTime desc
                                        	)ord1
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetStationsFromOperator">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                            infoTableName : "InfoTable",
                                            dataShapeName : "KBNameForMenuDataShape"
                                        };
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBGetMachinesFromOperator)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        var tableLength = ListOfStaff.getRowCount();
                                        //var tableLength = yourInfotableHere.rows.length;
                                        for (var x=0; x < tableLength; x++) {
                                            var row = ListOfStaff.rows[x];
                                                    //Your code here
                                        			if(OperatorSelected == row.Message) {			
                                                       var params1 = {
                                                    	maxItems: undefined /* NUMBER */ ,
                                                    	nameMask: undefined /* STRING */ ,
                                                    	thingTemplate: "KBLocalStationThingTemplate" /* THINGTEMPLATENAME */
                                                    	};        
                                                            // result: INFOTABLE dataShape: SpotlightSearchWithPersistent
                                                     	var thingList1 = Resources["SearchFunctions"].SearchThingsByTemplateWithPersistent(params1);
                                                        for (var j = 0; j < thingList1.getRowCount(); j++) {
                                                                    if (row.Machine == thingList1.rows[j].name) {
                                                                                  var newEntry = new Object();
                                                                                       newEntry.ThingName = Things[thingList1.rows[j].name].KBLocalLineThing;
                                                                                       newEntry.DisplayName = undefined;
                                                                                       newEntry.DBKpiName = row.Machine; // STRING
                                                                        result.AddRow(newEntry);
                                                                    }
                                                        }
                                        			}
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetStationStaffLogonListPerStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select 
                                        	0 as Id, 
                                        	GETUTCDATE() as CreationTime, 
                                        	GETUTCDATE() as UpdateTime,
                                        	[[Station]] as Station,
                                        	'-' as LogOffStation,  
                                        	userId, 
                                        	isLoggedIn 
                                        	from dbo.GetCVSUsersLoggedInListAtLine([[Station]])
                                        	  where [isLoggedIn] = 1
                                        	  and 1 = [[SelectLoggedOnUsers]]
                                        union
                                        select 
                                        	0 as Id, 
                                        	GETUTCDATE() as CreationTime, 
                                        	GETUTCDATE() as UpdateTime,
                                        	[[Station]] as Station,
                                        	'-' as LogOffStation,  
                                        	userId, 
                                        	isLoggedIn 
                                        	from dbo.GetCVSUsersLoggedInListAtLine([[Station]])
                                        	  where [isLoggedIn] = 0
                                        	  and 1 = [[SelectLoggedOffUsers]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetStationStaffLogonNumberPerStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select dbo.GetCVSUsersLoggedInAtLine([[Station]]) as Id ;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTimeDiff">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = [[startDate]];
                                        declare @dt2 as datetime = [[endDate]];
                                        
                                        select convert(varchar(10),convert(int,datediff(minute,@dt1,@dt2)/60))+':'+ right('00'+convert(varchar(10),datediff(minute,@dt1,@dt2)-convert(int,datediff(minute,@dt1,@dt2)/60)*60),2) as datediff
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetTimeLosses">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	Station: Station /* STRING */,
                                        	EndTime: EndDate /* DATETIME */,
                                        	StartTime: StartDate /* DATETIME */,
                                        	Machine: Machine /* STRING */
                                        };                                        
                                        // result: INFOTABLE dataShape: "KBTimeLossDBDataShape"
                                        var input = me.GetTimeLossesFromDB(params);
                                        
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBTimeLossDBDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBTimeLossDBDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        var actualtimesumlevel1 = 0.0;
                                        var actualtimesumlevel2 = 0.0;
                                        var plantimesum = 0.0;
                                        var actualtimesumparetolevel1 = 0.0;
                                        var actualtimesumparetolevel2 = 0.0;
                                        var plantimesumpareto = 0.0;
                                        var numberOfParts = 0;
                                        
                                        var tableLength = input.rows.length;
                                        
                                        for (var x = 0; x < tableLength; x++) {
                                        	var row = input.rows[x];
                                        	
                                        	if (row.StatusType == "Theoretical Time" && row.StatusNameLevel1 == "Theoretical Time"){
                                        		numberOfParts = row.Occurrences;
                                        	}
                                        
                                        	if (hideProductiveState && row.StatusNameLevel2 == "KBMaschStatus.1.Productive" ) {
                                        		actualtimesumparetolevel1 = row.TimeSumInSeconds;
                                        		actualtimesumparetolevel2 = row.TimeSumInSeconds;
                                        	}
                                        
                                        	if (row.StatusType == "Actual" && row.StatusNameLevel1 == "-") {
                                        		actualtimesumlevel1 += row.TimeSumInSeconds;
                                        	}
                                        
                                        	if (row.StatusType == "Actual" && row.StatusNameLevel1 != "-") {
                                        		actualtimesumlevel2 += row.TimeSumInSeconds;
                                        	}
                                        
                                        	if (row.StatusType == "Plan") {
                                        		plantimesum += row.TimeSumInSeconds;
                                        	}
                                        }
                                        
                                        for (var x = 0; x < tableLength; x++) {
                                        	var row = input.rows[x];
                                        	//Your code here
                                        
                                        
                                            if (row.StatusNameLevel1 == "-" && row.StatusNameLevel2 == "KBMaschStatus.1.Productive" && StatusType == "Theoretical Time") {
                                        		// KBTimeLossDBDataShape entry object
                                        		var newEntry = new Object();
                                        		newEntry.StatusType = "Theoretical Time"; // STRING
                                        		newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                        		newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                        		newEntry.StatusNameLevel2 = "Actual"; // STRING
                                        		newEntry.StatusNameLevel1 = "Actual"; // STRING
                                        		newEntry.Occurrences = numberOfParts;
                                        		newEntry.CycleTimeInMinutes = 0;
                                        		if (numberOfParts > 0) { 
                                        			newEntry.CycleTimeInMinutes =  row.TimeSumInMinutes/numberOfParts;
                                        		}
                                                    
                                                result.AddRow(newEntry);
                                            } 
                                            if (row.StatusNameLevel1 == "Theoretical Time" && StatusType == "Theoretical Time") {
                                        		// KBTimeLossDBDataShape entry object
                                        		var newEntry = new Object();
                                        		newEntry.StatusType = "Theoretical Time"; // STRING
                                        		newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                        		newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                        		newEntry.StatusNameLevel2 = "Theoretical"; // STRING
                                        		newEntry.StatusNameLevel1 = "Theoretical"; // STRING
                                        		newEntry.Occurrences = row.Occurrences; 
                                        		newEntry.CycleTimeInMinutes = 0;
                                        		if (numberOfParts > 0) { 
                                        			newEntry.CycleTimeInMinutes =  row.TimeSumInMinutes/numberOfParts;
                                        		}
                                                    
                                                result.AddRow(newEntry);
                                            }
                                        
                                            if ((!isLevel2 && row.StatusNameLevel1 == "-") || (isLevel2 && row.StatusNameLevel1 != "-") || StatusType == "Plan") {
                                        	    if (!((hideProductiveState && row.StatusNameLevel2 == "KBMaschStatus.1.Productive") || (hideProductiveState && row.StatusNameLevel1 == "KBMaschStatus.1.Productive"))) {
                                                    if (row.StatusType == StatusType) {
                                        
                                                        // KBTimeLossDBDataShape entry object
                                                        var newEntry = new Object();
                                                        newEntry.StatusType = row.StatusType; // STRING
                                                        newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                                        newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                                        newEntry.StatusNameLevel2 = row.StatusNameLevel2; // STRING
                                                        newEntry.StatusNameLevel1 = row.StatusNameLevel1; // STRING
                                                        newEntry.Occurrences = row.Occurrences; 
                                                        
                                        				if (row.StatusType == "Actual" && row.StatusNameLevel1 == "-") {
                                        					actualtimesumparetolevel1 += row.TimeSumInSeconds;
                                        					newEntry.PercentCumulated = 0;
                                        					newEntry.Percent = 0;
                                        					if (actualtimesumlevel1 != 0) {
                                        						newEntry.PercentCumulated = actualtimesumparetolevel1/actualtimesumlevel1*100;
                                        						newEntry.Percent = row.TimeSumInSeconds/actualtimesumlevel1*100;
                                        					}
                                        				}
                                        			
                                        				if (row.StatusType == "Actual" && row.StatusNameLevel1 != "-") {
                                        					actualtimesumparetolevel2 += row.TimeSumInSeconds;
                                        					newEntry.PercentCumulated = 0;
                                        					newEntry.Percent = 0;
                                        					if (actualtimesumlevel2 != 0) {
                                        						newEntry.PercentCumulated = actualtimesumparetolevel2/actualtimesumlevel2*100;
                                        						newEntry.Percent = row.TimeSumInSeconds/actualtimesumlevel2*100;
                                        					}
                                        				}
                                        			
                                        				if (row.StatusType == "Plan") {
                                        					plantimesumpareto += row.TimeSumInSeconds;
                                        					newEntry.PercentCumulated = 0;
                                        					newEntry.Percent = 0;
                                        					if (plantimesum != 0) {
                                        						newEntry.PercentCumulated = plantimesumpareto/plantimesum*100;
                                        						newEntry.Percent = row.TimeSumInSeconds/plantimesum*100;
                                        					}
                                        				}
                                                        
                                        
                                                        try {
                                                        	if (row.StatusNameLevel2 == "Unplanned") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Unplanned";}
                                                        	if (row.StatusNameLevel2 == "Unknown") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Unknown";}
                                                        	if (row.StatusNameLevel2 == "Changeover") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Changeover";}
                                                        	if (row.StatusNameLevel2 == "Theoretical Time") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.TheoreticalTime";}
                                                        	if (row.StatusNameLevel2 == "Quality") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Quality";}
                                                        	if (row.StatusNameLevel2 == "Planned Break") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedBreak";}
                                                        	if (row.StatusNameLevel2 == "Planned Working Time") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedWorkingTime";}
                                                        	if (row.StatusNameLevel2 == "Planned Downtime (M)") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeM";}
                                                        	if (row.StatusNameLevel2 == "Planned Downtime (P)") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeP";}
                                                        	if (row.StatusNameLevel2 == "Unplanned Downtime (D)") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.UnplannedDowntimeD";}
                                                            var params = {
                                                                name: row.StatusNameLevel2 /* STRING */
                                                            };
                                        
                                                            // result: STRING
                                                            newEntry.StatusNameLevel2 = LocalizationTables[Language].GetToken(params);
                                        
                                                        } catch(err) {
                                        					logger.error("GetTimeLosses Error: " + err+ " on thing: " + me.name + " at: " + err.lineNumber);
                                                        }
                                                        try {
                                                        	if (row.StatusNameLevel1 == "Unplanned") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Unplanned";}
                                                        	if (row.StatusNameLevel1 == "Unknown") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Unknown";}
                                                        	if (row.StatusNameLevel1 == "Changeover") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Changeover";}
                                                        	if (row.StatusNameLevel1 == "Theoretical Time") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.TheoreticalTime";}
                                                        	if (row.StatusNameLevel1 == "Quality") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Quality";}
                                                        	if (row.StatusNameLevel1 == "Planned Break") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedBreak";}
                                                        	if (row.StatusNameLevel1 == "Planned Working Time") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedWorkingTime";}
                                                        	if (row.StatusNameLevel1 == "Planned Downtime (M)") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeM";}
                                                        	if (row.StatusNameLevel1 == "Planned Downtime (P)") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeP";}
                                                        	if (row.StatusNameLevel1 == "Unplanned Downtime (D)") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.UnplannedDowntimeD";}
                                                            var params = {
                                                                name: row.StatusNameLevel1 /* STRING */
                                                            };
                                        
                                                            // result: STRING
                                                            newEntry.StatusNameLevel1 = LocalizationTables[Language].GetToken(params);
                                        
                                                        } catch(err) {
                                        					logger.error("GetTimeLosses Error: " + err+ " on thing: " + me.name + " at: " + err.lineNumber);
                                                        }
                                                        result.AddRow(newEntry);
                                                    }
                                                }
                                            }
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTimeLossesFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.99999999E8</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        select StatusNameLevel1, StatusNameLevel2, StatusType, TimeSumInSeconds, TimeSumInMinutes, Time1, Time2, Occurrences 
                                        from GetMachineTimeBreakdownCVS ([[Machine]],[[Station]], [[StartTime]], [[EndTime]])
                                        order by TimeSumInSeconds desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetTimeLossesL0">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                            // not used isLevel2
                                            var input;
                                             if(TimeLossesInfoTable !==null  && TimeLossesInfoTable!==undefined){
                                             	if(TimeLossesInfoTable.rows.length>0){
                                                	input=TimeLossesInfoTable;
                                                }else{
                                        			var input =  me.GetTimeLossesFromDB({
                                                    	Station: StationThing  /* STRING */,
                                                    	EndTime: EndDate /* DATETIME */,
                                                    	StartTime: StartDate /* DATETIME */,
                                                    	Machine: Machine /* STRING */
                                                    });	
                                                }   
                                             }else{
                                                var input =  me.GetTimeLossesFromDB({
                                                	Station: StationThing  /* STRING */,
                                                	EndTime: EndDate /* DATETIME */,
                                                	StartTime: StartDate /* DATETIME */,
                                                	Machine: Machine /* STRING */
                                                });
                                             }
                                               var query = 
                                                    {
                                                        "filters": {
                                                            "type": "AND",
                                                            "filters": [
                                                                {
                                                                    "type": "NE",
                                                                    "fieldName": "StatusNameLevel1",
                                                                    "value": "-"
                                                                },
                                                                {
                                                                    "type": "EQ",
                                                                    "fieldName": "StatusType",
                                                                    "value": "Actual"
                                                                }
                                                            ]
                                                        }
                                                    }; 
                                            var params = {
                                            	t: input /* INFOTABLE */,
                                            	query: query /* QUERY */
                                            };
                                            
                                            
                                            // result: INFOTABLE
                                             input = Resources["InfoTableFunctions"].Query(params);
                                            
                                                var params = {
                                                    infoTableName : "InfoTable",
                                                    dataShapeName : "KBTimeLossDBDataShape"
                                                };
                                                var TimeLossesInfoTable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                                 TimeLossesInfoTable=input;
                                           
                                                var actualtimesumlevel0 = 0.0;
                                                var actualtimesumparetolevel0 = 0.0;
                                                var tableLength = input.rows.length;
                                                
                                                for (var x = 0; x < tableLength; x++) {
                                                	var row = input.rows[x];
                                                	
                                                	if (hideProductiveState && row.StatusNameLevel2 == "KBMaschStatus.1.Productive" ) {
                                                		actualtimesumlevel0 = row.TimeSumInSeconds;
                                                	}
                                                
                                                		actualtimesumlevel0 += row.TimeSumInSeconds;
                                                }
                                          
                                        
                                                 	var params = {
                                            				infoTableName : "InfoTable",
                                            				dataShapeName : "KBTimeLossDB2DataShape"
                                        				};
                                        			var TimeLossesInfoTableNew = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                               //var result=input; // KBTimeLossDB2DataShape
                                                    for (var x = 0; x < tableLength; x++) {
                                                    	var row = input.rows[x];
                                                    	var Type;
                                                                                
                                                		Type = TimeLossesInfoTable.rows[x].StatusNameLevel2.substring(16, 18);
                                                        if(TimeLossesInfoTable.rows[x].StatusNameLevel2=='Unknown'){Type='ND';Level1='KBMaschStatus.1.ND';
                                                                                                                   } else{
                                                                                                                       Level1=TimeLossesInfoTable.rows[x].StatusNameLevel1.substring(0, 18);
                                                                                                                       }
                                                
                                                        
                                                    	    if (row.StatusNameLevel2 == "KBMaschStatus.2.Productive.Start")  {
                                                                if(!hideProductiveState){
                                                            	    // KBTimeLossDBDataShape entry object
                                                                    var newEntry = new Object();
                                                                    newEntry.StatusType = row.StatusType; // STRING
                                                                    newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                                                    newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                                                    newEntry.StatusNameLevel2 = row.StatusNameLevel1; // STRING
                                                                    newEntry.StatusNameLevel1 = Level1; // STRING
                                                                    newEntry.Occurrences = row.Occurrences; 
                                                                    newEntry.Type= Type;
                                                                 
                                                    					actualtimesumparetolevel0 += row.TimeSumInSeconds;
                                                    					newEntry.PercentCumulated = 0;
                                                    					newEntry.Percent = 0;
                                        //                                        					
                                                                    TimeLossesInfoTableNew.AddRow(newEntry);
                                                                }
                                                            }else{
                                                                    // KBTimeLossDBDataShape entry object
                                                                    var newEntry = new Object();
                                                                    newEntry.StatusType = row.StatusType; // STRING
                                                                    newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                                                    newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                                                    newEntry.StatusNameLevel2 = row.StatusNameLevel1; // STRING
                                                                    newEntry.StatusNameLevel1 = Level1; // STRING
                                                                    newEntry.Occurrences = row.Occurrences; 
                                                                    newEntry.Type= Type;
                                                                 
                                                    					actualtimesumparetolevel0 += row.TimeSumInSeconds;
                                                    					newEntry.PercentCumulated = 0;
                                                    					newEntry.Percent = 0;
                                        //                                        					
                                                                    TimeLossesInfoTableNew.AddRow(newEntry);
                                                            }
                                                    }
                                                
                                                // result: INFOTABLE dataShape: "KBTimeLossesListDataShape"
                                                var RQInfoTable =  me.GetRQDowntimeList({
                                                	EndTime: EndDate /* DATETIME */,
                                                	StartTime: StartDate /* DATETIME */,
                                                	Machine: StationThing /* STRING */
                                                });
                                                var RQLength;
                                                try{
                                                    RQLength=RQInfoTable.rows.length;
                                                }catch(Err){
                                                		RQLength=0;
                                                	}
                                                if(RQLength>0){
                                                    var RQOccurrences=0;
                                                    for(x=0;x<RQLength;x++){
                                                        var newEntry = new Object();
                                                        newEntry.StatusType = 'Actual'; // STRING
                                                        newEntry.TimeSumInSeconds = RQInfoTable.rows[x].Duration*60; // LONG
                                                        newEntry.TimeSumInMinutes = RQInfoTable.rows[x].Duration; // NUMBER
                                                        newEntry.StatusNameLevel2 = RQInfoTable.rows[x].SubStatus; // STRING
                                                        newEntry.StatusNameLevel1 = RQInfoTable.rows[x].Status; // STRING
                                                        RQOccurrences = RQOccurrences+1;
                                                        newEntry.Occurrences = RQOccurrences; 
                                                        newEntry.Type= RQInfoTable.rows[x].Type;
                                                        
                                                    	TimeLossesInfoTableNew.AddRow(newEntry);
                                                    }
                                                }
                                        
                                             
                                        var params = {
                                        	t: TimeLossesInfoTableNew /* INFOTABLE */,
                                        	columns: "TimeSumInSeconds,TimeSumInMinutes,Occurrences" /* STRING */,
                                        	aggregates: "SUM,SUM,SUM" /* STRING */,
                                        	groupByColumns: "Type,StatusType,StatusNameLevel1"  /* STRING */
                                        };
                                        
                                         var TimeLossesInfoTableAgregated = Resources["InfoTableFunctions"].Aggregate(params);
                                         TimeLossesInfoTableAgregated = Resources["InfoTableFunctions"].Sort({
                                        	t: TimeLossesInfoTableAgregated,
                                        	sortColumn: "SUM_TimeSumInSeconds",
                                        	ascending: false
                                        });
                                            
                                            result=TimeLossesInfoTableAgregated;
                                        	var params1 = {
                                            				infoTableName : "InfoTable",
                                            				dataShapeName : "KBTimeLossDB2DataShape"
                                        				};
                                        	var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params1);
                                             actualtimesumparetolevel0=0.0;
                                            //result=actualtimesumlevel0;
                                            if(Language===undefined || Language===''){
                                                Language='Default';
                                            }
                                            for(x=0;x<TimeLossesInfoTableAgregated.rows.length;x++){
                                             	var newEntry = new Object();
                                                    newEntry.Type = TimeLossesInfoTableAgregated.rows[x].Type; // STRING
                                                    newEntry.Time2 = undefined; // DATETIME
                                                    newEntry.Time1 = undefined; // DATETIME
                                                    newEntry.StatusType = TimeLossesInfoTableAgregated.rows[x].StatusType; // STRING
                                                    newEntry.TimeSumInSeconds = TimeLossesInfoTableAgregated.rows[x].SUM_TimeSumInSeconds; // LONG
                                                   if (actualtimesumlevel0 !== 0) {
                                                    			actualtimesumparetolevel0 +=TimeLossesInfoTableAgregated.rows[x].SUM_TimeSumInSeconds;
                                        						newEntry.PercentCumulated = actualtimesumparetolevel0/actualtimesumlevel0*100;
                                        						newEntry.Percent = TimeLossesInfoTableAgregated.rows[x].SUM_TimeSumInSeconds/actualtimesumlevel0*100; // NUMBER
                                        			}
                                                    newEntry.TimeSumInMinutes = TimeLossesInfoTableAgregated.rows[x].SUM_TimeSumInMinutes; // NUMBER
                                                    newEntry.Occurrences = TimeLossesInfoTableAgregated.rows[x].SUM_Occurrences; // INTEGER
                                                    newEntry.CycleTimeInMinutes = undefined; // NUMBER
                                                    newEntry.StatusNameLevel2 = undefined; // STRING
                                                	try{
                                                        var params = {
                                                            name: TimeLossesInfoTableAgregated.rows[x].StatusNameLevel1 /* STRING */
                                                        };
                                            			newEntry.StatusNameLevel1 = LocalizationTables[Language].GetToken(params);
                                                    }catch(Err){
                                                    	newEntry.StatusNameLevel1 = TimeLossesInfoTableAgregated.rows[x].StatusNameLevel1;
                                                    }
                                                 result.AddRow(newEntry);
                                            }           
                                         
                                        } catch (err) {
                                        	logger.error('Service error in GetTimeLossesL0 ' + me.name +  'at ' + err.lineNumber + ': ' + err);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetTimeLossesLevel0">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var TimeLossesInfoTableLength;
                                        try{
                                            TimeLossesInfoTableLength=TimeLossesInfoTable.rows.length;
                                        }catch(err){
                                         	TimeLossesInfoTableLength=0;
                                        }
                                        
                                        try{
                                            if(TimeLossesInfoTableLength>0){
                                        												var params = {
                                        													infoTableName : "InfoTable",
                                        													dataShapeName : "KBTimeLossDBDataShape2"
                                        												};
                                        												var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        												var params1 = {
                                                        	t: TimeLossesInfoTable /* INFOTABLE */, 
                                                        	columns: "TimeSumInMinutes" /* STRING */,
                                                        	aggregates:  "SUM" /* STRING */,
                                                        	groupByColumns: "StatusType"  /* STRING */
                                                };
                                                var resultDataSum = Resources["InfoTableFunctions"].Aggregate(params1);
                                                var SumOfMinutes=resultDataSum.rows[0].SUM_TimeSumInMinutes;
                                        
                                                var params1 = {
                                                        	t: TimeLossesInfoTable /* INFOTABLE */,
                                                        	columns: "TimeSumInMinutes,Occurrences" /* STRING */,
                                                        	aggregates:  "SUM,SUM" /* STRING */,
                                                        	groupByColumns: "StatusNameLevel1,Type"  /* STRING */
                                                };
                                                var resultData2 = Resources["InfoTableFunctions"].Aggregate(params1);
                                                var PercentCumulated=0;
                                        //     result=resultData2;
                                        //        PercentCumulated+= (resultData2.rows[0].SUM_TimeSumInMinutes / SumOfMinutes)*100;
                                        //        logger.error('GetTimeLossesLevel0: '+PercentCumulated);
                                                for(var x=0; x<resultData2.rows.length; x++){
                                                                // KBTimeLossDBDataShape2 entry object
                                                    var newEntry = new Object();
                                                    PercentCumulated+= (resultData2.rows[x].SUM_TimeSumInMinutes / SumOfMinutes)*100;
                                                    
                                                    newEntry.Type = resultData2.rows[x].Type; // STRING
                                                    newEntry.Time2 = undefined; // DATETIME
                                                    newEntry.Time1 = undefined; // DATETIME
                                                    newEntry.Percent = (resultData2.rows[x].SUM_TimeSumInMinutes / SumOfMinutes)*100; // NUMBER
                                                    newEntry.StatusType = 'Actual'; // STRING
                                                    newEntry.TimeSumInSeconds = undefined; // LONG
                                                    newEntry.PercentCumulated = PercentCumulated; // NUMBER
                                                    newEntry.TimeSumInMinutes = resultData2.rows[x].SUM_TimeSumInMinutes; // NUMBER
                                                    newEntry.Occurrences = resultData2.rows[x].SUM_Occurrences; // INTEGER
                                                    newEntry.CycleTimeInMinutes = undefined; // NUMBER
                                                    newEntry.StatusNameLevel2 = undefined; // STRING
                                                    newEntry.StatusNameLevel1 = resultData2.rows[x].StatusNameLevel1; // STRING
                                                    
                                                    result.AddRow(newEntry);
                                                }
                                                var sort = new Object();
                                        													sort.name = 'TimeSumInMinutes';
                                        													sort.ascending = false;
                                        												result.Sort(sort);
                                            }
                                            
                                        }catch(err){
                                            	logger.error('Service error in GetTimeLossesLevel0 ' + me.name +  'at ' + err.lineNumber + ': ' + err);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetTimeLossesWithType">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                        var params = {
                                        	Station: Station /* STRING */,
                                        	EndTime: EndDate /* DATETIME */,
                                        	StartTime: StartDate /* DATETIME */,
                                        	Machine: Machine /* STRING */
                                        };
                                        
                                        // result: INFOTABLE dataShape: "KBTimeLossDBDataShape"
                                        var input = me.GetTimeLossesFromDB(params);
                                        
                                        var params = {
                                        	infoTableName : "InfoTable",
                                        	dataShapeName : "KBTimeLossDBDataShape2"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBTimeLossDBDataShape)
                                        var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        
                                        var actualtimesumlevel1 = 0.0;
                                        var actualtimesumlevel2 = 0.0;
                                        var plantimesum = 0.0;
                                        var actualtimesumparetolevel1 = 0.0;
                                        var actualtimesumparetolevel2 = 0.0;
                                        var plantimesumpareto = 0.0;
                                        var numberOfParts = 0;
                                        
                                        var tableLength = input.rows.length;
                                        if(tableLength>0){
                                        for (var xx = 0; xx < tableLength; xx++) {
                                        	var row1 = input.rows[xx];
                                        	
                                        	if (row1.StatusType == "Theoretical Time" && row1.StatusNameLevel1 == "Theoretical Time"){
                                        		numberOfParts = row1.Occurrences;
                                        	}
                                        
                                        	if (hideProductiveState && row1.StatusNameLevel2 == "KBMaschStatus.1.Productive" ) {
                                        		actualtimesumparetolevel1 = row1.TimeSumInSeconds;
                                        		actualtimesumparetolevel2 = row1.TimeSumInSeconds;
                                        	}
                                        
                                        	if (row1.StatusType == "Actual" && row1.StatusNameLevel1 == "-") {
                                        		actualtimesumlevel1 += row1.TimeSumInSeconds;
                                        	}
                                        
                                        	if (row1.StatusType == "Actual" && row1.StatusNameLevel1 != "-") {
                                        		actualtimesumlevel2 += row1.TimeSumInSeconds;
                                        	}
                                        
                                        	if (row1.StatusType == "Plan") {
                                        		plantimesum += row1.TimeSumInSeconds;
                                        	}
                                        											if (row1.StatusNameLevel1.search(".1.PI.")>0) {
                                        												row1.StatusNameLevel1 = row1.StatusNameLevel1.replace(".1.PI.", ".1.TI.");
                                        											}
                                        											if (row1.StatusNameLevel2.search(".1.PI.")>0) {
                                        												row1.StatusNameLevel2 = row1.StatusNameLevel2.replace(".1.PI.", ".1.TI.");
                                        											}
                                        }
                                        
                                        for (var x = 0; x < tableLength; x++) {
                                        	var row = input.rows[x];
                                        	//Your code here
                                        
                                        	var newEntry = new Object();
                                            
                                            	if(row.StatusNameLevel1.substring(0,15)=='KBMaschStatus.1'){
                                                                newEntry.Type = row.StatusNameLevel1.substring(16, 18); // STRING
                                                            }else{
                                                            	if(row.StatusNameLevel2.substring(0,14)=='KBMaschStatus.'){
                                                                	newEntry.Type = row.StatusNameLevel2.substring(16, 18); // STRING
                                                            	}else{
                                                                	if(row.StatusNameLevel2.substring(0,14)=='KBMaschMessage'){
                                                                	newEntry.Type = 'RQ'; // STRING
                                                            	}
                                                                }
                                                            }
                                            
                                            if (row.StatusNameLevel1 == "-" && row.StatusNameLevel2 == "KBMaschStatus.1.Productive" && StatusType == "Theoretical Time") {
                                        		// KBTimeLossDBDataShape entry object
                                        		
                                        		newEntry.StatusType = "Theoretical Time"; // STRING
                                        		newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                        		newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                        		newEntry.StatusNameLevel2 = "Actual"; // STRING
                                        		newEntry.StatusNameLevel1 = "Actual"; // STRING
                                        		newEntry.Occurrences = numberOfParts;
                                        		newEntry.CycleTimeInMinutes = 0;
                                                newEntry.Type = "Pr"; // STRING
                                        		if (numberOfParts > 0) { 
                                        			newEntry.CycleTimeInMinutes =  row.TimeSumInMinutes/numberOfParts;
                                        		}
                                                    
                                                result.AddRow(newEntry);
                                            } 
                                            if (row.StatusNameLevel1 == "Theoretical Time" && StatusType == "Theoretical Time"  && !isLevel2) {
                                        		// KBTimeLossDBDataShape entry object
                                        //		var newEntry = new Object();
                                        		newEntry.StatusType = "Theoretical Time"; // STRING
                                        		newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                        		newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                        		newEntry.StatusNameLevel2 = "Theoretical"; // STRING
                                        		newEntry.StatusNameLevel1 = "Theoretical"; // STRING
                                        		newEntry.Occurrences = row.Occurrences; 
                                        		newEntry.CycleTimeInMinutes = 0;
                                        		if (numberOfParts > 0) { 
                                        			newEntry.CycleTimeInMinutes =  row.TimeSumInMinutes/numberOfParts;
                                        		}
                                                    
                                                result.AddRow(newEntry);
                                            }
                                        
                                            if ((!isLevel2 && row.StatusNameLevel1 == "-") || (isLevel2 && row.StatusNameLevel1 != "-") || StatusType == "Plan") {
                                        	    if (!((hideProductiveState && row.StatusNameLevel2 == "KBMaschStatus.1.Productive") || (hideProductiveState && row.StatusNameLevel1 == "KBMaschStatus.1.Productive"))) {
                                                    if (row.StatusType == StatusType) {
                                        
                                                        // KBTimeLossDBDataShape entry object
                                        //                var newEntry = new Object();
                                                        newEntry.StatusType = row.StatusType; // STRING
                                                        newEntry.TimeSumInSeconds = row.TimeSumInSeconds; // LONG
                                                        newEntry.TimeSumInMinutes = row.TimeSumInMinutes; // NUMBER
                                                        newEntry.StatusNameLevel2 = row.StatusNameLevel2; // STRING
                                                        newEntry.StatusNameLevel1 = row.StatusNameLevel1; // STRING
                                                         
                                                        newEntry.Occurrences = row.Occurrences; 
                                                        
                                        				if (row.StatusType == "Actual" && row.StatusNameLevel1 == "-") {
                                        					actualtimesumparetolevel1 += row.TimeSumInSeconds;
                                        					newEntry.PercentCumulated = 0;
                                        					newEntry.Percent = 0;
                                        					if (actualtimesumlevel1 !== 0) {
                                        						newEntry.PercentCumulated = actualtimesumparetolevel1/actualtimesumlevel1*100;
                                        						newEntry.Percent = row.TimeSumInSeconds/actualtimesumlevel1*100;
                                        					}
                                        				}
                                        			
                                        				if (row.StatusType == "Actual" && row.StatusNameLevel1 != "-") {
                                        					actualtimesumparetolevel2 += row.TimeSumInSeconds;
                                        					newEntry.PercentCumulated = 0;
                                        					newEntry.Percent = 0;
                                        					if (actualtimesumlevel2 !== 0) {
                                        						newEntry.PercentCumulated = actualtimesumparetolevel2/actualtimesumlevel2*100;
                                        						newEntry.Percent = row.TimeSumInSeconds/actualtimesumlevel2*100;
                                        					}
                                        				}
                                        			
                                        				if (row.StatusType == "Plan") {
                                        					plantimesumpareto += row.TimeSumInSeconds;
                                        					newEntry.PercentCumulated = 0;
                                        					newEntry.Percent = 0;
                                        					if (plantimesum !== 0) {
                                        						newEntry.PercentCumulated = plantimesumpareto/plantimesum*100;
                                        						newEntry.Percent = row.TimeSumInSeconds/plantimesum*100;
                                        					}
                                        				}
                                                        
                                        
                                                        try {
                                                        	if (row.StatusNameLevel2 == "Unplanned") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Unplanned"; newEntry.Type = '';}
                                                        	if (row.StatusNameLevel2 == "Unknown") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Unknown"; newEntry.Type = 'ND';}
                                                        	if (row.StatusNameLevel2 == "Changeover") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Changeover";newEntry.Type = 'TI';}
                                                        	if (row.StatusNameLevel2 == "Theoretical Time") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.TheoreticalTime"; newEntry.Type = '';}
                                                        	if (row.StatusNameLevel2 == "Quality") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.Quality";newEntry.Type = 'RQ';}
                                                        	if (row.StatusNameLevel2 == "Planned Break") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedBreak";newEntry.Type = 'PI';}
                                                        	if (row.StatusNameLevel2 == "Planned Working Time") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedWorkingTime";newEntry.Type = 'Pr';}
                                                        	if (row.StatusNameLevel2 == "Planned Downtime (M)") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeM";newEntry.Type = 'PI';}
                                                        	if (row.StatusNameLevel2 == "Planned Downtime (P)") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeP";newEntry.Type = 'PI';}
                                                        	if (row.StatusNameLevel2 == "Unplanned Downtime (D)") { row.StatusNameLevel2 = "KBLocalSmartKPITimeLossesMashup.UnplannedDowntimeD";newEntry.Type = '';}
                                                            var params = {
                                                                name: row.StatusNameLevel2 /* STRING */
                                                            };
                                        		            try{
                                                                										newEntry.StatusNameLevel2 = LocalizationTables[Language].GetToken(params);
                                                             										}catch(err){
                                                              											newEntry.StatusNameLevel2 = row.StatusNameLevel2;
                                                             										}
                                        					if(row.StatusNameLevel1 == "-"){
                                                         	///////////////////
                                                                 if(newEntry.Type!==""){
                                                                 	var params2 = {
                                                                    	name: 'KBMaschStatus.1.'+newEntry.Type /* STRING */
                                                                	};
                                                                     try{
                                                                		newEntry.StatusNameLevel1 = LocalizationTables[Language].GetToken(params2);
                                                                     }catch(err){
                                                                     newEntry.StatusNameLevel1 = 'KBMaschStatus.1.'+newEntry.Type;
                                                                     }
                                                             	 }
                                                             }
                                                        } catch(err) {
                                        					logger.error("GetTimeLossesWithType Error: " + err+ " on thing: " + me.name + " at: " + err.lineNumber);
                                                        }
                                                        try {
                                                        	if (row.StatusNameLevel1 == "Unplanned") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Unplanned"; newEntry.Type = '';}
                                                        	if (row.StatusNameLevel1 == "Unknown") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Unknown"; newEntry.Type = 'ND';}
                                                        	if (row.StatusNameLevel1 == "Changeover") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Changeover"; newEntry.Type = 'TI';}
                                                        	if (row.StatusNameLevel1 == "Theoretical Time") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.TheoreticalTime"; newEntry.Type = '';}
                                                        	if (row.StatusNameLevel1 == "Quality") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.Quality"; newEntry.Type = 'RQ';}
                                                        	if (row.StatusNameLevel1 == "Planned Break") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedBreak"; newEntry.Type = 'PI';}
                                                        	if (row.StatusNameLevel1 == "Planned Working Time") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedWorkingTime"; newEntry.Type = 'Pr';}
                                                        	if (row.StatusNameLevel1 == "Planned Downtime (M)") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeM"; newEntry.Type = 'PI';}
                                                        	if (row.StatusNameLevel1 == "Planned Downtime (P)") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.PlannedDowntimeP"; newEntry.Type = 'PI';}
                                                        	if (row.StatusNameLevel1 == "Unplanned Downtime (D)") { row.StatusNameLevel1 = "KBLocalSmartKPITimeLossesMashup.UnplannedDowntimeD"; newEntry.Type = '';}
                                                            var params = {
                                                                name: row.StatusNameLevel1 /* STRING */
                                                            };
                                        
                                                            try{
                                                            											newEntry.StatusNameLevel1 = LocalizationTables[Language].GetToken(params);
                                                                 									}catch(err){
                                                                 										newEntry.StatusNameLevel1 = 'KBMaschStatus.1.'+newEntry.Type;
                                                                 									}
                                                        } catch(err) {
                                        					logger.error("GetTimeLossesWithType Error: " + err+ " on thing: " + me.name + " at: " + err.lineNumber);
                                                        }
                                                        result.AddRow(newEntry);
                                                    }
                                                }
                                            }
                                        }
                                        }
                                        } catch(err) {
                                        	logger.error("GetTimeLossesWithType Error: " + err+ " on thing: " + me.name + " at: " + err.lineNumber);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop10Losses">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select top(10) sum([numberOfParts]) as numberOfParts, [ScrapReason]
                                          from [smartKPI]
                                          where Machine = convert(varchar(255), [[machine]])
                                          and [ProductionTime] between [[startDate]] and [[endDate]]
                                          and [isPartOK] = 0 and [numberOfParts]>0
                                          group by [ScrapReason]
                                          order by 1 desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1IoNioDataDay">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select LEFT(datename(weekday,IO.KPIDateTime ),3) as Label, IO.KPIFloatValue as OK, NIO.KPIFloatValue as NOK from
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Day'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[IOName]])
                                          order by [KPIDateTime] desc) IO, 
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Day'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[NIOName]])
                                          order by [KPIDateTime] desc) NIO
                                          where IO.KPIDateTime = NIO.KPIDateTime
                                          order by IO.KPIDateTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1IoNioDataMonth">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select LEFT(datename(month,IO.KPIDateTime ),3) as Label, IO.KPIFloatValue as OK, NIO.KPIFloatValue as NOK from
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Month'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[IOName]])
                                          order by [KPIDateTime] desc) IO, 
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Month'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[NIOName]])
                                          order by [KPIDateTime] desc) NIO
                                          where IO.KPIDateTime = NIO.KPIDateTime
                                          order by IO.KPIDateTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1IoNioDataWeek">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select (CONVERT(varchar(5),DATEPART ( week , IO.KPIDateTime ))+'-'+CONVERT(varchar(5),DATEPART ( year , IO.KPIDateTime ))) as Label, IO.KPIFloatValue as OK, NIO.KPIFloatValue as NOK from 
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Week'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[IOName]])
                                          order by [KPIDateTime] desc) IO, 
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Week'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[NIOName]])
                                          order by [KPIDateTime] desc) NIO
                                          where IO.KPIDateTime = NIO.KPIDateTime
                                          order by IO.KPIDateTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1IoNioDataYear">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select CONVERT(varchar(5),DATEPART ( year , IO.KPIDateTime )) as Label, IO.KPIFloatValue as OK, NIO.KPIFloatValue as NOK from
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Year'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[IOName]])
                                          order by [KPIDateTime] desc) IO,
                                        (select top (1) [KPIDateTime], [KPIFloatValue] 
                                          from [smartKPIValues]
                                          where [KPICalculationBase] = 'Year'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]]+[[NIOName]])
                                          order by [KPIDateTime] desc) NIO
                                          where IO.KPIDateTime = NIO.KPIDateTime
                                          order by IO.KPIDateTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1KpiData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select [KPIDateTime] as Label, ROUND([KPIFloatValue],2) as KPI from [smartKPIValues]
                                          where [KPICalculationBase] = convert(varchar(255), [[KPICalculationBase]])
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]])
                                          and [KPIDateTime] = [[KPITime]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1KpiDataDay">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select LEFT(datename(weekday,x.[KPIDateTime] ),3) as Label, ROUND(x.[KPIFloatValue],2) as KPI 
                                          from 
                                          (select top (1) [KPIDateTime], [KPIFloatValue] from [smartKPIValues]
                                          where [KPICalculationBase] = 'Day'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]])
                                          order by [KPIDateTime] desc)x
                                          order by x.[KPIDateTime]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1KpiDataMonth">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select LEFT(datename(month,x.[KPIDateTime] ),3) as Label, ROUND(x.[KPIFloatValue],2) as KPI 
                                          from 
                                          (select top (1) [KPIDateTime], [KPIFloatValue] from [smartKPIValues]
                                          where [KPICalculationBase] = 'Month'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]])
                                          order by [KPIDateTime] desc)x
                                          order by x.[KPIDateTime]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1KpiDataWeek">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select (CONVERT(varchar(5),DATEPART ( week , x.[KPIDateTime] ))+'-'+CONVERT(varchar(5),DATEPART ( year , x.[KPIDateTime] ))) as Label, ROUND(x.[KPIFloatValue],2) as KPI 
                                          from 
                                          (select top (1) [KPIDateTime], [KPIFloatValue] from [smartKPIValues]
                                          where [KPICalculationBase] = 'Week'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]])
                                          order by [KPIDateTime] desc)x
                                          order by x.[KPIDateTime]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop1KpiDataYear">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select CONVERT(varchar(5),DATEPART ( year , x.[KPIDateTime] )) as Label, ROUND(x.[KPIFloatValue],2) as KPI 
                                          from 
                                          (select top (1) [KPIDateTime], [KPIFloatValue] from [smartKPIValues]
                                          where [KPICalculationBase] = 'Year'
                                          and [Machine] = convert(varchar(255), [[Machine]])
                                          and [KPIName] = convert(varchar(255), [[KPIName]])
                                          order by [KPIDateTime] desc)x
                                          order by x.[KPIDateTime]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop30ProcessDataFromDB">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>999999.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT top(30) [Id]
                                              ,[CreationTime]
                                              ,[ProductionTime]
                                              ,[ProcesData]
                                              ,[SerialNumber]
                                              ,[PartNumber]
                                              ,[OrderNumber]
                                              ,[ProcesDataLSL]
                                              ,[ProcesDataUSL]
                                          FROM [smartKPIProcessFloatData]
                                          where [Machine] = convert(varchar(255), [[Machine]])
                                          and isnull([ProcesDataType],'')+isnull([ProcesDataType2],'') = convert(varchar(255), [[ProcessDataType]])
                                          and [ProductionTime] < [[EndDate]]
                                          order by [ProductionTime] desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3IoNioDataDay">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-2,0);
                                        declare @dt2 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-1,0);
                                        declare @dt3 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE()),0);
                                        declare @dt4 as datetime = dateadd(day, DATEDIFF(day,0,GETUTCDATE())+1,0);
                                        
                                        select LEFT(datename(weekday,IO.[KPIDateTime] ),3) as Label, isnull(IO.KPIValue,0) as OK, isnull(NIO.KPIValue,0) as NOK from 
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 1
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 1
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 1
                                        ) as IO,
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 0
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 0
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 0
                                        ) as NIO
                                        where NIO.[KPIDateTime] = IO.[KPIDateTime]
                                        order by IO.[KPIDateTime] desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3IoNioDataMonth">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())-2,0);
                                        declare @dt2 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())-1,0);
                                        declare @dt3 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE()),0);
                                        declare @dt4 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())+1,0);
                                        
                                        select LEFT(datename(month,IO.KPIDateTime ),3) as Label, isnull(IO.KPIValue,0) as OK, isnull(NIO.KPIValue,0) as NOK from 
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 1
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 1
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 1
                                        ) as IO,
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 0
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 0
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 0
                                        ) as NIO
                                        where NIO.[KPIDateTime] = IO.[KPIDateTime]
                                        order by IO.[KPIDateTime] desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3IoNioDataWeek">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE())-2,0);
                                        declare @dt2 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE())-1,0);
                                        declare @dt3 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE()),0);
                                        declare @dt4 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE())+1,0);
                                        
                                        select (CONVERT(varchar(5),DATEPART ( week , IO.KPIDateTime ))+'-'+CONVERT(varchar(5),DATEPART ( year , IO.KPIDateTime ))) as Label, isnull(IO.KPIValue,0) as OK, isnull(NIO.KPIValue,0) as NOK from 
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 1
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 1
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 1
                                        ) as IO,
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 0
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 0
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 0
                                        ) as NIO
                                        where NIO.[KPIDateTime] = IO.[KPIDateTime]
                                        order by IO.[KPIDateTime] desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3IoNioDataYear">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE())-2,0);
                                        declare @dt2 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE())-1,0);
                                        declare @dt3 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE()),0);
                                        declare @dt4 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE())+1,0);
                                        
                                        select CONVERT(varchar(5),DATEPART ( year , IO.KPIDateTime )) as Label, isnull(IO.KPIValue,0) as OK, isnull(NIO.KPIValue,0) as NOK from 
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 1
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 1
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 1
                                        ) as IO,
                                        (select @dt1 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt1 and @dt2 and isPartOK = 0
                                        union
                                        select @dt2 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt2 and @dt3 and isPartOK = 0
                                        union
                                        select @dt3 as [KPIDateTime], sum(numberOfParts) as [KPIValue] from smartKPI where Machine = convert(varchar(255), [[Machine]]) and ProductionTime between @dt3 and @dt4 and isPartOK = 0
                                        ) as NIO
                                        where NIO.[KPIDateTime] = IO.[KPIDateTime]
                                        order by IO.[KPIDateTime] desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3KpiTruckDataDay">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[declare @dt1 as datetime2 = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-2,0);
declare @dt2 as datetime2 = dateadd(day, DATEDIFF(day,0,GETUTCDATE())-1,0);
declare @dt3 as datetime2 = dateadd(day, DATEDIFF(day,0,GETUTCDATE()),0);
declare @dt4 as datetime2 = dateadd(day, DATEDIFF(day,0,GETUTCDATE())+1,0);

IF ([[KPIName]] = 'OutputIO')
	select timebase as Label, OK as KPI from dbo.[GetOutputKPIData]([[Machine]],'day',@dt1,@dt2,@dt3,@dt4)
ELSE IF ([[KPIName]] = 'OutputNIO')
	select timebase as Label, NOK as KPI from dbo.[GetOutputKPIData]([[Machine]],'day',@dt1,@dt2,@dt3,@dt4)
ELSE   
	select LEFT(datename(weekday,[KPIDateTime] ),3) as Label, ROUND([KPIFloatValue],2) as KPI 
	from dbo.GetMultiKPIsTruck_revised([[Machine]], [[KPIName]], 'day');]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3KpiTruckDataMonth">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                       <![CDATA[declare @dt1 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())-2,0);
declare @dt2 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())-1,0);
declare @dt3 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE()),0);
declare @dt4 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())+1,0);

IF ([[KPIName]] = 'OutputIO')
	select timebase as Label, OK as KPI from dbo.[GetOutputKPIData]([[Machine]],'month',@dt1,@dt2,@dt3,@dt4)
ELSE IF ([[KPIName]] = 'OutputNIO')
	select timebase as Label, NOK as KPI from dbo.[GetOutputKPIData]([[Machine]],'month',@dt1,@dt2,@dt3,@dt4)
ELSE
	select LEFT(datename(month,[KPIDateTime] ),3) as Label, ROUND([KPIFloatValue],2) as KPI
	from dbo.GetMultiKPIsTruck_revised([[Machine]], [[KPIName]], 'month');]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3KpiTruckDataWeek">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[declare @dt1 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE())-2,0);
declare @dt2 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE())-1,0);
declare @dt3 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE()),0);
declare @dt4 as datetime = dateadd(week, DATEDIFF(week,0,GETUTCDATE())+1,0);

IF ([[KPIName]] = 'OutputIO')
	select timebase as Label, OK as KPI from dbo.[GetOutputKPIData]([[Machine]],'week',@dt1,@dt2,@dt3,@dt4)
ELSE IF ([[KPIName]] = 'OutputNIO')
	select timebase as Label, NOK as KPI from dbo.[GetOutputKPIData]([[Machine]],'week',@dt1,@dt2,@dt3,@dt4)
ELSE
    select (CONVERT(varchar(5),DATEPART ( week , [KPIDateTime] ))+'-'+CONVERT(varchar(5),DATEPART ( year , [KPIDateTime] ))) as Label, ROUND([KPIFloatValue],2) as KPI
    from dbo.GetMultiKPIsTruck_revised([[Machine]], [[KPIName]], 'week');]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetTop3KpiTruckDataYear">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[declare @dt1 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE())-2,0);
declare @dt2 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE())-1,0);
declare @dt3 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE()),0);
declare @dt4 as datetime = dateadd(year, DATEDIFF(year,0,GETUTCDATE())+1,0);

IF ([[KPIName]] = 'OutputIO')
	select timebase as Label, OK as KPI from dbo.[GetOutputKPIData]([[Machine]],'year',@dt1,@dt2,@dt3,@dt4)
ELSE IF ([[KPIName]] = 'OutputNIO')
	select timebase as Label, NOK as KPI from dbo.[GetOutputKPIData]([[Machine]],'year',@dt1,@dt2,@dt3,@dt4)
ELSE
    select CONVERT(varchar(5),DATEPART ( year , [KPIDateTime] )) as Label, ROUND([KPIFloatValue],2) as KPI
    from dbo.GetMultiKPIsTruck_revised([[Machine]], [[KPIName]], 'year');]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetUpdatedMachineFloatDataFromDatabase">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT top(1000) [Id]
                                              ,[CreationTime]
                                              ,[Machine]
                                              ,[MachineTime]
                                              ,[MachineDataType]
                                              ,[MachineData]
                                              ,[MachineDataLSL]
                                              ,[MachineDataUSL]
                                              ,[isUpdated]
                                              ,[Unit]
                                              ,[description]
                                              ,[comment]
                                          FROM [smartKPIMachineFloatData]
                                          where [isUpdated] = 1
                                          and [MachineDataType] = convert(varchar(255), [[MachineDataType]])
                                          order by MachineTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetUpdatedMachineStatusDataFromDatabase">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP(15) [Id]
                                        	  ,[Machine]
                                              ,[StatusTime]
                                              ,[Status]
                                              ,[SubStatus]
                                              ,[description]
                                          FROM [smartKPIMachineStatusData]
                                          where [StatusType] = convert(varchar(255), [[StatusType]])
                                          order by StatusTime asc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetUpdatedSmartKPIDataFromDatabase">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>200.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT [Id]
                                              ,[CreationTime]
                                              ,[Machine]
                                              ,[Station]
                                              ,[ProductionTime]
                                              ,[isPartOK]
                                              ,[PartNumber]
                                              ,[SerialNumber]
                                              ,[OrderNumber]
                                              ,[timePerPartSec]
                                              ,[ScrapReason]
                                              ,[isUpdated]
                                              ,[numberOfParts]
                                              ,[confirmToSAP]
                                              ,[confirmedToSAP]
                                              ,[SAPconfirmationResult]
                                              ,[SAPOperationNumber]
                                          FROM [smartKPI]
                                          where [isUpdated] = 1
                                          order by 1 desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetUTCOffsetAtDate">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        DECLARE @dt DATETIME = [[DateTime]];
                                        SELECT datediff(mi, @dt, CONVERT(DATETIME, @dt AT TIME ZONE 'Central European Standard Time' AT TIME ZONE 'UTC')) as Offset;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetUtilizationRail">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>9.9999999E7</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetSingleKPIRail @StartDateTime = [[TimeStart]], @EndDateTime = [[TimeEnd]], @Machine = [[Machine]], @KPIName=[[KPIType]];
                                        ]]>
                                        </sql>
                                        <timeout>180.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetUtilizationRailWithPercent">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                        	CalculationBase: CalculationBase,
                                        	KPIType: KPIType,
                                        	Machine: Machine,
                                        	TimeEnd: TimeEnd,
                                        	TimeStart: TimeStart
                                        };
                                        
                                        var result = me.GetUtilizationRail(params);
                                        
                                        var sum = 0;
                                        for (var i = 0; i < result.getRowCount(); i++) {
                                        	sum += result[i].TimeInMin;
                                        }
                                        
                                        if (sum > 0){
                                        	for (var i = 0; i < result.getRowCount(); i++) {
                                        		result[i].persentage = result[i].TimeInMin/sum * 100;
                                        	}
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                     <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetUtilizationTruck">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())-12,0);
                                        declare @dt2 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())+1,0);
                                        select 
                                            KPIDateTimeEnd,  
                                            KPIFloatValue from smartKPIValues
                                        	where Machine = [[Machine]] and KPIName = [[KPIName]] and KPITimeBase = [[KPITimeBase]] and KPIDateTimeEnd between @dt1 and @dt2
                                            order by KPIDateTimeEnd desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineDowntimeStatisticsSummary">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select sum (SumKPIFloatValue) as result from 
                                        (
                                            select [Machine], [KPIName], sum(KPIFloatValue) as SumKPIFloatValue, [KPIDateTime], [KPIDateTimeEnd] from [smartKPIValues] 
                                            where KPIName IN (
                                            'CVS: Main Station Downtime Statistic Changeover', 
                                            'CVS: Main Station Downtime Statistic Organisational Interruption', 
                                            'CVS: Main Station Downtime Statistic Planned Interruption',
                                            'CVS: Main Station Downtime Statistic Quality',
                                            'CVS: Main Station Downtime Statistic Technical Interruption',
                                            'CVS: Main Station Downtime Statistic Unknown',
                                            'CVS: Main Station Downtime Statistic Unplanned' 
                                            )
                                            and [KPITimeBase] = [[KPITimeBase]] and [Machine] = [[Machine]] and [KPIDateTime] = [[KPIDateTime]] and [KPIDateTimeEnd] = [[KPIDateTimeEnd]]
                                            group by [Machine], [KPIName], [KPIDateTime], [KPIDateTimeEnd]
                                         ) as FullViewStatistics
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineDowntimeStatisticLastYear">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt1 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())-12,0);
                                        declare @dt2 as datetime = dateadd(month, DATEDIFF(month,0,GETUTCDATE())+1,0);
                                        select 
                                            KPIDateTimeEnd,  
                                            sum (KPIFloatValue) as KPIFloatValue
                                            
                                            from smartKPIValues
                                        	where KPIName IN (
                                          'CVS: Main Station Downtime Statistic Changeover', 
                                          'CVS: Main Station Downtime Statistic Organisational Interruption', 
                                          'CVS: Main Station Downtime Statistic Planned Interruption',
                                          'CVS: Main Station Downtime Statistic Quality',
                                          'CVS: Main Station Downtime Statistic Technical Interruption',
                                          'CVS: Main Station Downtime Statistic Unknown',
                                          'CVS: Main Station Downtime Statistic Unplanned' 
                                          ) and Machine = [[Machine]] and KPITimeBase = [[KPITimeBase]] and KPIDateTimeEnd between @dt1 and @dt2
                                          group by KPIDateTimeEnd
                                            order by KPIDateTimeEnd desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetWCRelatedOrderProperty">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>20.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  [PropertyKey]
                                              ,[FloatValue]
                                              ,[TextValue]
                                              ,[DateTimeValue]
                                             
                                          FROM [smartKPIOrderKeyValueData]   a
                                          right join
                                          (select [Operation] FROM [smartKPIOrderKeyValueData] where TextValue=[[Workcenter]] and OrderNumber=[[OrderNumber]] ) b
                                          on a.[Operation]=b.[Operation]
                                          where [PropertyKey]=[[Property]]+'-'+b.Operation and OrderNumber=[[OrderNumber]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetWeeklyDowntimeStatisic">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        declare @dt as datetime = GETUTCDATE();
                                        select * from GetWeeklyDowntimeStatistic(@dt, [[MachineThing]], [[StationThing]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetWorkBreakShiftInfoByMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT
                                        	Id,
                                        	StartTime,
                                        	EndTime,
                                        	DATEDIFF(minute, StartTime, EndTime) AS Diff,
                                        	Qualifier,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0) AS T1,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7) AS T2
                                        FROM shiftCalendar
                                        WHERE Plant = [[PlantCode]]
                                        AND Machine = [[SAPMachineName]]
                                        AND StartTime >= dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0)
                                        AND StartTime < dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7)
                                        AND Qualifier IN ('W','B') --, 'N/A')
                                        ORDER BY
                                        	--dbo.MapShiftTypePrio(Qualifier),
                                            StartTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetWorkBreakShiftInfoWithMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT
                                        	Id,
                                            Machine,
                                        	StartTime,
                                        	EndTime,
                                        	DATEDIFF(minute, StartTime, EndTime) AS Diff,
                                        	Qualifier,
                                            Name,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0) AS T1,
                                        	dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7) AS T2,
                                            Utilization AS Label
                                        FROM shiftCalendar
                                        WHERE Plant = [[PlantCode]]
                                        AND Machine = [[SAPMachineName]]
                                        AND StartTime >= dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),-1)
                                        AND EndTime >= dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),0)
                                        AND StartTime < dateadd(week,datediff(week,0,GETUTCDATE()+[[NextNweek]]*7),7)
                                        AND Qualifier IN ('W','B') --, 'N/A')
                                        ORDER BY
                                        	--dbo.MapShiftTypePrio(Qualifier),
                                            StartTime
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="InsertOrUpdateMachineData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        logger.debug("InsertOrUpdateMachineData Started")
                                        var result = 0;
                                        try {
                                        	if (updateDataIfMachineIsActive === null || typeof(updateDataIfMachineIsActive)=="undefined") {
                                        		updateDataIfMachineIsActive = false;
                                        	}
                                        	
                                        	if (isMachineActive === null || typeof(isMachineActive)=="undefined") {
                                        		isMachineActive = false;
                                        	}
                                        	
                                        
                                        	logger.debug("InsertOrUpdateMachineData: updateDataIfMachineIsActive = " + updateDataIfMachineIsActive)
                                        	logger.debug("InsertOrUpdateMachineData: isMachineActive = " + isMachineActive)
                                        	
                                        	if (updateDataIfMachineIsActive) {
                                        		logger.debug("InsertOrUpdateMachineData: Merge Machine Data")
                                        	
                                        		var params2 = {
                                        			Machine: Machine /* STRING */,
                                        			isMachineActive: isMachineActive /* BOOLEAN */
                                        		};
                                        		
                                        		me.MergeMachine(params2);
                                        		
                                        		if (MachineKeyValues != null) {
                                        			var tableLength = MachineKeyValues.rows.length;
                                        
                                        			logger.debug("InsertOrUpdateMachineData: Merge Machine Key/Value Data, tableLength = " + tableLength)
                                        			
                                        			for (var x = 0; x < tableLength; x++) {
                                        				var row = MachineKeyValues.rows[x];
                                        				//Your code here
                                        				
                                                        if (!isFinite(MachineKeyValues.rows[x].FloatValue)) {
                                                        	MachineKeyValues.rows[x].FloatValue = 0;
                                                        }
                                        			    
                                        			    var params = {
                                        			        Key: MachineKeyValues.rows[x].Key /* STRING */,
                                        			        FloatValue: parseFloat(MachineKeyValues.rows[x].FloatValue) /* NUMBER */,
                                        			        TextValue: MachineKeyValues.rows[x].TextValue /* STRING */,
                                        			        DateTimeValue: MachineKeyValues.rows[x].DateTimeValue /* DATETIME */,
                                        			        isFloatValue: MachineKeyValues.rows[x].isFloatValue /* BOOLEAN */,
                                        			        isTextValue: MachineKeyValues.rows[x].isTextValue /* BOOLEAN */,
                                        			        isDateTimeValue: MachineKeyValues.rows[x].isDateTimeValue /* BOOLEAN */,
                                        			        Machine: Machine /* STRING */,
                                        			        PropertySubKey1: MachineKeyValues.rows[x].PropertySubKey1 /* STRING */,
                                                            PropertySubKey2: MachineKeyValues.rows[x].PropertySubKey2 /* STRING */
                                        			    };
                                        			
                                        			    me.MergeMachineKeyValue(params);
                                        			
                                        			
                                        			}
                                        		}
                                                logger.debug("InsertOrUpdateMachineData, ok "); 
                                        		result = 10;
                                        	} else {
                                        		result = 12;
                                        	}
                                        } catch(err) {
                                            logger.error("Error on InsertOrUpdateMachineData, general error: " + err);
                                        	result = 11;
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="InsertOrUpdateOrderData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        logger.debug("InsertOrUpdateOrderData Started")
                                        var result = 0;
                                        
                                        try {
                                        
                                        	if (updateDataIfProductionStarted === null || typeof(updateDataIfProductionStarted)=="undefined") {
                                        		updateDataIfProductionStarted = false;
                                        	}
                                        
                                        	logger.debug("InsertOrUpdateOrderData: updateDataIfProductionStarted = " + updateDataIfProductionStarted)
                                        	
                                        	var params = {
                                        		OrderNumber: OrderNumber /* STRING */,
                                        		System: System /* STRING */
                                        	};
                                        	
                                        	var productionStarted = me.isProductionStarted(params).rows[0].isProductionStarted;
                                        	logger.debug("InsertOrUpdateOrderData: productionStarted = " + productionStarted)
                                        	
                                        	if (updateDataIfProductionStarted || !productionStarted) {
                                        		logger.debug("InsertOrUpdateOrderData: Merge Order Data")
                                        	
                                        		var params = {
                                        			OrderNumber: OrderNumber /* STRING */,
                                        			System: System /* STRING */,
                                        			isProductionStarted: isProductionStarted /* BOOLEAN */,
                                        			PlantId: PlantId
                                        		};
                                        		
                                        		me.MergeOrder(params);
                                        		
                                        		if (OrderKeyValues != null) {
                                        			var tableLength = OrderKeyValues.rows.length;
                                        
                                        			logger.debug("InsertOrUpdateOrderData: Merge Order Key/Value Data, tableLength = " + tableLength);
                                        			
                                        			for (var x = 0; x < tableLength; x++) {
                                        				var row = OrderKeyValues.rows[x];
                                        				//Your code here
                                        			    
                                        			    var params = {
                                        			        Key: OrderKeyValues.rows[x].Key /* STRING */,
                                        			        FloatValue: OrderKeyValues.rows[x].FloatValue /* NUMBER */,
                                        			        TextValue: OrderKeyValues.rows[x].TextValue /* STRING */,
                                        			        DateTimeValue: OrderKeyValues.rows[x].DateTimeValue /* DATETIME */,
                                        			        isFloatValue: OrderKeyValues.rows[x].isFloatValue /* BOOLEAN */,
                                        			        isTextValue: OrderKeyValues.rows[x].isTextValue /* BOOLEAN */,
                                        			        isDateTimeValue: OrderKeyValues.rows[x].isDateTimeValue /* BOOLEAN */,
                                        			        OrderNumber: OrderNumber /* STRING */,
                                        			        System: System /* STRING */,
                                        			        PlantId: PlantId
                                        			    };
                                        			
                                        			    me.MergeOrderKeyValue(params);
                                        			
                                        			
                                        			}
                                        		}
                                        		result = 10;
                                        	} else {
                                        		result = 12;
                                        	}
                                        } catch(err) {
                                        	result = 11;
                                                                          			logger.error("InsertOrUpdateOrderData: Error: " + err);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="InsertOrUpdateUserData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="Script"
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        logger.debug("InsertOrUpdateUserData Started")
                                        var result = 0;
                                        try {
                                        	if (updateDataIfUserIsActive === null || typeof(updateDataIfUserIsActive)=="undefined") {
                                        		updateDataIfUserIsActive = false;
                                        	}
                                        	
                                        	if (isUserActive === null || typeof(isUserActive)=="undefined") {
                                        		isUserActive = false;
                                        	}
                                        	
                                        
                                        	logger.debug("InsertOrUpdateUserData: updateDataIfUserIsActive = " + updateDataIfUserIsActive)
                                        	logger.debug("InsertOrUpdateUserData: isUserActive = " + isUserActive)
                                        	
                                        	if (updateDataIfUserIsActive) {
                                        		logger.debug("InsertOrUpdateUserData: Merge User Data")
                                        	
                                        		var params2 = {
                                        			User: User /* STRING */,
                                        			isUserActive: isUserActive /* BOOLEAN */,
                                        			System: System
                                        		};
                                        		
                                        		me.MergeUser(params2);
                                        		
                                        		if (UserKeyValues != null) {
                                        			var tableLength = UserKeyValues.rows.length;
                                        
                                        			logger.debug("InsertOrUpdateUserData: Merge User Key/Value Data, tableLength = " + tableLength)
                                        			
                                        			for (var x = 0; x < tableLength; x++) {
                                        				var row = UserKeyValues.rows[x];
                                        				//Your code here
                                        				
                                                        if (!isFinite(UserKeyValues.rows[x].FloatValue)) {
                                                        	UserKeyValues.rows[x].FloatValue = 0;
                                                        }
                                        			    
                                        			    var params = {
                                        			        Key: UserKeyValues.rows[x].Key /* STRING */,
                                        			        FloatValue: parseFloat(UserKeyValues.rows[x].FloatValue) /* NUMBER */,
                                        			        TextValue: UserKeyValues.rows[x].TextValue /* STRING */,
                                        			        DateTimeValue: UserKeyValues.rows[x].DateTimeValue /* DATETIME */,
                                        			        isFloatValue: UserKeyValues.rows[x].isFloatValue /* BOOLEAN */,
                                        			        isTextValue: UserKeyValues.rows[x].isTextValue /* BOOLEAN */,
                                        			        isDateTimeValue: UserKeyValues.rows[x].isDateTimeValue /* BOOLEAN */,
                                        			        User: User /* STRING */,
                                        			        System: System
                                        			    };
                                        			
                                        			    me.MergeUserKeyValue(params);
                                        			
                                        			
                                        			}
                                        		}
                                                logger.debug("InsertOrUpdateUserData, ok "); 
                                        		result = 10;
                                        	} else {
                                        		result = 12;
                                        	}
                                        } catch(err) {
                                            logger.error("Error on InsertOrUpdateUserData, general error: " + err);
                                        	result = 11;
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="isApoWorkingTime">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT 1 as result
                                          FROM shiftCalendar
                                          where [Machine] = convert(varchar(255), [[SAPWorkcenternumber]])
                                          and [Qualifier] = 'W'
                                          and GETUTCDATE() between [StartTime] and [EndTime]
                                        union select 0 
                                        where not exists 
                                        (SELECT 1
                                          FROM shiftCalendar
                                          where [Machine] = convert(varchar(255), [[SAPWorkcenternumber]])
                                          and [Qualifier] = 'W'
                                          and GETUTCDATE() between [StartTime] and [EndTime]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="IsMachineActive">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select isMachineActive
                                        	from [smartKPIMachineData] 
                                        	where [Machine] = convert(varchar(255), [[Machine]])
                                        union
                                        select 0 
                                        	where not exists  
                                        	(select isMachineActive 
                                        		from [smartKPIMachineData] 
                                        		where [Machine] = convert(varchar(255), [[Machine]]))
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="isOrderKeyValueDataCopied">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT COUNT(*) [Count]
                                            FROM smartKPIOrderKeyValueData
                                            WHERE OrderNumber = [[OrderNumber]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="isProductionStarted">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        select isProductionStarted 
                                        	from [smartKPIOrderData] 
                                        	where [OrderNumber] = convert(varchar(255), [[OrderNumber]])
                                        	and [System] = convert(varchar(255), [[System]])
                                        union
                                        select 0 
                                        	where not exists  
                                        	(select isProductionStarted 
                                        		from [smartKPIOrderData] 
                                        		where [OrderNumber] = convert(varchar(255), [[OrderNumber]])
                                        		and [System] = convert(varchar(255), [[System]]))
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="LabelPrintOrderNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT[OrderNumber]
                                        FROM[smartKPIOrderKeyValueData]
                                        where System = 'KBRailSAPServer'
                                        and PropertyKey1 = 'Line'
                                        and TextValue = [[SAPWorkcenterNumber]]
                                        and OrderNumber in
                                        	(SELECT SUBSTRING([OrderNumber],0,CHARINDEX('-',[OrderNumber]))
                                             FROM[smartKPIOrderData]
                                             where System = 'KBRailSAPServer'
                                             AND [isProductionStarted] = 0
                                             AND CHARINDEX('-',[OrderNumber])>0)
                                        order by 1
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="LabelPrintSerialNumber">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT replace(LTRIM(replace(SUBSTRING([OrderNumber],CHARINDEX ( '-',[OrderNumber] )+1,LEN([OrderNumber])-CHARINDEX ( '-',[OrderNumber] )),'0',' ')),' ','0') as SerialNumber,
                                                 SUBSTRING([OrderNumber],CHARINDEX ( '-',[OrderNumber] )+1,LEN([OrderNumber])-CHARINDEX ( '-',[OrderNumber] )) as SerialNumberFull,
                                          		 replace(LTRIM(replace(SUBSTRING([OrderNumber],CHARINDEX ( '-',[OrderNumber] )+1,LEN([OrderNumber])-CHARINDEX ( '-',[OrderNumber] )),'0',' ')),' ','0') as SerialNumberExt
                                        	  FROM [smartKPIOrderData]
                                        	  where System = 'KBRailSAPServer'
                                        	  and [isProductionStarted] = 0
                                        	  and CHARINDEX ( '-',[OrderNumber] ) > 0
                                        	  and OrderNumber like [[OrderNumber]]+'-%'
                                        union
                                          SELECT replace(LTRIM(replace(SUBSTRING([OrderNumber],CHARINDEX ( '-',[OrderNumber] )+1,LEN([OrderNumber])-CHARINDEX ( '-',[OrderNumber] )),'0',' ')),' ','0')  as SerialNumber,
                                          		 SUBSTRING([OrderNumber],CHARINDEX ( '-',[OrderNumber] )+1,LEN([OrderNumber])-CHARINDEX ( '-',[OrderNumber] )) as SerialNumberFull,
                                                 replace(LTRIM(replace(SUBSTRING([OrderNumber],CHARINDEX ( '-',[OrderNumber] )+1,LEN([OrderNumber])-CHARINDEX ( '-',[OrderNumber] )),'0',' ')),' ','0')+'-already printed!' as SerialNumberExt
                                        	  FROM [smartKPIOrderData]
                                        	  where System = 'KBRailSAPServer'
                                        	  and [isProductionStarted] = 1
                                        	  and CHARINDEX ( '-',[OrderNumber] ) > 0
                                        	  and OrderNumber like [[OrderNumber]]+'-%'
                                              and [[showAlreadyPrintedSerialNumbers]] = 1
                                        order by 1;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MarkPartAsConfirmed">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPI]
                                          set confirmedToSAP = 1, SAPconfirmationResult = [[SAPconfirmationResult]], isUpdated = 1
                                          where Id = [[Id]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MarkPmStatusAsSent">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPIMachineStatusData]
                                          set [description] = [description]+[[SapPmResult]], [SubStatus]='Processed'
                                          where Id = [[Id]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        		--SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        		INSERT into smartKPIMachineData ([Machine], [isMachineActive])  
                                        		select [[Machine]], ISNULL([[isMachineActive]], 0)
                                        		where not exists (select 'ok' from smartKPIMachineData where Machine = convert(varchar(255), [[Machine]])); 
                                        
                                                UPDATE smartKPIMachineData
                                        			set [isMachineActive] = ISNULL([[isMachineActive]], 0),
                                                        [UpdateTime] = GETDATE(),
                                                        [UTCUpdateTime] = GETUTCDATE()
                                                        where Machine = convert(varchar(255), [[Machine]]);
                                        
                                            
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeMachineKeyValue">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        						--SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        		INSERT into smartKPIMachineKeyValueData ([PropertyKey]
                                                       ,[FloatValue]
                                                       ,[TextValue]
                                                       ,[DateTimeValue]
                                                       ,[isFloatValue]
                                                       ,[isTextValue]
                                                       ,[isDateTimeValue]
                                                       ,[UpdateTime]  
                                                       ,UTCUpdateTime
                                                       ,[Machine]
                                                       ,[PropertySubKey1]
                                                       ,[PropertySubKey2])
                                        		select [[Key]], [[FloatValue]], [[TextValue]], [[DateTimeValue]], 
                                                    	ISNULL([[isFloatValue]], 0), ISNULL([[isTextValue]], 0), ISNULL([[isDateTimeValue]], 0), 
                                                        GETDATE(), GETUTCDATE(), [[Machine]], [[PropertySubKey1]],[[PropertySubKey2]]
                                                        where not exists (select 'ok' from smartKPIMachineKeyValueData  
                                                        	where PropertyKey = convert(varchar(255), [[Key]])
                                        				
                                        					and Machine = convert(varchar(255), [[Machine]])
                                        					and PropertySubKey1 = convert(varchar(150), [[PropertySubKey1]])
                                        					and PropertySubKey2 = convert(varchar(150), [[PropertySubKey2]])); 
                                        
                                                UPDATE smartKPIMachineKeyValueData
                                        			set [FloatValue] = [[FloatValue]]
                                                       ,[TextValue] = [[TextValue]]
                                                       ,[DateTimeValue] = [[DateTimeValue]]
                                                       ,[isFloatValue] = ISNULL([[isFloatValue]], 0)
                                                       ,[isTextValue] = ISNULL([[isTextValue]], 0)
                                                       ,[isDateTimeValue] = ISNULL([[isDateTimeValue]], 0)
                                                       ,[UpdateTime] = GETDATE()
                                                       ,[UTCUpdateTime] = GETUTCDATE()
                                                    where PropertyKey = convert(varchar(255), [[Key]])
                                        					and Machine = convert(varchar(255), [[Machine]])
                                        					and PropertySubKey1 = convert(varchar(150), [[PropertySubKey1]])
                                        					and PropertySubKey2 = convert(varchar(150), [[PropertySubKey2]]);
                                            
                                            
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeOrder">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        											--SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        		INSERT into smartKPIOrderData ([OrderNumber], [System], [isProductionStarted])  
                                        		select [[OrderNumber]], [[System]], ISNULL([[isProductionStarted]], 0)
                                        		where not exists (select 'ok' from smartKPIOrderData where OrderNumber = convert(varchar(255), [[OrderNumber]]) and System = convert(varchar(255), [[System]])); 
                                        
                                                UPDATE smartKPIOrderData
                                        			set [isProductionStarted] = ISNULL([[isProductionStarted]], 0),
                                                        [UpdateTime] = GETDATE(),
                                                        [UTCUpdateTime] = GETUTCDATE(),
                                                        [PlantId] = [[PlantId]]
                                                        where OrderNumber = convert(varchar(255), [[OrderNumber]]) and System = convert(varchar(255), [[System]]);
                                        
                                            
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeOrderWithoutProductionStatusChange">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        		INSERT into smartKPIOrderData ([OrderNumber], [System], [isProductionStarted], [PlantId], [UpdateTime], [UTCUpdateTime])  
                                        		select [[OrderNumber]], [[System]], ISNULL([[isProductionStarted]], 0), [[PlantId]], GETDATE(), GETUTCDATE()
                                        		where not exists (select 'ok' from smartKPIOrderData where OrderNumber = convert(varchar(255), [[OrderNumber]]) and System = convert(varchar(255), [[System]])); 
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeOrderKeyValue">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        exec MergeOrderKeyValue
                                        	@DateTimeValue = [[DateTimeValue]],
                                        	@FloatValue = [[FloatValue]],
                                        	@isDateTimeValue = [[isDateTimeValue]],
                                        	@isFloatValue = [[isFloatValue]],
                                        	@isTextValue = [[isTextValue]],
                                        	@Key = [[Key]],
                                        	@OrderNumber = [[OrderNumber]],
                                        	@PlantId = [[PlantId]],
                                        	@System = [[System]],
                                        	@TextValue = [[TextValue]];
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeOrderKeyValueWithNonStandardKey">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        exec MergeOrderKeyValue
                                        	@DateTimeValue = [[DateTimeValue]],
                                        	@FloatValue = [[FloatValue]],
                                        	@isDateTimeValue = [[isDateTimeValue]],
                                        	@isFloatValue = [[isFloatValue]],
                                        	@isTextValue = [[isTextValue]],
                                        	@Key = [[Key]],
                                        	@OrderNumber = [[OrderNumber]],
                                        	@PlantId = [[PlantId]],
                                        	@System = [[System]],
                                        	@TextValue = [[TextValue]],
                                        	@Key1 = [[Key1]],
                                        	@Key2 = [[Key2]];
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeUser">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        		--SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        		INSERT into smartKPIUserData ([UserId], [isUserActive], [System])  
                                        		select [[User]], ISNULL([[isUserActive]], 0), [[System]]
                                        		where not exists (select 'ok' from smartKPIUserData where UserId = convert(varchar(255), [[User]])); 
                                        
                                                UPDATE smartKPIUserData
                                        			set [isUserActive] = ISNULL([[isUserActive]], 0),
                                                        [UpdateTime] = GETDATE(),
                                                        [UTCUpdateTime] = GETUTCDATE()
                                                        where UserId = convert(varchar(255), [[User]]);
                                        
                                            
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="MergeUserKeyValue">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        						--SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        		INSERT into smartKPIUserKeyValueData ([PropertyKey]
                                                       ,[FloatValue]
                                                       ,[TextValue]
                                                       ,[DateTimeValue]
                                                       ,[isFloatValue]
                                                       ,[isTextValue]
                                                       ,[isDateTimeValue]
                                                       ,[UpdateTime]  
                                                       ,UTCUpdateTime
                                                       ,[UserId]
                                                       ,[System])
                                        		select [[Key]], [[FloatValue]], [[TextValue]], [[DateTimeValue]], 
                                                    	ISNULL([[isFloatValue]], 0), ISNULL([[isTextValue]], 0), ISNULL([[isDateTimeValue]], 0), 
                                                        GETDATE(), GETUTCDATE(), [[User]],[[System]]
                                                        where not exists (select 'ok' from smartKPIUserKeyValueData  
                                                        	where PropertyKey = convert(varchar(255), [[Key]])
                                        					and UserId = convert(varchar(255), [[User]])
                                        					and System = convert(varchar(255), [[System]])); 
                                        
                                                UPDATE smartKPIUserKeyValueData
                                        			set [FloatValue] = [[FloatValue]]
                                                       ,[TextValue] = [[TextValue]]
                                                       ,[DateTimeValue] = [[DateTimeValue]]
                                                       ,[isFloatValue] = ISNULL([[isFloatValue]], 0)
                                                       ,[isTextValue] = ISNULL([[isTextValue]], 0)
                                                       ,[isDateTimeValue] = ISNULL([[isDateTimeValue]], 0)
                                                       ,[UpdateTime] = GETDATE()
                                                       ,[UTCUpdateTime] = GETUTCDATE()
                                                    where PropertyKey = convert(varchar(255), [[Key]])
                                        					and UserId = convert(varchar(255), [[User]])
                                        					and System = convert(varchar(255), [[System]]);
                                            
                                            
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="nextNweekOP">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var result = NextNweek + increment;
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="NOKReasonsForMashup">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params = {
                                            infoTableName : "InfoTable",
                                            dataShapeName : "KBLossesDataShape"
                                        };
                                        
                                        // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(KBLossesDataShape)
                                        var NOKReasonInfotable = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                        var query = {
                                         "filters": {
                                           "type": "GT",
                                           "fieldName": "numberOfParts",
                                           "value": "0"
                                         }
                                        };
                                        var params2 = {
                                        t: NOKReasons,
                                        query: query
                                        };
                                        result = Resources["InfoTableFunctions"].Query(params2);
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="ParseXMLString">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        let result = inputXML;
                                        try {
                                        	 result = "";
                                        	let xmlArr = inputXML.split("><");
                                        	let xmlLength = xmlArr.length;
                                        	for (let i = 0; i < xmlLength; i++) {
                                        		if (i == 0) {
                                                    result = '<div xmlns="http://www.w3.org/1999/xhtml" class="pretty-print"><div class="folder" id="folder0"><div class="line"><span class="folder-button fold"></span><span class="html-tag">&lt;';
                                        			result = result + xmlArr[i].substring(1)+'&gt;</span></div><div class="opened"><span>';
                                        		}
                                                if (i == (xmlLength - 1)) {
                                                   result = result + '</span></div><span class="folded hidden">...</span><div class="line"><span class="html-tag">&lt;/'+xmlArr[0].substring(1)+'&gt;</span></div></div></div>';
                                        		}
                                        		if (i !== 0 && i !== (xmlLength - 1)) {
                                        			let childDetail = xmlArr[i];
                                                    result = result + '  </span><div class="line"><span class="html-tag">&lt;'+childDetail.split(">")[0]+'&gt;</span><span>'+childDetail.split(">")[1].split("<")[0]+'</span><span class="html-tag">&lt;/'+childDetail.split(">")[0]+'&gt;</span></div><span>';
                                        		//	result = result + "This is the child attr-->" + childDetail.split(">")[0] + "-->";
                                        //result = result + "This is the child value-->" + childDetail.split(">")[1].split("<")[0] + "-->";
                                        		}
                                        	}
                                        } catch (err) {
                                            result = inputXML;
                                        	logger.error("Error occured in GetProcessDataForPDF service of " + me.name + " thing on line " + err.lineNumber + ": " + err + ", Error Message : " + err.message);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="PartInfoBoardProcessData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [dbo].[V_smartKPIProcessData]
                                          where [SerialNumber] = [[SerialNumber]]
                                          and 'empty' != [[SerialNumber]]
                                          and [PartNumber] = [[PartNumber]]
                                          order by ProductionTime desc, CreationTime desc, ProcesDataType;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="PartInfoboardProcessDataForTraceability">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT  Machine as Machine, PartNumber, SerialNumber,OrderNumber,( SELECT TextValue FROM [dbo].[smartKPIMachineKeyValueData]  where Machine=[[Machine]]
                                          		and  PropertyKey='SAPWorkcenterNumber') as WorkCenterNumber,
                                        		ProcesDataType as Measured_Item, ProcesDataType2 as Measured_Item2, description as Further_Description,
                                        		ProcesDataLSL as ProcessDataMIN, ProcessDataFloat as ProcessDataActual, ProcesDataUSL as ProcessDataMAX, ProductionTime,
                                                ProcessDataString, ProcessDataDateTime as Time_of_measured_data, comment       
                                        
                                          FROM [dbo].[V_smartKPIProcessData]
                                          where [SerialNumber] = [[SerialNumber]]
                                          and 'empty' != [[SerialNumber]]
                                          and [PartNumber] = [[PartNumber]]
                                          order by ProductionTime desc, CreationTime desc, ProcesDataType;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="PartInfoboardProcessDataForTraceabilityToExcel">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        logger.debug(me.name + ' - PartInfoboardProcessDataForTraceabilityToExcel - started ');
                                        
                                        try{
                                            // result: INFOTABLE dataShape: "KBCVSTimeLossRawDataShape"
                                            var ProcessInfoInfoTable =  me["PartInfoboardProcessDataForTraceability"]({
                                            	PartNumber: PartNumber ,
                                            	SerialNumber: SerialNumber,
                                                Machine: Machine
                                            });
                                            
                                            // result: HYPERLINK
                                        	var result =  Things["KBSmartKPIHelperThing"].InfotableToExcel({
                                        		ExportInfotable: ProcessInfoInfoTable /* INFOTABLE */,
                                            	FileName: "ProcessData" /* STRING */,
                                            	SheetName: "Process Data Board" /* STRING */
                                            });
                                        }catch(ex){
                                             
                                            logger.warn("Service error in PartInfoboardProcessDataForTraceabilityToExcel " + me.name + " at " +  ex.lineNumber +  ": " + ex);
                                        }
                                        logger.debug(me.name + ' - PartInfoboardProcessDataForTraceabilityToExcel - Service execution finished');
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="PartInfoBoardProduction">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT *
                                          FROM [smartKPI]
                                          where isnull([PartNumber],'') = CASE WHEN isnull([[PartNumber]],'') = '' then isnull([PartNumber],'') else isnull([[PartNumber]],'') end
                                          and isnull([SerialNumber],'') = CASE WHEN isnull([[SerialNumber]],'') = '' then isnull([SerialNumber],'') else isnull([[SerialNumber]],'') end
                                          order by [ProductionTime] desc;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="PartsAtLine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape({
    infoTableName : "InfoTable",
    dataShapeName : "KBPartsAtLineDataShape"
});
if(Machine!="" && Machine!=undefined && Machine!=null){
if (Resources["PTC.Factory.CommonUtilities"].DoesThingExists({thingName: Machine /* STRING */})) {
	if(Things[Machine].thingTemplate=='KBLocalStationThingTemplate'){
		if(Things[Machine].PartsAtLineForAndonScreen.rows.length>0){
			result = Things[Machine].PartsAtLineForAndonScreen;
			}
		}else{
			if(Things[Machine].thingTemplate=='KBLocalMachineThingTemplate'){
				if(Things[Machine].PartsAtLineForAndonScreen.rows.length>0){
					result = Things[Machine].PartsAtLineForAndonScreen;
					}
			}else{
                if(Things[Machine].thingTemplate=='KBLocalMachineThingTemplate'){
				if(Things[Things[Machine].MainStationForLineStatus].PartsAtLineForAndonScreen.rows.length>0){
					result = Things[Things[Machine].MainStationForLineStatus].PartsAtLineForAndonScreen;
					}
                }
			}
		}
}
}
} catch(err) {
											logger.error("Error on service PartsAtLine: " + err + " on thing:" + me.name+ " at:" + err.lineNumber);
										} 
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="RailOIV2OrdersInfo">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXECUTE dbo.GetRailLast5Orders @Station = [[Station]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="SetSmartKPIKepwareConnectorPointer">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        insert into [smartKPIKepwareConnectorPointer] ([Machine] ,[UpdatedId])
                                        select [[Identifier]], [[Id]] 
                                        where not exists (select 'ok' from [smartKPIKepwareConnectorPointer] where Machine = convert(varchar(255), [[Identifier]]));
                                          
                                        update [smartKPIKepwareConnectorPointer] set [LastRun] = GETUTCDATE(), [UpdatedId] = [[Id]]
                                        where [Machine] = convert(varchar(255), [[Identifier]])
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="tempCmdshiftCalendar">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql></sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="tempJS">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var params3 = {
                                        maxItems: undefined /* NUMBER */,
                                        nameMask: undefined /* STRING */,
                                        query: undefined /* QUERY */,
                                        thingTemplate: "KBLocalPlantThingTemplate" /* THINGTEMPLATENAME */,
                                        tags: undefined /* TAGS */
                                        };
                                        var result = Resources["SearchFunctions"].SearchThingsByTemplate(params3);
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="tempQueryshiftCalendar">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT TOP 20 *
                                        
                                        FROM v_shiftCalendar_machinelist
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="updateCAPSOrderError">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPIOrderData] set CAPSOrderError = [[CAPSOrderError]], [UpdateTime]=getdate(), [UTCUpdateTime]=getUtcdate()
                                        where OrderNumber = convert(varchar(255), [[OrderNumber]] )
                                        and System = convert(varchar(255), [[System]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdateInactiveDevices">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        update smartKPIDevices set isActive = 0 where UTCUpdateTime != [[UpdateTime]] or UTCUpdateTime is null;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="updateIsCAPSEmployeeDataUpdated">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPIUserData] set isCAPSDataUpdated = [[isCAPSDataUpdated]] 
                                        where UserId = convert(varchar(255), [[EmployeeNumber]] )
                                        and System = convert(varchar(255), [[System]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="updateIsCAPSOrderDataUpdated">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPIOrderData] set isCAPSDataUpdated = [[isCAPSDataUpdated]] , [UpdateTime]=getdate(), [UTCUpdateTime]=getUtcdate()
                                        where OrderNumber = convert(varchar(255), [[OrderNumber]] )
                                        and System = convert(varchar(255), [[System]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="updateIsCAPSOrderError">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPIOrderData] set isCAPSOrderError = [[isCAPSOrderError]], [UpdateTime]=getdate(), [UTCUpdateTime]=getUtcdate()
                                        where OrderNumber = convert(varchar(255), [[OrderNumber]] )
                                        and System = convert(varchar(255), [[System]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="updateIsCAPSProductionFinalized">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPIOrderData] set isCAPSProductionFinalized = [[isCAPSProductionFinalized]], [UpdateTime]=getdate(), [UTCUpdateTime]=getUtcdate() 
                                        where OrderNumber = convert(varchar(255), [[OrderNumber]] )
                                        and System = convert(varchar(255), [[System]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdateMachineFloatDataDatabase_RemoveUpdateIdentifier">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        											update [smartKPIMachineFloatData] set [isUpdated] = 0 where [Id] = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdateMachineStatusData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        update [smartKPIMachineStatusData] 
                                        	set Status = [[NewStatus]], SubStatus=[[NewSubStatus]], 
                                        	description= 'Manual Updated' 
                                        	where Id = [[Id]]
                                        	and isnull([[NewStatus]],'') != ''
                                        	and isnull([[NewSubStatus]],'') != '';
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdateMachineStatusDataProcessIdentirfier">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        update [smartKPIMachineStatusData] set [SubStatus]=[[Status]] where [Id] = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdateMachineStatusToCreated">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        update [smartKPIMachineStatusData] set [SubStatus] = 'Created' where [Id] = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdatePartsPerPalette">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        IF EXISTS(select OrderNumber from [smartKPIOrderKeyValueData] WHERE OrderNumber=convert(varchar(255), [[OrderNumber]])
                                        	AND [PropertyKey]= convert(varchar(255), 'PartsPerPallet-' + [[Operation]]))
                                           UPDATE [smartKPIOrderKeyValueData] SET [FloatValue]= [[PartsPerPalette]], UpdateTime=getdate(), UTCUpdateTime=getUtcdate() WHERE OrderNumber=convert(varchar(255), [[OrderNumber]]) AND [PropertyKey]= convert(varchar(255), 'PartsPerPallet-' + [[Operation]]);
                                           ELSE
                                        INSERT INTO [smartKPIOrderKeyValueData] ([CreationTime],[PropertyKey],[FloatValue],[isFloatValue],[isTextValue],[isDateTimeValue],[System],[OrderNumber])
                                        VALUES (GETDATE(),'PartsPerPallet-' + [[Operation]],[[PartsPerPalette]],1,0,0, [[System]],[[OrderNumber]]);
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdateSmartKPIDatabase_RemoveUpdateIdentifier">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --SET IMPLICIT_TRANSACTIONS OFF;
                                        											update [smartKPI] set [isUpdated] = 0 where [Id] = [[Id]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="UpdateTimePerPartAtDataTable">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        --begin transaction;
                                        SET IMPLICIT_TRANSACTIONS OFF;
                                        
                                        update smartKPI set smartKPI.timePerPartSec = V_SAPTimePerPart.timePerPartInSec
                                        from V_SAPTimePerPart
                                        where smartKPI.OrderNumber = V_SAPTimePerPart.orderNumberShort
                                        and smartKPI.timePerPartSec is null;
                                        
                                        --commit transaction;
                                        ]]>
                                        </sql>
                                        <timeout>300.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="valLevel2SapPmStatusOnStation">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT COUNT(*) AS Qty
                                        FROM smartKPIOperatorInputMachineDefinition
                                        WHERE Machine IN
                                        (
                                            'all',
                                            [[stationThing]],
                                            [[machineThing]]
                                        )
                                        AND Status = [[status]]
                                        AND isDeleted = 0;
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetLastDBRecordedOrder">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select Top(1) OrderNumber as result FROM [smartKPI] where Machine=[[Machine]] order by ProductionTime desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetBOMFromOrderData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>3000.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        Select * FROM
                                        (Select (SELECT splited_data FROM  dbo.split_string([PropertyKey1], '-') where place=1) as PropertyKey
                                        	,CAST((SELECT splited_data FROM  dbo.split_string([PropertyKey1], '-') where place=2) AS INT) as PropertyID
                                              ,[FloatValue]
                                              ,[TextValue]
                                              ,[Operation]
                                          FROM [smartKPIOrderKeyValueData] where OrderNumber=[[OrderNumber]] and [PropertyKey] like 'BOM%' ) a
                                          order by PropertyID
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetMachineFloatDataNOKReasonSum">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        var FloatDataNOKReasonDataInfoTable;
                                        try{
                                            if(FloatDataNOKReasonDataInfoTable.rows.length>0){
                                                TableLength=FloatDataNOKReasonDataInfoTable.rows.length;
                                            }
                                        }catch(err){
                                             FloatDataNOKReasonDataInfoTable =  me.GetFloatDataNOKReasons({
                                                	Machine: Machine /* STRING */,
                                                	StartTime: StartTime /* DATETIME */,
                                                	EndTime: EndTime /* DATETIME */
                                                });
                                        }
                                            try{
                                                if(FloatDataNOKReasonDataInfoTable.rows.length>0){
                                             	   TableLength=FloatDataNOKReasonDataInfoTable.rows.length;
                                                }
                                         }catch(err){
                                            	TableLength=0;
                                            logger.error('Service error in GetMachineFloatDataNOKReasonSum ' + me.name + ' at ' + err.lineNumber + ': ' + err);
                                         }
                                        
                                        try{
                                             var TotalSumCount=0;
                                             var CumulativePercentage=0;
                                            if(TableLength>0){
                                                var params = {
                                                    infoTableName : "InfoTable",
                                                    dataShapeName : "FloatDataNOKReasonSum2DataShape"
                                                };
                                                
                                                // CreateInfoTableFromDataShape(infoTableName:STRING("InfoTable"), dataShapeName:STRING):INFOTABLE(FloatDataNOKReasonSumDataShape)
                                                var result = Resources["InfoTableFunctions"].CreateInfoTableFromDataShape(params);
                                                
                                                if(LineOnly){
                                                	var query =
                                                            {
                                                                "filters": {
                                                                "type": "AND",
                                                                "filters": [
                                                                    {
                                                                        "type": "EQ",
                                                                        "fieldName": "ProcesDataType2",
                                                                        "value": 'Line'
                                                                    },
                                                                    {   "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Total Result"
                                                                    },
                                                                    {
                                                                        "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Result"
                                                                    }
                                                                ]
                                                            	}
                                                            }; 
                                                    
                                                    
                                                      {
                                                        
                                                            var params3 = {
                                                            	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                            	query: query /* QUERY */
                                                            };
                                                            FloatDataNOKReasonDataInfoTable = Resources["InfoTableFunctions"].Query(params3);
                                                
                                                }
                                                var params4 = {
                                                	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                	columns: "ProcesDataType" /* STRING */,
                                                	aggregates: "COUNT" /* STRING */,
                                                	groupByColumns: "ProcesDataType,ProcesDataType2,Machine"  /* STRING */
                                                };
                                            
                                             	var FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Aggregate(params4);
                                               
                                                 for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                 	TotalSumCount+=FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType;
                                                 }
                                             	FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Sort({
                                                	t: FloatDataNOKReasonDataSumInfoTable,
                                                	sortColumn: "COUNT_ProcesDataType",
                                                	ascending: false
                                                });
                                                
                                                var a=0;
                                                for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                    if(!Top10 || x<10){
                                                        var newEntry = new Object();
                                                        	CumulativePercentage+=(FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100;
                                                        	newEntry.Station=FloatDataNOKReasonDataSumInfoTable.rows[x].Machine;
                                                            newEntry.CumulativePercent = CumulativePercentage; // NUMBER
                                                        	newEntry.Percent = (FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100; // NUMBER
                                                            newEntry.COUNT_ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType; // NUMBER
                                                            newEntry.ProcesDataType2 = FloatDataNOKReasonDataSumInfoTable.rows[x].ProcesDataType2; // STRING
                                                            newEntry.ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].ProcesDataType; // STRING
                                                        result.AddRow(newEntry);
                                                    }
                                                }
                                        	}else{
                                        		var query =
                                                            {
                                                                "filters": {
                                                                "type": "AND",
                                                                "filters": [
                                                                    {
                                                                         "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Total Result"
                                                                    },
                                                                    {
                                                                        "type": "NE",
                                                                        "fieldName": "ProcesDataType",
                                                                        "value": "Result"
                                                                    }
                                                                ]
                                                            	}
                                                            }; 
                                                     
                                                            var params3 = {
                                                            	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                            	query: query /* QUERY */
                                                            };
                                                            FloatDataNOKReasonDataInfoTable = Resources["InfoTableFunctions"].Query(params3);
                                                
                                                
                                                var params4 = {
                                                	t: FloatDataNOKReasonDataInfoTable /* INFOTABLE */,
                                                	columns: "ProcesDataType" /* STRING */,
                                                	aggregates: "COUNT" /* STRING */,
                                                	groupByColumns: "ProcesDataType,Machine"  /* STRING */
                                                };
                                            
                                             	var FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Aggregate(params4);
                                        
                                                 for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                 	TotalSumCount+=FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType;
                                                 }
                                             	FloatDataNOKReasonDataSumInfoTable = Resources["InfoTableFunctions"].Sort({
                                                	t: FloatDataNOKReasonDataSumInfoTable,
                                                	sortColumn: "COUNT_ProcesDataType",
                                                	ascending: false
                                                });
                                                
                                                var a=0;
                                                for(x=0;x<FloatDataNOKReasonDataSumInfoTable.rows.length;x++){
                                                    if(!Top10 || x<10){
                                                        var newEntry = new Object();
                                                        	CumulativePercentage+=(FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100;
                                                         	newEntry.Station=FloatDataNOKReasonDataSumInfoTable.rows[x].Machine;
                                                            newEntry.CumulativePercent = CumulativePercentage; // NUMBER
                                                        	newEntry.Percent = (FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType/TotalSumCount)*100; // NUMBER
                                                            newEntry.COUNT_ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].COUNT_ProcesDataType; // NUMBER
                                                            newEntry.ProcesDataType2 = 'All'; // STRING
                                                            newEntry.ProcesDataType = FloatDataNOKReasonDataSumInfoTable.rows[x].ProcesDataType; // STRING
                                                        result.AddRow(newEntry);
                                                    }
                                                }
                                        	}
                                          }
                                        }catch(err) {
                                        logger.error('Service error in GetMachineFloatDataNOKReasonSum ' + me.name + ' at ' + err.lineNumber + ': ' + err);
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetNOKPartsFromMAData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        -- Used for KBSearchAndAddNOKPartsEL40VMTimerThing
                                        SELECT  [Machine],[ProductionTime],[PartNumber],[SerialNumber],[OrderNumber] FROM
                                        ( Select [[Machine]] as Machine
                                              ,a.[ProductionTime]
                                              ,a.[PartNumber] 
                                              ,[SerialNumber]
                                              ,[OrderNumber]     
                                          FROM [smartKPIProcessFloatData] a
                                         INNER JOIN
                                         (Select ProductionTime
                                          FROM [smartKPIProcessFloatData] WHERE (Machine = [[TestBench1]] or Machine=[[TestBench2]] or Machine=[[TestBench3]] or Machine=[[TestBench4]] or Machine=[[TestBench5]]) 
                                         and ProductionTime>[[StartTime]] and (description='NIO' or description='NOK')  and ProductionTime NOT IN
                                           (Select ProductionTime FROM [smartKPI] where [isPartOK]=0 and  Machine = [[Machine]]  and [ProductionTime]>[[StartTime]])
                                           ) b
                                         on a.ProductionTime=b.ProductionTime 
                                          WHERE Machine = [[Machine]] and a.ProductionTime>[[StartTime]] and [ProcesDataType]='Test Result' and [ProcesData]=0	
                                        ) c group by [Machine],[ProductionTime],[PartNumber],[SerialNumber],[OrderNumber]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetActualSAPScheduledOrder">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>3.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        -- used for KEK PLC
                                        SELECT	TOP (1) a.[OrderNumber]
                                              ,e.TextValue as Material
                                        	  ,c.DateTimeValue as 'ScheduledStartDate'
                                          FROM [smartKPIOrderKeyValueData] a 
                                        inner join
                                        (select OrderNumber FROM [smartKPIOrderKeyValueData] where TextValue=[[WorkCenter]] )
                                          b on a.OrderNumber=b.OrderNumber
                                        inner join
                                         (select DateTimeValue,OrderNumber FROM [smartKPIOrderKeyValueData] where (PropertyKey='ScheduledStartDate' and DateTimeValue<=getDate()))
                                         c on a.OrderNumber=c.OrderNumber
                                        inner join
                                         (select OrderNumber FROM [smartKPIOrderKeyValueData] where (PropertyKey='ScheduledFinishDate' and DateTimeValue>=getDate()))
                                         d on a.OrderNumber=d.OrderNumber
                                        inner join 
                                         (select TextValue,OrderNumber FROM [smartKPIOrderKeyValueData] where (PropertyKey='MaterialNumber'))
                                         e on a.OrderNumber=e.OrderNumber
                                         
                                         union all
                                        
                                        SELECT TOP (1) 
                                              a.[OrderNumber]
                                              ,e.TextValue as Material
                                        	  ,c.DateTimeValue as 'ScheduledStartDate'
                                          FROM [smartKPIOrderKeyValueData] a 
                                        inner join 
                                        (select OrderNumber FROM [smartKPIOrderKeyValueData] where TextValue=[[WorkCenter]] )
                                          b on a.OrderNumber=b.OrderNumber
                                        inner join
                                         (select DateTimeValue,OrderNumber FROM [smartKPIOrderKeyValueData] where (PropertyKey='ScheduledStartDate' and DateTimeValue>=getDate()) )
                                         c on a.OrderNumber=c.OrderNumber
                                        inner join 
                                         (select TextValue,OrderNumber FROM [smartKPIOrderKeyValueData] where (PropertyKey='MaterialNumber' ))
                                         e on a.OrderNumber=e.OrderNumber
                                        
                                         where PropertyKey='ScheduledStartDate' 
                                         Order by  ScheduledStartDate ,OrderNumber
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetStationRelatedOperationQty">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>1.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT count(*) as result
                                          FROM [smartKPIOrderKeyValueData]  where OrderNumber=[[OrderNumber]]  and PropertyKey1=[[PropertyKey1]] and TextValue1=[[WorkCenter]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetStartEndOfPartProduction">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT min([ProductionTime]) as FirstTime,max([ProductionTime]) as LaststTime
                                              
                                          FROM [smartKPI]  where OrderNumber=[[OrderNumber]]
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetMachineLastProcessData2">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT top(1) ProcesData, Unit,description,comment  FROM [smartKPIProcessFloatData]
                                          where  Machine=[[Machine]]  and ProcesDataType=[[ProcessDataType]]
                                          order by [ProductionTime] desc
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddProcessDateData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        insert into [smartKPIProcessDateTimeData] (Machine, ProductionTime, ProcesDataType, ProcesDataType2, TrackingNumber, Identifier)
                                        			select [[Machine]], [[ProductionTime]], [[ProcesDataType]], [[ProcesDataType2]],[[TrackingNumber]], [[Identifier]]
                                        			where not exists (select 'ok' from [smartKPIProcessDateTimeData] 
                                        			where Machine=[[Machine]]
                                        			and ProductionTime=[[ProductionTime]]
                                        			and ProcesDataType=[[ProcesDataType]]
                                        			and ProcesDataType2=[[ProcesDataType2]]
                                        			and TrackingNumber=[[TrackingNumber]]
                                        			and Identifier=[[Identifier]]);
                                        
                                        			update [smartKPIProcessDateTimeData] 
                                        			set ProcesData = [[ProcessDataDateTime]]
                                        				  ,SerialNumber = [[SerialNumber]]
                                        				  ,PartNumber = [[PartNumber]]
                                        				  ,OrderNumber = [[OrderNumber]]
                                        				  ,description = [[description]]
                                        				  ,PartNumberRevision = [[PartNumberRevision]]
                                        				  ,ProcesDataTargetValue = [[ProcesDataTargetValue]]
                                        			where Machine=[[Machine]]
                                        			and ProductionTime=[[ProductionTime]]
                                        			and ProcesDataType=[[ProcesDataType]]
                                        			and ProcesDataType2=[[ProcesDataType2]]
                                        			and TrackingNumber=[[TrackingNumber]]
                                        			and Identifier=[[Identifier]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="AddProcessStringData">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLCommand"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        insert into [smartKPIProcessStringData] (Machine, ProductionTime, ProcesDataType, ProcesDataType2, TrackingNumber, Identifier,ProcesData)
                                        			select [[Machine]], [[ProductionTime]], [[ProcesDataType]], [[ProcesDataType2]], [[TrackingNumber]], [[Identifier]]
                                        			where not exists (select 'ok' from [smartKPIProcessStringData] 
                                        			where Machine=[[Machine]]
                                        			and ProductionTime=[[ProductionTime]]
                                        			and ProcesDataType=[[ProcesDataType]]
                                        			and ProcesDataType2=[[ProcesDataType2]]
                                        			and TrackingNumber=[[TrackingNumber]]
                                        			and Identifier=[[Identifier]]);
                                        
                                        			update [smartKPIProcessStringData] 
                                        			set ProcesData = [[ProcesData]]
                                        				  ,SerialNumber = [[SerialNumber]]
                                        				  ,PartNumber = [[PartNumber]]
                                        				  ,OrderNumber = [[OrderNumber]]
                                        				  ,description = [[description]]
                                        				  ,PartNumberRevision =[[PartNumberRevision]]
                                                          ,ProcesDataTargetValue=[[ProcesDataTargetValue]]
                                                          ,comment =[[comment]]
                                        			where Machine=[[Machine]]
                                        			and ProductionTime=[[ProductionTime]]
                                        			and ProcesDataType=[[ProcesDataType]]
                                        			and ProcesDataType2=[[ProcesDataType2]]
                                        			and TrackingNumber=[[TrackingNumber]]
                                        			and Identifier=[[Identifier]];
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLCommand"
                     name="FillTEMPSmartKPIFullShiftForMachine">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        EXEC FillTEMPSmartKPIFullShiftForMachine @Machine = [[Machine]];
                                        ]]>
                                        </sql>
                                        <timeout>600.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetSumOfPartsPerMachineAndTime">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>2.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT sum(numberOfParts) as Quantity, isPartOK FROM smartKPI WHERE Machine=[[Machine]] and ProductionTime>=[[StartTime]] and ProductionTime<=[[EndTime]] group by isPartOK
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="SQLQuery"
                     name="GetCVSLoginTimeAtLineSum">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description="SQLQuery"
                             isMultiRow="false"
                             name="Query"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="maxItems"
                                         name="maxItems"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="sql"
                                         name="sql"
                                         ordinal="0"></FieldDefinition>
                                        <FieldDefinition
                                         baseType="NUMBER"
                                         description="timeout"
                                         name="timeout"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <maxItems>500.0</maxItems>
                                        <sql>
                                        <![CDATA[
                                        SELECT SUM(CONVERT(int,isLoggedIn)) as Id 
                                        FROM GetCVSLoginTimeAtLine1 ([[StartTime]],[[EndTime]],[[Station]])
                                        ]]>
                                        </sql>
                                        <timeout>60.0</timeout>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                    <ServiceImplementation
                     description=""
                     handlerName="Script"
                     name="GetMachineAllStationStaffPerTime">
                        <ConfigurationTables>
                            <ConfigurationTable
                             dataShapeName=""
                             description=""
                             isMultiRow="false"
                             name="Script"
                             ordinal="0">
                                <DataShape>
                                    <FieldDefinitions>
                                        <FieldDefinition
                                         baseType="STRING"
                                         description="code"
                                         name="code"
                                         ordinal="0"></FieldDefinition>
                                    </FieldDefinitions>
                                </DataShape>
                                <Rows>
                                    <Row>
                                        <code>
                                        <![CDATA[
                                        try{
                                            var result=0;
                                            var ListOfStationsLength;
                                            if(Machine!==undefined && Machine!==''  && Machine!==null){
                                            var ListOfStations=Things[Machine].KBLocalStationThings;
                                            try{
                                                ListOfStationsLength=ListOfStations.rows.length;
                                           	} catch(err) {
                                                ListOfStationsLength=0;
                                                
                                            } 
                                            var station;
                                            for(var x=0;x<ListOfStationsLength;x++){
                                            	station=ListOfStations[x].KBLocalStationThing;
                                            	if(station!==undefined && station!==''  && station!==null){
                                                     result =  result + parseInt(me.GetCVSLoginTimeAtLineSum({
                                                        StartTime: StartTime,
                                                        EndTime: EndTime,
                                                    	Station: Things[station].name 
                                                    }).Id);
                                                  }
                                                }
                                         	}
                                        } catch(err) {
                                        	logger.error("KBKPILocalThingWorxDatabaseThing GetMachineAllStationStaffPerTime: " + err + ' at ' + err.lineNumber +"");
                                        }
                                        ]]>
                                        </code>
                                    </Row>
                                </Rows>
                            </ConfigurationTable>
                        </ConfigurationTables>
                    </ServiceImplementation>
                </ServiceImplementations>
                <Subscriptions></Subscriptions>
            </ThingShape>
            <ImplementedShapes></ImplementedShapes>
            <SharedConfigurationTables></SharedConfigurationTables>
            <InstanceDesignTimePermissions>
                <Create></Create>
                <Read></Read>
                <Update></Update>
                <Delete></Delete>
                <Metadata></Metadata>
            </InstanceDesignTimePermissions>
            <InstanceRunTimePermissions>
                <Permissions
                 resourceName="GetFullShiftTime_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetTop10Losses">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetTargetOfPartsProduced">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="UpdateMachineStatusData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetActualPartsWithRQForOrder">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="PartsAtLine">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentOrLastShiftInfo">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetOperatorInputMachineDefinitionSingleValue">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetAllKpiDataForTruck">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentShiftTimeMinus">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSProductionTarget">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLISMessageLevel2DataForOperatorScreenRework">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetFullShiftTimeMinus">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLISMessageLevel2DataForOperatorScreenRetest">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetRailOrderFromConfirmationNumber">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetTimeDiff">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetAllKpiDataForRail_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetActualPartsWithDateDiff">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetTop1KpiData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLISMessageLevel2DataForOperatorScreenNOKParts">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentOrLastShiftInfo_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddQualityResultToDataTable_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="*">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBDBServiceUser"
                         type="User"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="LogOffAllUsersFromStation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddMachineMessageToDataTable">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetFullShiftTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddQualityResultToDataTable_Worker">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCulminatedNumberOfParts">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLosses">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastHourProductionTakt">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddMachineMessageToDataTable_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetRailOrderFromPartNumberAndOperation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddProcessFloatDataToDataTable">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetSingleKpiUtilizationOee2Truck">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetRailOrderFromNcProgram">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCulminatedNumberOfNOKParts">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetActualPartsWithRQ">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetOperatorInputMachineDefinitionList">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLossesForPareto">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetFullShiftTimeMinus_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineLocalizedStatusEntries">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetAllKpiDataForRail">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineStatusFromDB">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineReworkMessages">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineStatus">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineStatus">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCurrentShiftTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddQualityResultToDataTable">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddMachineStatusToDataTable_With_UTC_Time_Offset">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSProductionTargetDetail">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineStatusFromDate">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddProcessFloatDataToBufferDataTable">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetActualAndTarget">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetProducedParts">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetOrderNumber">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBTestBenchFileRepositoryUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="AddMachineStatusToDataTable">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineReworkTop10Messages">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetKpiDataForRail">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLastMachineStatusEntries">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetLISMessageLevel2DataForOperatorScreenPE">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMessagesForParetoMashup">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSTimeLossRawData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetKpiDataForTruck">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineStaffData">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineDataValue">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCumulativeDLP1DataMax">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSTimeLossRawDataPartial">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCumulativeDLP1Data">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetStationStaffLogonNumberPerStation">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSTimeLossRawDataPartialConsolidated">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineAllStationStaff">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBMesKitHelperUser"
                         type="User"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetCVSLoginTimeAtLineSum">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
                <Permissions
                 resourceName="GetMachineAllStationStaffPerTime">
                    <PropertyRead></PropertyRead>
                    <PropertyWrite></PropertyWrite>
                    <ServiceInvoke>
                    	<Principal
                         isPermitted="true"
                         name="KBMachineOperatorUserGroup"
                         type="Group"></Principal>
                        <Principal
                         isPermitted="true"
                         name="KBUserGroup"
                         type="Group"></Principal>
                    </ServiceInvoke>
                    <EventInvoke></EventInvoke>
                    <EventSubscribe></EventSubscribe>
                </Permissions>
            </InstanceRunTimePermissions>
            <InstanceVisibilityPermissions>
                <Visibility>
                    <Principal
                     isPermitted="true"
                     name="KBBackGroundWorker"
                     type="Organization"></Principal>
                </Visibility>
            </InstanceVisibilityPermissions>
        </ThingTemplate>
    </ThingTemplates>
</Entities>
